<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta name="theme-color" content="#123456"><meta name="generator" content="Hexo 4.2.0"><title>标签: C++ - Homepage of Jinghua Xu</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#3273dc"><meta name="application-name" content="Homepage of Jinghua Xu"><meta name="msapplication-TileImage" content="/img/photo.jpg"><meta name="msapplication-TileColor" content="#3273dc"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Homepage of Jinghua Xu"><meta name="apple-mobile-web-app-status-bar-style" content="default"><link rel="apple-touch-icon" sizes="144x144" href="/img/photo.jpg"><meta name="description" content="重庆大学2022级明月科创实验班人工智能专业本科在读"><meta property="og:type" content="blog"><meta property="og:title" content="Homepage of Jinghua Xu"><meta property="og:url" content="http://asgard-tim.github.io/"><meta property="og:site_name" content="Homepage of Jinghua Xu"><meta property="og:description" content="重庆大学2022级明月科创实验班人工智能专业本科在读"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://asgard-tim.github.io/img/og_image.png"><meta property="article:author" content="Tim"><meta property="article:tag" content="Blog"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://asgard-tim.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://Asgard-Tim.github.io"},"headline":"Homepage of Jinghua Xu","image":["http://asgard-tim.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Tim"},"publisher":{"@type":"Organization","name":"Homepage of Jinghua Xu","logo":{"@type":"ImageObject","url":"http://asgard-tim.github.io/img/title1.png"}},"description":"重庆大学2022级明月科创实验班人工智能专业本科在读"}</script><link rel="icon" href="/img/photo.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/xt256.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/title1.png" alt="Homepage of Jinghua Xu" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">时间轴</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com">GitHub</a><a class="navbar-item" target="_blank" rel="noopener" title="Contect me on GitHub" href="https://github.com/Asgard-Tim"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">标签</a></li><li class="is-active"><a href="#" aria-current="page">C++</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2025-04-07T05:26:58.000Z" title="2025/4/7 13:26:58">2025-04-07</time>发表</span><span class="level-item"><time datetime="2025-04-29T15:46:52.640Z" title="2025/4/29 23:46:52">2025-04-29</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE/">算法基础课</a></span><span class="level-item">22 分钟读完 (大约3277个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2025/04/07/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">第二章 数据结构</a></p><div class="content"><div id="postchat_postcontent"><h2 id="链表与邻接表"><a href="#链表与邻接表" class="headerlink" title="链表与邻接表"></a>链表与邻接表</h2><p>【一般实现方式：指针+结构体——动态链表（工程中常用）】</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">int</span> val;</span><br><span class="line">    Node *next;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Node</span>(); <span class="comment">// 非常慢，若要使用可以初始化n个节点</span></span><br></pre></td></tr></tbody></table></figure>

<p>这里介绍用<strong>数组模拟</strong>【静态链表】该数据结构的方式——速度快！</p>
<h3 id="单链表"><a href="#单链表" class="headerlink" title="单链表"></a>单链表</h3><blockquote>
<p>单链表中用的最多的是<strong>邻接表</strong>——n个单链表：将每个点（共有n个点）的所有邻边存下来</p>
<p>邻接表应用：存储图和树（e.g. 最短路问题、最小生成树问题、……）</p>
</blockquote>
<p>单链表基本结构：从头指针开始依次指向若干个节点，每个节点存储一个数值val和一个next指针，沿着next指针不断访问后续数据，直到指向空指针</p>
<p><img src="/images/acwing/2.1.png" alt="单链表基本结构"></p>
<p>数组模拟链表存储需要定义（均为整数型数组）：</p>
<ul>
<li>e[N]：存储各点数值val</li>
<li>ne[N]：存储各点next指针——空节点下标用-1表示</li>
</ul>
<p>二者通过下标关联 ： </p>
<p><img src="/images/acwing/2.2.png" alt="数组模拟单链表"></p>
<p>事实上，同一下标i对应的e[i]与ne[i]表示一个节点的数值val及其next指针，将其看作一个结构体会更好理解，但在代码实现过程中，为使得代码尽量简洁，选择直接对数组下标进行操作</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 结构体写法</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span></span><br><span class="line">{</span><br><span class="line">    <span class="type">int</span> e, ne;</span><br><span class="line">}nodes[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以删除为例：删除下标是k的节点“后面”的一个节点</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// 直接让k节点指向的节点变成其后的节点指向的节点</span></span><br><span class="line">    nodes[k].ne = nodes[nodes[k].ne].ne;   </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>需要注意：一个下标代表一个节点，各节点之间的指向关系仅由next指针（即ne[i]的值）决定</p>
<blockquote>
<p>单链表的性质：顺序（单向）访问——可以在O(1)的时间复杂度内找到指定节点的后一个节点（包括完成插入等操作），但如果要找到指定节点之前的节点，则只能从头指针head开始遍历</p>
</blockquote>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/828/">826. 单链表 - AcWing题库</a></strong></p>
<p>实现一个单链表，链表初始为空，支持三种操作：</p>
<ol>
<li>向链表头插入一个数；</li>
<li>删除第 k 个插入的数后面的一个数；</li>
<li>在第 k 个插入的数后插入一个数。</li>
</ol>
<p>现在要对该链表进行 M 次操作，进行完所有操作后，从头到尾输出整个链表。</p>
<p><strong>注意</strong>:题目中第 k 个插入的数并不是指当前链表的第 k 个数。例如操作过程中一共插入了 n 个数，则按照插入的时间顺序，这 n 个数依次为：第 1 个插入的数，第 2 个插入的数，…第 n 个插入的数。</p>
<p><strong>输入格式</strong></p>
<p>第一行包含整数 M，表示操作次数。</p>
<p>接下来 M 行，每行包含一个操作命令，操作命令可能为以下几种：</p>
<ol>
<li><code>H x</code>，表示向链表头插入一个数 x。</li>
<li><code>D k</code>，表示删除第 k 个插入的数后面的数（当 k 为 0 时，表示删除头结点）。</li>
<li><code>I k x</code>，表示在第 k 个插入的数后面插入一个数 x（此操作中 k 均大于 0）。</li>
</ol>
<p><strong>输出格式</strong></p>
<p>共一行，将整个链表从头到尾输出。</p>
<p><strong>数据范围</strong></p>
<p>1≤M≤100000 所有操作保证合法。</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// head 表示头节点的下标</span></span><br><span class="line"><span class="comment">// e[i] 表示节点i的值</span></span><br><span class="line"><span class="comment">// ne[i] 表示节点i的next指针是多少（i的下一个点的下标）</span></span><br><span class="line"><span class="comment">// idx 用于存储当前已经用到了哪个节点（存入新数据时将数据存入idx所在下标，并将idx往后移动一个下标）</span></span><br><span class="line"><span class="type">int</span> head, e[N], ne[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 需要注意：idx仅表示当前链表中有多少组节点（数值val+next指针），e[]和ne[]数组会随着idx的增加向后存储，这意味着这两个数组中的数据顺序与链表表示的数据顺序不一致</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    head = <span class="number">-1</span>;</span><br><span class="line">    idx = <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将x插入到头节点</span></span><br><span class="line"><span class="comment">// 这里采用头插入方式，若采用尾插入方式，可以基于后续的add函数并结合实时存储链表的尾端指针tail实现</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add_to_head</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    e [idx] = x; <span class="comment">// 第一步：将新数据x存入到数组e[]中</span></span><br><span class="line">    ne [idx] = head; <span class="comment">// 第二步：让新数据x所在节点中的next指针指向原来的头节点</span></span><br><span class="line">    head = idx; <span class="comment">// 第三步：让新数据x所在的节点变成新的头节点</span></span><br><span class="line">    idx ++ ; <span class="comment">// 数组中存入了一组新的数据（开辟了一个新节点）</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意：下述所谓“前/后”的概念是针对链表中的存储顺序，而非在数组模拟实现中数组内的位置关系</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将x插入到下标是k的节点（k节点）“后面”</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    e [idx] = x; <span class="comment">// 第一步：将新数据x存入到数组e[]中</span></span><br><span class="line">    ne [idx] = ne[k]; <span class="comment">// 第二步：让新数据x所在节点中的next指针指向原来k节点指向的节点</span></span><br><span class="line">    ne[k] = idx; <span class="comment">// 第三步：让k节点指向新数据x所在的节点</span></span><br><span class="line">    idx ++ ; <span class="comment">// 数组中存入了一组新的数据（开辟了一个新节点） </span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除节点：删除下标是k的节点“后面”的一个节点</span></span><br><span class="line"><span class="comment">// 动态链表【工程用】中删除节点（地址）时采取直接释放内存的方式；这里只是让该节点脱离链表结构，但并未释放该节点的存储</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// 直接让k节点指向的节点变成其后的节点指向的节点</span></span><br><span class="line">    ne[k] = ne[ne[k]];    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> M;</span><br><span class="line">    cin &gt;&gt; M;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">init</span>(); <span class="comment">// 链表初始化</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> flag;</span><br><span class="line">    <span class="type">int</span> k, x;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (M -- )</span><br><span class="line">    {</span><br><span class="line">        cin &gt;&gt; flag;</span><br><span class="line">        <span class="keyword">if</span> (flag == <span class="string">'H'</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 向链表头插入一个数</span></span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            <span class="built_in">add_to_head</span>(x);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (flag == <span class="string">'D'</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 删除第 k 个插入的数后面的一个数：由于idx已经存储了插入节点的数量，因此该操作实际意味着将下标是k - 1的节点（即插入的第k个节点）指向的下一个节点从链表中删去</span></span><br><span class="line">            cin &gt;&gt; k;</span><br><span class="line">            <span class="keyword">if</span> (k != <span class="number">0</span>)</span><br><span class="line">            	<span class="built_in">remove</span>(k - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                head = ne[head]; <span class="comment">// 当 k 为 0 时，表示删除头结点</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (flag == <span class="string">'I'</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 在第 k 个插入的数后插入一个数：与删除同理，于链表中，在下标是k - 1的节点（即插入的第k个节点）后插入一个新的节点</span></span><br><span class="line">            cin &gt;&gt; k &gt;&gt; x;</span><br><span class="line">            <span class="built_in">add</span>(k - <span class="number">1</span>, x);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> ptr = head;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (ptr != <span class="number">-1</span>)</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; e[ptr] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        ptr = ne[ptr];</span><br><span class="line">    }        </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="双链表"><a href="#双链表" class="headerlink" title="双链表"></a>双链表</h3><blockquote>
<p>用于优化某些问题</p>
</blockquote>
<p>基本结构与单链表一致，但每个节点会存储两个指针，一个指向前一个节点，另一个指向后一个节点</p>
<p>每个节点（下标）的指针存储方式：数组ne[] -&gt; 指向前一个节点的指针数组l[] + 指向后一个节点的指针数组r[]</p>
<p>双链表中不再定义头节点head与尾节点tail，而是直接令0号下标对应的节点为head节点、令1号下标对应的节点为tail节点</p>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/829/">827. 双链表 - AcWing题库</a></strong></p>
<p>实现一个双链表，双链表初始为空，支持 5 种操作：</p>
<ol>
<li>在最左侧插入一个数；</li>
<li>在最右侧插入一个数；</li>
<li>将第 k 个插入的数删除；</li>
<li>在第 k 个插入的数左侧插入一个数；</li>
<li>在第 k 个插入的数右侧插入一个数</li>
</ol>
<p>现在要对该链表进行 M 次操作，进行完所有操作后，从左到右输出整个链表。</p>
<p><strong>注意</strong>:题目中第 k 个插入的数并不是指当前链表的第 k 个数。例如操作过程中一共插入了 n 个数，则按照插入的时间顺序，这 n 个数依次为：第 1 个插入的数，第 2 个插入的数，…第 n 个插入的数。</p>
<p><strong>输入格式</strong></p>
<p>第一行包含整数 M，表示操作次数。</p>
<p>接下来 M 行，每行包含一个操作命令，操作命令可能为以下几种：</p>
<ol>
<li><code>L x</code>，表示在链表的最左端插入数 x。</li>
<li><code>R x</code>，表示在链表的最右端插入数 x。</li>
<li><code>D k</code>，表示将第 k 个插入的数删除。</li>
<li><code>IL k x</code>，表示在第 k 个插入的数左侧插入一个数。</li>
<li><code>IR k x</code>，表示在第 k 个插入的数右侧插入一个数。</li>
</ol>
<p><strong>输出格式</strong></p>
<p>共一行，将整个链表从左到右输出。</p>
<p><strong>数据范围</strong></p>
<p>1≤M≤100000 所有操作保证合法。</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>; </span><br><span class="line"></span><br><span class="line"><span class="type">int</span> head, e[N], l[N], r[N], idx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// 0表示左端点，1表示右端点</span></span><br><span class="line">    r[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    l[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    idx = <span class="number">2</span>; <span class="comment">// 0号和1号节点已被占用</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 于链表中，在存储下标为k的节点右侧插入一个点</span></span><br><span class="line"><span class="comment">// 若想在存储下标为k的节点左侧插入，直接调用add(l[k], x)即可</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    e[idx] = x; <span class="comment">// 第一步：将新数据x存入到数组e[]中</span></span><br><span class="line">    <span class="comment">// 第二步：右侧指针改动</span></span><br><span class="line">    r[idx] = r[k]; <span class="comment">// 让新数据x所在节点的右指针指向原来k节点右侧的节点</span></span><br><span class="line">    r[k] = idx; <span class="comment">// 让k节点的右指针指向新数据x所在的节点</span></span><br><span class="line">    <span class="comment">// 第三步：左侧指针改动</span></span><br><span class="line">    l[idx] = k; <span class="comment">// 让新数据x所在节点的左指针指向k节点</span></span><br><span class="line">    <span class="comment">// 注意：由于第二步已经将下标为k的节点的右指针指向转移到了插入的节点上，因此不可以再通过r[k]对原先在k节点右侧的节点进行索引！</span></span><br><span class="line">    l[r[idx]] = idx; <span class="comment">// 让原来k节点右侧的节点的左指针指向新数据x所在的节点</span></span><br><span class="line">    idx ++ ; <span class="comment">// 数组中存入了一组新的数据（开辟了一个新节点） </span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除下标是k的节点</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// 右指针：让k节点左侧节点的右指针指向k节点右指针指向的节点</span></span><br><span class="line">    r[l[k]] = r[k];    </span><br><span class="line">    <span class="comment">// 左指针：让k节点右侧节点的左指针指向k节点左指针指向的节点</span></span><br><span class="line">    l[r[k]] = l[k];    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> M;</span><br><span class="line">    cin &gt;&gt; M;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">init</span>(); <span class="comment">// 链表初始化</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> flag[<span class="number">2</span>]; <span class="comment">// 注意本题涉及操作标志可能包含两个字母，需分别读入并依次判断！</span></span><br><span class="line">    <span class="type">int</span> k, x;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (M -- )</span><br><span class="line">    {</span><br><span class="line">        cin &gt;&gt; flag[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">if</span> (flag[<span class="number">0</span>] == <span class="string">'L'</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 在链表的最左端插入一个数</span></span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            <span class="built_in">add</span>(<span class="number">0</span>, x); <span class="comment">// 0表示左端点；在链表的最左端插入一个数等效于在链表左端点右侧插入一个数</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (flag[<span class="number">0</span>] == <span class="string">'R'</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 在链表的最右端插入一个数</span></span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            <span class="built_in">add</span>(l[<span class="number">1</span>], x); <span class="comment">// 1表示右端点；在链表最右端插入一个数等效于在链表右端点左侧的节点后插入一个数</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (flag[<span class="number">0</span>] == <span class="string">'D'</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 删除第 k 个插入的数：由于idx已经存储了已插入节点的数量 + 2（因为存了左端点和右端点），因此该操作实际意味着将下标是k + 1的节点（即插入的第k个节点）从链表中删去</span></span><br><span class="line">            cin &gt;&gt; k;</span><br><span class="line">            <span class="built_in">remove</span>(k + <span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (flag[<span class="number">0</span>] == <span class="string">'I'</span>)</span><br><span class="line">        {</span><br><span class="line">            cin &gt;&gt; flag[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (flag[<span class="number">1</span>] == <span class="string">'R'</span>)</span><br><span class="line">            {</span><br><span class="line">                <span class="comment">// 在第 k 个插入的数右侧插入一个数</span></span><br><span class="line">                cin &gt;&gt; k &gt;&gt; x;</span><br><span class="line">                <span class="built_in">add</span>(k + <span class="number">1</span>, x); <span class="comment">// 与删除中同理，下标+1</span></span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (flag[<span class="number">1</span>] == <span class="string">'L'</span>)</span><br><span class="line">            {</span><br><span class="line">                <span class="comment">// 在第 k 个插入的数左侧插入一个数：可视为在第 k 个插入的数左侧的节点右侧插入一个数</span></span><br><span class="line">                cin &gt;&gt; k &gt;&gt; x;</span><br><span class="line">                <span class="built_in">add</span>(l[k + <span class="number">1</span>], x); <span class="comment">// 与删除中同理，下标+1</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> ptr = r[<span class="number">0</span>]; <span class="comment">// 0表示左端点；头指针指向r[0]</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (ptr != <span class="number">1</span>) <span class="comment">// 1表示右端点</span></span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; e[ptr] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        ptr = r[ptr];</span><br><span class="line">    }        </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="栈与队列"><a href="#栈与队列" class="headerlink" title="栈与队列"></a>栈与队列</h2><p>【一般实现方式：C++ STL中容器】</p>
<p>这里介绍用<strong>数组模拟</strong>该数据结构的方式。</p>
<h3 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h3><p>先进后出</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>; </span><br><span class="line"></span><br><span class="line"><span class="type">int</span> stk[N], tt; <span class="comment">// stk[]为栈模拟数组；tt表示栈顶下标</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入</span></span><br><span class="line">stk[ ++ tt] = x;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 弹出</span></span><br><span class="line">tt -- ;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断栈是否为空</span></span><br><span class="line"><span class="keyword">if</span> (tt &gt; <span class="number">0</span>)</span><br><span class="line">    <span class="comment">// not empty</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment">// empty</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 栈顶</span></span><br><span class="line">stk[tt];</span><br></pre></td></tr></tbody></table></figure>

<h3 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h3><p>先进先出</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>; </span><br><span class="line"></span><br><span class="line"><span class="type">int</span> q[N], hh, tt = <span class="number">-1</span>; <span class="comment">// q[]为队列模拟数组；hh为队头下标、tt为队尾下标</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在队尾插入元素</span></span><br><span class="line">q[ ++ tt] = x;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在队头弹出元素</span></span><br><span class="line">hh ++ ;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断队列是否为空</span></span><br><span class="line"><span class="keyword">if</span> (hh &lt;= tt)</span><br><span class="line">    <span class="comment">// not empty</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment">// empty</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// 取出队头元素</span></span><br><span class="line">q[hh];</span><br></pre></td></tr></tbody></table></figure>

<h3 id="单调栈"><a href="#单调栈" class="headerlink" title="单调栈"></a>单调栈</h3><h3 id="单调队列"><a href="#单调队列" class="headerlink" title="单调队列"></a>单调队列</h3><h2 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h2></div></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2025-03-30T15:50:58.000Z" title="2025/3/30 23:50:58">2025-03-30</time>发表</span><span class="level-item"><time datetime="2025-04-29T15:46:05.475Z" title="2025/4/29 23:46:05">2025-04-29</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE/">算法基础课</a></span><span class="level-item">1 小时读完 (大约11429个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2025/03/30/%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/">第一章 基础算法</a></p><div class="content"><div id="postchat_postcontent"><h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><p>主要思想：分治</p>
<p>时间复杂度：O(n*log{2}{n})【平均时间复杂度，最快可以达到n^2】</p>
<p>e.g. 对数组q的序号l至r区域进行排序</p>
<ol>
<li>确定<strong>分界点x（数值）</strong>：常用——左边界q[l]、**中心点处值q[(l+r)/2]**、右边界q[r]、随机</li>
<li><strong>调整区间：使所有小于（等于）x的值均位于x左侧，所有大于（等于）x的值都位于x右侧</strong>（区间内不要求有序）<ul>
<li>暴力做法（时间复杂度仍为O(n)，但会额外耗费空间）：<ol>
<li>新开两个数组a[]，b[]</li>
<li>对数组q的序号l至r区间进行扫描：<ul>
<li>若q[i]≤x，将q[i]放入a[]</li>
<li>若q[i]≥x，将q[i]放入b[]</li>
</ul>
</li>
<li>将a[]、b[]依次放回q[]中</li>
</ol>
</li>
<li><strong>推荐做法</strong>（使用指针）：<ol>
<li>从左边界q[l]处开始，使用指针i向右侧移动，若指针指向的数值大于等于x，停下</li>
<li>从右边界q[r]处开始，使用指针j向左侧移动，若指针指向的数值小于等于x，停下</li>
<li>交换指针i、j处的数值</li>
<li>重复1、2、3步骤（在移动后的指针i、j位置基础上继续向右/左侧移动），直到两个指针相遇</li>
</ol>
</li>
</ul>
</li>
<li>递归处理左右两段</li>
</ol>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/787/">785. 快速排序 - AcWing题库</a></strong></p>
<p>给定一个长度为 n 的整数数列。</p>
<p>请你使用快速排序对这个数列按照从小到大进行排序。</p>
<p>并将排好序的数列按顺序输出。</p>
<p><strong>输入格式</strong></p>
<p>输入共两行，第一行包含整数 n。</p>
<p>第二行包含 n 个整数（所有整数均在 1∼10^9范围内），表示整个数列。</p>
<p><strong>输出格式</strong></p>
<p>输出共一行，包含 n 个整数，表示排好序的数列。</p>
<p><strong>数据范围</strong></p>
<p>1≤n≤100000</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>; <span class="comment">// 保险，防止边界问题</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> q[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quick_sort</span><span class="params">(<span class="type">int</span> q[], <span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//判定边界：区间内只有一个数或没有数时不需要排序</span></span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> x = q[(l + r) / <span class="number">2</span>], i = l - <span class="number">1</span>, j = r + <span class="number">1</span>; <span class="comment">//取分界值</span></span><br><span class="line">    <span class="comment">//注意：由于每次完成交换（包括初始状态）都自动向中间移动一格，初始时要将两侧指针取在区间外侧1个单位</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) <span class="comment">//迭代：移动+交换</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">            i ++ ;</span><br><span class="line">        <span class="keyword">while</span> (q[i] &lt; x);</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">            j -- ;</span><br><span class="line">        <span class="keyword">while</span> (q[j] &gt; x);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; j)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//交换两数:swap(q[i], q[j]);</span></span><br><span class="line">            <span class="type">int</span> t = q[i];</span><br><span class="line">            q[i] = q[j];</span><br><span class="line">            q[j] = t;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">quick_sort</span>(q, l, j);</span><br><span class="line">    <span class="built_in">quick_sort</span>(q, j + <span class="number">1</span>, r);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;q[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">quick_sort</span>(q, <span class="number">0</span>, n<span class="number">-1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, q[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><p>主要思想：分治</p>
<p>时间复杂度：O(n*log{2}{n})</p>
<ul>
<li>时间复杂度计算：每次递归将当前序列分为2份（原序列-&gt;2份-&gt;4份-&gt;8份-&gt;……），直到每一份的长度为1时停止；显然这样的递归需要进行log{2}{n}轮，而对于每一轮而言又需要进行时间复杂度为O(n)的归并，因此整体排序算法的时间复杂度为两者相乘，即O(n*log{2}{n})</li>
</ul>
<p>e.g. 对数组q的序号l至r区域进行排序</p>
<ol>
<li>确定分界点：以数组<strong>中心点mid = (l+r)/2</strong>为分界点，将数组q分成Left、Right两部分</li>
<li>对两部分进行递归排序，使其各自成为有序序列</li>
<li><strong>归并：将两个有序数组合并成一个有序数组</strong><ul>
<li>双指针算法（时间复杂度为O(n)）：<ol>
<li>对于两个有序数组Left、Right而言，分别在其左端点处放置一个指针</li>
<li>比较两个数组指针处数值的大小，将更小的那一个放入输出的目标数组（初始为空）<ul>
<li>注意：若两个数组指针处数值大小相等，则优先将数组Left中的数值放入输出目标数组，则可保证排序算法的稳定</li>
<li>排序算法的稳定：排序完成后，原数组中值相同的数之间的相对位置不变（归并排序稳定，快速排序不稳定；若想使快速排序稳定，需要在对数值排序的基础上对各元素在原数组中的位置序号进行排序）</li>
</ul>
</li>
<li>对于更小的数值所在的数组而言，将指针向后移一位，重复步骤2（依次排入输出目标数组中）</li>
<li>重复步骤3，直到某个数组中所有的数全部被放入输出目标数组，则跳出循环，将另一个数组的所有剩余数值依次排入输出目标数组中，归并完成</li>
</ol>
</li>
</ul>
</li>
</ol>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/789/">787. 归并排序 - AcWing题库</a></strong></p>
<p>给定一个长度为 n 的整数数列。</p>
<p>请你使用归并排序对这个数列按照从小到大进行排序。</p>
<p>并将排好序的数列按顺序输出。</p>
<p><strong>输入格式</strong></p>
<p>输入共两行，第一行包含整数 n。</p>
<p>第二行包含 n 个整数（所有整数均在 1∼10^9范围内），表示整个数列。</p>
<p><strong>输出格式</strong></p>
<p>输出共一行，包含 n 个整数，表示排好序的数列。</p>
<p><strong>数据范围</strong></p>
<p>1≤n≤100000</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> q[N], tmp[N]; <span class="comment">//tmp：辅助数组</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge_sort</span><span class="params">(<span class="type">int</span> q[], <span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//判定边界：区间内只有一个数或没有数时不需要排序</span></span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> mid = (l + r) / <span class="number">2</span>; <span class="comment">//取分界点：当前区间中点</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">merge_sort</span>(q, l, mid);</span><br><span class="line">    <span class="built_in">merge_sort</span>(q, mid + <span class="number">1</span>, r);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 归并过程</span></span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>, i = l, j = mid + <span class="number">1</span>; <span class="comment">//k：当前tmp中已有数值个数；i、j：指向左、右半边起点指针</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r)</span><br><span class="line">        <span class="keyword">if</span> (q[i] &lt;= q[j])</span><br><span class="line">            tmp[k ++ ] = q[i ++ ];</span><br><span class="line">    	<span class="keyword">else</span></span><br><span class="line">            tmp[k ++ ] = q[j ++ ];</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid)</span><br><span class="line">        tmp[k ++ ] = q[i ++ ];</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= r)</span><br><span class="line">        tmp[k ++ ] = q[j ++ ];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (i = l, j = <span class="number">0</span>; i &lt;= r; i ++, j ++ )</span><br><span class="line">        q[i] = tmp[j];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;q[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">merge_sort</span>(q, <span class="number">0</span>, n<span class="number">-1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, q[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="调用库函数"><a href="#调用库函数" class="headerlink" title="调用库函数"></a>调用库函数</h3><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> q[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;q[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(q, q + n);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, q[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>实测三种排序方法的运行时间相近。</p>
<h2 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h2><h3 id="整数二分"><a href="#整数二分" class="headerlink" title="整数二分"></a>整数二分</h3><ul>
<li><em>数组有单调性一定可以进行二分查找，但二分查找并不一定要求数组有单调性</em></li>
<li><em>（整数）二分查找的本质【基本思想】：以区间中心点为分割点，每次都选择查找目标所在的半部分区间进行下一步操作（分割+选择区间）；过程中保证选定区间内必然有查找目标（不存在该目标的情况除外，注意：二分法查找必然会有返回结果，但不存在该目标的情况下会返回满足筛选性质的元素中与目标值最接近的数值，因此需要额外判定输出是否与目标值相等），当区间长度为1时，该元素即为查找目标</em></li>
<li><em>二分法查找必然会有返回结果</em></li>
</ul>
<p>研究对象：数组q的序号l至r区域</p>
<p>若对于数组中要查找的某点数值，其一侧所有数均满足某一性质，而另一侧所有数均不满足该性质，则可通过二分查找找出该点。假定要查找的该点数值也满足这一点性质，根据满足性质的区间位于该点左侧/右侧，可以有两种查找方式：</p>
<ul>
<li><p>满足性质的区间位于该点左侧</p>
<ol>
<li><p>取数组中心点mid = (l+r**+1**)/2处数值q[(l+r+1)/2]，判断其是否满足选定性质：</p>
<ul>
<li>若该点处数值满足选定性质，说明要查找的值应位于数组q的**[mid**, r]区间内，此时更新查找区间[l, r]为**[mid, r]（即令l=mid）**</li>
<li>若该点处数值不满足选定性质，说明要查找的值应位于数组q的[l, <strong>mid - 1]<strong>区间内，此时更新查找区间[l, r]为</strong>[l, mid - 1]（即令r=mid-1）</strong></li>
</ul>
<blockquote>
<p>取数组中心点时需要+1的原因：</p>
<p>当查找区间长度为1时，由于除法会向下取整，导致此时的mid=l，这样再令l=mid就会进入死循环</p>
</blockquote>
</li>
<li><p>在新的查找区间内重复步骤1以进一步缩小查找区间，直到查找区间长度为0（区间两端坐标相同），该坐标点的数即为查找目标</p>
</li>
</ol>
</li>
<li><p>满足性质的区间位于该点右侧</p>
<ol>
<li>取数组中心点mid = (l+r)/2处数值q[(l+r)/2]，判断其是否满足选定性质：<ul>
<li>若该点处数值满足选定性质，说明要查找的值应位于数组q的[l, <strong>mid]<strong>区间内，此时更新查找区间[l, r]为</strong>[l, mid]（即令r=mid）</strong></li>
<li>若该点处数值不满足选定性质，说明要查找的值应位于数组q的**[mid + 1**, r]区间内，此时更新查找区间[l, r]为**[mid + 1, r]（即令l=mid+1）**</li>
</ul>
</li>
<li>在新的查找区间内重复步骤1以进一步缩小查找区间，直到查找区间长度为0（区间两端坐标相同），该坐标点的数即为查找目标</li>
</ol>
</li>
</ul>
<blockquote>
<p>在实际应用时，可直接根据选定的性质（check() = true）自行判断迭代条件为何种情况，再根据迭代条件判断属于以上哪种查找方式，使用对应的代码模板。</p>
</blockquote>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/791/">789. 数的范围 - AcWing题库</a></strong></p>
<p>给定一个按照升序排列的长度为 n 的整数数组，以及 q 个查询。</p>
<p>对于每个查询，返回一个元素 k 的起始位置和终止位置（位置从 0 开始计数）。</p>
<p>如果数组中不存在该元素，则返回 <code>-1 -1</code>。</p>
<p><strong>输入格式</strong></p>
<p>第一行包含整数 n 和 q，表示数组长度和询问个数。</p>
<p>第二行包含 n 个整数（均在 1∼10000 范围内），表示完整数组。</p>
<p>接下来 q 行，每行包含一个整数 k，表示一个询问元素。</p>
<p><strong>输出格式</strong></p>
<p>共 q 行，每行包含两个整数，表示所求元素的起始位置和终止位置。</p>
<p>如果数组中不存在该元素，则返回 <code>-1 -1</code>。</p>
<p><strong>数据范围</strong></p>
<p>1≤n≤100000<br>1≤q≤10000<br>1≤k≤10000</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> q[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;q[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (m -- )</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//查找左边界</span></span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>, r = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r)</span><br><span class="line">        {</span><br><span class="line">            <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (q[mid] &gt;= x) <span class="comment">//性质条件的选择：需要注意数组中可能含有多个相同数值（有序数列中连续排列）</span></span><br><span class="line">                r = mid;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//不存在该元素的判断：若数组中不存在指定的查找元素，该算法会输出数组中所有大于指定查找元素的数中的最小值，该值必然不等于指定查找元素</span></span><br><span class="line">        <span class="keyword">if</span> (q[l] != x) </span><br><span class="line">            cout &lt;&lt; <span class="string">"-1 -1"</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            cout &lt;&lt; l &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//查找右边界</span></span><br><span class="line">            <span class="type">int</span> l = <span class="number">0</span>, r = n - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (l &lt; r)</span><br><span class="line">            {</span><br><span class="line">                <span class="type">int</span> mid = (l + r + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span> (q[mid] &lt;= x) <span class="comment">//性质条件的选择：需要注意数组中可能含有多个相同数值（有序数列中连续排列）</span></span><br><span class="line">                    l = mid;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    r = mid - <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">            </span><br><span class="line">            cout &lt;&lt; r &lt;&lt; endl;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="浮点数二分"><a href="#浮点数二分" class="headerlink" title="浮点数二分"></a>浮点数二分</h3><p>基本思想：在实数轴上的一区间[l, r]中寻找某一浮点数x，可以对区间[l, r]进行若干次对半分割，保证所寻找的数始终位于保留的一半区间内；当保留的区间长度小于某个阈值（如10^(-6)）时，可以将区间的左边界看作查找目标浮点数x的近似值。</p>
<hr>
<p><strong>例题：</strong></p>
<p>给定一个浮点数 n，求它的平方根。</p>
<p><strong>输入格式</strong></p>
<p>共一行，包含一个浮点数 n。</p>
<p><strong>输出格式</strong></p>
<p>共一行，包含一个浮点数，表示问题的解。</p>
<p>注意，结果保留 6 位小数。</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">double</span> x;</span><br><span class="line">    cin &gt;&gt; x;</span><br><span class="line">    </span><br><span class="line">    <span class="type">double</span> l = <span class="number">0</span>, r = x;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (r - l &gt; <span class="number">1e-8</span>) <span class="comment">//经验参数：误差限设置比题目要求的保留位数高两个数量级</span></span><br><span class="line">    <span class="comment">//也可直接指定迭代次数（如100次）for (int i = 0; i &lt; 100; i ++ )</span></span><br><span class="line">    {</span><br><span class="line">        <span class="type">double</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (mid * mid &gt;= x) <span class="comment">//注意：仅当x≥1或-1≤x≤0时可以将条件设置为大于等于</span></span><br><span class="line">            r = mid;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            l = mid;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lf\n"</span>, l);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="高精度（C-）"><a href="#高精度（C-）" class="headerlink" title="高精度（C++）"></a>高精度（C++）</h2><p>针对于<strong>大整数</strong>（数字位数在10^6数量级）四则运算情形，C++没有内置的处理方案。</p>
<p>大整数的<strong>存储</strong>方式：数字各数位存入数组（<strong>从个位开始依次逆序存入</strong>，如数1145141919810存入数组[0,1,8,9,1,9,1,4,1,5,4,1,1]）</p>
<h3 id="两个大整数相加"><a href="#两个大整数相加" class="headerlink" title="两个大整数相加"></a>两个大整数相加</h3><p>原理：模拟人工加法</p>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/793/">791. 高精度加法 - AcWing题库</a></strong></p>
<p>给定两个正整数（不含前导 0），计算它们的和。</p>
<p><strong>输入格式</strong></p>
<p>共两行，每行包含一个整数。</p>
<p><strong>输出格式</strong></p>
<p>共一行，包含所求的和。</p>
<p><strong>数据范围</strong></p>
<p>1≤整数长度≤100000</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">    </span><br><span class="line"><span class="comment">// C = A + B</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">add</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span> <span class="comment">// 加引用是为了提高效率，不加引用会把数据先拷贝一遍</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span>; <span class="comment">// 用于存储两数在同一位数上的和，并保留进位</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>() || i &lt; B.<span class="built_in">size</span>(); i ++ )</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (i &lt; A.<span class="built_in">size</span>())</span><br><span class="line">            t += A[i];</span><br><span class="line">        <span class="keyword">if</span> (i &lt; B.<span class="built_in">size</span>())</span><br><span class="line">            t += B[i];</span><br><span class="line">        C.<span class="built_in">push_back</span>(t % <span class="number">10</span>);</span><br><span class="line">        t /= <span class="number">10</span>;  </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (t)</span><br><span class="line">        C.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> C;    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    string a, b;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; A, B;</span><br><span class="line">    </span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b; <span class="comment">// a = "123456"</span></span><br><span class="line">    <span class="comment">// 将读入的大整数（字符串形式）以各数位数字形式逆序存入数组，便于数位增减</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -- )</span><br><span class="line">        A.<span class="built_in">push_back</span>(a[i] - <span class="string">'0'</span>); <span class="comment">// A = [6, 5, 4, 3, 2, 1];</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = b.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -- )</span><br><span class="line">        B.<span class="built_in">push_back</span>(b[i] - <span class="string">'0'</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">auto</span> C = <span class="built_in">add</span>(A, B); <span class="comment">//auto:让编译器自主推断数据类型</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 将相加后得到向量逆序输出</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = C.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;=<span class="number">0</span>; i -- )</span><br><span class="line">        cout &lt;&lt; C[i];</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="两个大整数相减"><a href="#两个大整数相减" class="headerlink" title="两个大整数相减"></a>两个大整数相减</h3><p>原理：模拟人工减法</p>
<p>假定被减数大于等于减数（且均为正数），若减数大于被减数，则执行减数减去被减数再加上负号</p>
<blockquote>
<p>若进行有负数的加减法，可以通过判断符号相互关系来转化成两者的绝对值相加或相减再添上符号的过程（分情况讨论即可），因此只要掌握正大整数的相加相减即可解决</p>
</blockquote>
<p>对于某一第i位的对应数字相减A_i-B_i-t（t为后一位相减的借位0或1）而言：</p>
<ul>
<li>若A_i-B_i-t≥0：相减后结果为A_i-B_i-t</li>
<li>若A_i-B_i-t&lt;0：相减后结果为A_i-B_i+10-t</li>
</ul>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/794/">792. 高精度减法 - AcWing题库</a></strong></p>
<p>给定两个正整数（不含前导 0），计算它们的差，计算结果可能为负数。</p>
<p><strong>输入格式</strong></p>
<p>共两行，每行包含一个整数。</p>
<p><strong>输出格式</strong></p>
<p>共一行，包含所求的差。</p>
<p><strong>数据范围</strong></p>
<p>1≤整数长度≤10^5</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 判断是否有 A &gt;= B</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// 若位数不同，只要判断位数的大小即可</span></span><br><span class="line">    <span class="keyword">if</span> (A.<span class="built_in">size</span>() != B.<span class="built_in">size</span>())</span><br><span class="line">        <span class="keyword">return</span> A.<span class="built_in">size</span>() &gt; B.<span class="built_in">size</span>();</span><br><span class="line">        </span><br><span class="line">    <span class="comment">// 若位数相同，从最高位开始依次比较各数位大小</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = A.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -- )</span><br><span class="line">        <span class="keyword">if</span> (A[i] != B[i])</span><br><span class="line">            <span class="keyword">return</span> A[i] &gt; B[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;      </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// C = A - B</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">sub</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span> <span class="comment">// 加引用是为了提高效率，不加引用会把数据先拷贝一遍</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span>; <span class="comment">// 借位标志</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>() || i &lt; B.<span class="built_in">size</span>(); i ++ )</span><br><span class="line">    {</span><br><span class="line">        t = A[i] - t;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; B.<span class="built_in">size</span>()) <span class="comment">// 通过比较大小已确定A.size() &gt;= B.size()</span></span><br><span class="line">            t -= B[i];</span><br><span class="line">        C.<span class="built_in">push_back</span>((t + <span class="number">10</span>) % <span class="number">10</span>); <span class="comment">// 若t≥0，返回仍然为t;若t&lt;0，返回t+10。这种写法是对两种情况的综合</span></span><br><span class="line">        <span class="keyword">if</span> (t &lt; <span class="number">0</span>)</span><br><span class="line">            t = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            t = <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 去除有效位前面的空余零位（即前导0）</span></span><br><span class="line">    <span class="keyword">while</span> (C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.<span class="built_in">back</span>() == <span class="number">0</span>) <span class="comment">// 去掉数组中（倒序存入）中从最后一个开始数（即从最高位开始）为0的全部数，直到某一处不为0时停止；C.size() &gt; 1：整个数只有一位且为0时不去除</span></span><br><span class="line">        C.<span class="built_in">pop_back</span>();</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> C;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    string a, b;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; A, B;</span><br><span class="line">    </span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b; <span class="comment">// a = "123456"</span></span><br><span class="line">    <span class="comment">// 将读入的大整数（字符串形式）以各数位数字形式逆序存入数组，便于数位增减</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -- )</span><br><span class="line">        A.<span class="built_in">push_back</span>(a[i] - <span class="string">'0'</span>); <span class="comment">// A = [6, 5, 4, 3, 2, 1];</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = b.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -- )</span><br><span class="line">        B.<span class="built_in">push_back</span>(b[i] - <span class="string">'0'</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">cmp</span>(A, B))</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">auto</span> C = <span class="built_in">sub</span>(A, B); <span class="comment">//auto:让编译器自主推断数据类型</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">// 将相加后得到向量逆序输出</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = C.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;=<span class="number">0</span>; i -- )</span><br><span class="line">            cout &lt;&lt; C[i];</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">auto</span> C = <span class="built_in">sub</span>(B, A);</span><br><span class="line">        </span><br><span class="line">        cout &lt;&lt; <span class="string">"-"</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = C.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;=<span class="number">0</span>; i -- )</span><br><span class="line">            cout &lt;&lt; C[i];</span><br><span class="line">	}</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="大整数与小范围整数相乘"><a href="#大整数与小范围整数相乘" class="headerlink" title="大整数与小范围整数相乘"></a>大整数与小范围整数相乘</h3><p>基本思想：用大数的各位（从低位到高位）依次直接与小数整体相乘，依照进位法则得到结果的各位数</p>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/795/">793. 高精度乘法 - AcWing题库</a></strong></p>
<p>给定两个非负整数（不含前导 0） A 和 B，请你计算 A×B 的值。</p>
<p><strong>输入格式</strong></p>
<p>共两行，第一行包含整数 A，第二行包含整数 B。</p>
<p><strong>输出格式</strong></p>
<p>共一行，包含 A×B 的值。</p>
<p><strong>数据范围</strong></p>
<p>1≤A的长度≤100000, 0≤B≤10000</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// C = A * b</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">mul</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, <span class="type">int</span> b)</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span>; <span class="comment">// 借位标志</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>() || t != <span class="number">0</span>; i ++ ) <span class="comment">// 循环截止条件：大数各数位均完成相乘且进位完成</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (i &lt; A.<span class="built_in">size</span>()) <span class="comment">// 若大数各数位还未遍历相乘完成，则执行相乘并将进位项加入</span></span><br><span class="line">            t += A[i] * b;</span><br><span class="line">        C.<span class="built_in">push_back</span>(t % <span class="number">10</span>);</span><br><span class="line">        t /= <span class="number">10</span>; <span class="comment">// 进位 </span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 去除有效位前面的空余零位（即前导0）</span></span><br><span class="line">    <span class="keyword">while</span> (C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.<span class="built_in">back</span>() == <span class="number">0</span>) <span class="comment">// 去掉数组中（倒序存入）中从最后一个开始数（即从最高位开始）为0的全部数，直到某一处不为0时停止；C.size() &gt; 1：整个数只有一位且为0时不去除</span></span><br><span class="line">        C.<span class="built_in">pop_back</span>();</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> C;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    string a;</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; A;</span><br><span class="line">    </span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b; </span><br><span class="line">    <span class="comment">// 将读入的大整数（字符串形式）以各数位数字形式逆序存入数组，便于数位增减</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -- )</span><br><span class="line">        A.<span class="built_in">push_back</span>(a[i] - <span class="string">'0'</span>); </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">auto</span> C = <span class="built_in">mul</span>(A, b);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = C.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;=<span class="number">0</span>; i -- )</span><br><span class="line">            cout &lt;&lt; C[i];</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="大整数除以小范围整数"><a href="#大整数除以小范围整数" class="headerlink" title="大整数除以小范围整数"></a>大整数除以小范围整数</h3><p>基本思想：用大数的各位（从高位到低位）依次直接除以小数整体，不断作商与保留余数，得到商的各位数以及最终剩下的余数</p>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/796/">794. 高精度除法 - AcWing题库</a></strong></p>
<p>给定两个非负整数（不含前导 0） A，B，请你计算 A/B 的商和余数。</p>
<p><strong>输入格式</strong></p>
<p>共两行，第一行包含整数 A，第二行包含整数 B。</p>
<p><strong>输出格式</strong></p>
<p>共两行，第一行输出所求的商，第二行输出所求余数。</p>
<p><strong>数据范围</strong></p>
<p>1≤A的长度≤100000, 1≤B≤10000, B 一定不为 0</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A / b, 商是C, 余数是r</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">div</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, <span class="type">int</span> b, <span class="type">int</span> &amp;r)</span> <span class="comment">// 余数r通过引用传回</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; C; <span class="comment">// 商</span></span><br><span class="line">    r = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = A.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -- ) <span class="comment">// 从最高位开始算</span></span><br><span class="line">    {</span><br><span class="line">        r = r * <span class="number">10</span> + A[i];</span><br><span class="line">        C.<span class="built_in">push_back</span>(r / b);</span><br><span class="line">        r %= b; </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">reverse</span>(C.<span class="built_in">begin</span>(), C.<span class="built_in">end</span>()); <span class="comment">//除法过程中商由高位到低位依次存入向量C，需调用头文件&lt;algorithm&gt;中的reverse方法对向量进行逆序处理后再去除前导0</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 去除有效位前面的空余零位（即前导0）</span></span><br><span class="line">    <span class="keyword">while</span> (C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.<span class="built_in">back</span>() == <span class="number">0</span>) <span class="comment">// 去掉数组中（倒序存入）中从最后一个开始数（即从最高位开始）为0的全部数，直到某一处不为0时停止；C.size() &gt; 1：整个数只有一位且为0时不去除</span></span><br><span class="line">        C.<span class="built_in">pop_back</span>();</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> C;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    string a;</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; A;</span><br><span class="line">    </span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b; </span><br><span class="line">    <span class="comment">// 将读入的大整数（字符串形式）以各数位数字形式逆序存入数组，便于数位增减</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -- )</span><br><span class="line">        A.<span class="built_in">push_back</span>(a[i] - <span class="string">'0'</span>); </span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> r; <span class="comment">// 余数</span></span><br><span class="line">    <span class="keyword">auto</span> C = <span class="built_in">div</span>(A, b, r);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = C.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;=<span class="number">0</span>; i -- )</span><br><span class="line">        cout &lt;&lt; C[i];</span><br><span class="line">    cout &lt;&lt; endl &lt;&lt; r &lt;&lt; endl;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="前缀和"><a href="#前缀和" class="headerlink" title="前缀和"></a>前缀和</h2><h3 id="一维前缀和"><a href="#一维前缀和" class="headerlink" title="一维前缀和"></a>一维前缀和</h3><p>对一个n项数组A：a_1、a_2、a_3、…、a_n，定义其前缀和（数组A中前i个数的和）【注意<strong>下标从1开始</strong>】<br>$$<br>S_i=a_1+a_2+…+a_i<br>$$</p>
<ol>
<li><p>如何求前缀和S_i？</p>
<p>通过前缀和数组S_i中的前一项加上原数组A中的该项得到；注意需<strong>初始化S[0]=0</strong>。</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">    S[i] = S[i - <span class="number">1</span>] + A[i - <span class="number">1</span>]; <span class="comment">// A[i - 1] = a_i</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>前缀和数组的作用？</p>
<p>快速求出原数组A中一段数的和：将时间复杂度由O(n)降低到O(1)<br>$$<br>a_l + a_{l+1} + a_{l+2} + … + a_r = S_r - S_{l-1}<br>$$</p>
</li>
</ol>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/797/">795. 前缀和 - AcWing题库</a></strong></p>
<p>输入一个长度为 n 的整数序列。</p>
<p>接下来再输入 m 个询问，每个询问输入一对 l,r。</p>
<p>对于每个询问，输出原序列中从第 l 个数到第 r 个数的和。</p>
<p><strong>输入格式</strong></p>
<p>第一行包含两个整数 n 和 m。</p>
<p>第二行包含 n 个整数，表示整数数列。</p>
<p>接下来 m 行，每行包含两个整数 l 和 r，表示一个询问的区间范围。</p>
<p><strong>输出格式</strong></p>
<p>共 m 行，每行输出一个询问的结果。</p>
<p><strong>数据范围</strong></p>
<p>1≤l≤r≤n, 1≤n,m≤100000, −1000≤数列中元素的值≤1000</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> A[N], S[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m); <span class="comment">// 数据规模较大，用scanf读取输入数据</span></span><br><span class="line">    <span class="comment">// 若想使用cin读取输入数据，需要添加下列代码提高cin读取速度（作用是取消与标准读入scanf同步，但提高后仍然没有scanf快）；添加后的副作用是无法再使用scanf</span></span><br><span class="line">    <span class="comment">// ios::sync_with_stdio(false);</span></span><br><span class="line">    <span class="comment">// 数据输入规模≥1000000时建议用scanf，否则用cin即可</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;A[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        S[i] = S[i - <span class="number">1</span>] + A[i - <span class="number">1</span>]; <span class="comment">// 前缀和初始化</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (m -- )</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> l, r;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;l, &amp;r);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, S[r] - S[l - <span class="number">1</span>]); <span class="comment">// 区间和计算</span></span><br><span class="line">    }</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="二维前缀和"><a href="#二维前缀和" class="headerlink" title="二维前缀和"></a>二维前缀和</h3><p>用途：快速求子矩阵各元素之和</p>
<p>基本思想：容斥原理</p>
<p>对于矩阵A而言，其中各元素为a_ij，则S_ij代表矩阵中该元素左上角所有元素的和（包含i行与j列）</p>
<p>S_nm的计算：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int i = 1; i &lt;= n; i ++ )</span><br><span class="line">	for (int j = 1; j &lt;= m; j ++ )</span><br><span class="line">		S[i][j] = A[i - 1][j - 1] + S[i - 1][j] + S[i][j - 1] - S[i - 1][j - 1]; // A[i - 1][j - 1] = a_ij</span><br></pre></td></tr></tbody></table></figure>

<p>对于A中的一个子矩阵（左上顶点坐标(x1, y1)，右下顶点坐标(x2, y2)），其各元素和计算公式为：<br>$$<br>Sum=S_{x_2 y_2}-S_{(x_1-1) y_2}-S_{x_2 (y_1-1)}+S_{(x_1-1) (y_1-1)}<br>$$</p>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/798/">796. 子矩阵的和 - AcWing题库</a></strong></p>
<p>输入一个 n 行 m 列的整数矩阵，再输入 q 个询问，每个询问包含四个整数 x1,y1,x2,y2，表示一个子矩阵的左上角坐标和右下角坐标。</p>
<p>对于每个询问，输出子矩阵中所有数的和。</p>
<p><strong>输入格式</strong></p>
<p>第一行包含三个整数 n，m，q。</p>
<p>接下来 n 行，每行包含 m 个整数，表示整数矩阵。</p>
<p>接下来 q 行，每行包含四个整数 x1,y1,x2,y2，表示一组询问。</p>
<p><strong>输出格式</strong></p>
<p>共 q 行，每行输出一个询问的结果。</p>
<p><strong>数据范围</strong></p>
<p>1≤n,m≤1000, 1≤q≤200000, 1≤x1≤x2≤n, 1≤y1≤y2≤m, −1000≤矩阵内元素的值≤1000</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, q;</span><br><span class="line"><span class="type">int</span> A[N][N], S[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;n, &amp;m, &amp;q); </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j ++ )</span><br><span class="line">        	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;A[i][j]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++ )</span><br><span class="line">            S[i][j] = A[i - <span class="number">1</span>][j - <span class="number">1</span>] + S[i - <span class="number">1</span>][j] + S[i][j - <span class="number">1</span>] - S[i - <span class="number">1</span>][j - <span class="number">1</span>]; <span class="comment">// 求前缀和</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (q -- )</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> x1, y1, x2, y2;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;x1, &amp;y1, &amp;x2, &amp;y2);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, S[x2][y2] - S[x1 - <span class="number">1</span>][y2] - S[x2][y1 - <span class="number">1</span>] + S[x1 - <span class="number">1</span>][y1 - <span class="number">1</span>]); <span class="comment">// 计算子矩阵的和</span></span><br><span class="line">    }</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="差分"><a href="#差分" class="headerlink" title="差分"></a>差分</h2><h3 id="一维差分"><a href="#一维差分" class="headerlink" title="一维差分"></a>一维差分</h3><p>前缀和的<strong>逆运算</strong></p>
<p>对一个n项数组A：a_1、a_2、a_3、…、a_n，<strong>构造</strong>数组B：b_1、b_2、b_3、…、b_n，<strong>使得：(<u>数组A为数组B的前缀和)</u></strong><br>$$<br>a_i=b_1+b_2+…+b_i<br>$$<br>一维构造方法（用不上）：<br>$$<br>b_1=a_1\<br>b_2=a_2-a_1\<br>b_3=a_3-a_2\<br>……\<br>b_n=a_n-a_{n-1}<br>$$<br>此时称<u>B数组为A数组的差分</u>。</p>
<p>显然，若已有数组B，可以用O(n)的时间通过计算前缀和的方式得到数组A。</p>
<p>用途：如果希望使得数组A中某一区间[l, r]内的所有元素都加上一个常数c，可以通过差分方法将原本的时间复杂度O(n)降低到O(1)</p>
<p>实现方式：对于数组A的差分数组B，同样在区间[l, r]上：只要让b_l加上c，即可实现数组A中位置l及其以后的所有数都加上c；作为补偿，只要让b_{r+1}减去c，即可实现数组A中的元素仅在区间[l, r]上加上常数c。</p>
<blockquote>
<p>注意：若在初始时将数组A中的所有元素视为0，那么显然此时B中的所有元素也都是0；但事实上并非如此，那么可以将数组A视为由同等长度的全零数组经过若干次【在某区间（区间长度可为1）内加上某常数】操作得到，藉此也可得到对应的差分数组B。</p>
<p>也因此，我们在构造差分数组的时候并不关心如何由原数组构造而来，而是通过对全零数组进行插入变换得到原数组A的过程来得到差分数组B</p>
</blockquote>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/799/">797. 差分 - AcWing题库</a></strong></p>
<p>输入一个长度为 n 的整数序列。</p>
<p>接下来输入 m 个操作，每个操作包含三个整数 l,r,c，表示将序列中 l,r 之间的每个数加上 c。</p>
<p>请你输出进行完所有操作后的序列。</p>
<p><strong>输入格式</strong></p>
<p>第一行包含两个整数 n 和 m。</p>
<p>第二行包含 n 个整数，表示整数序列。</p>
<p>接下来 m 行，每行包含三个整数 l，r，c，表示一个操作。</p>
<p><strong>输出格式</strong></p>
<p>共一行，包含 n 个整数，表示最终序列。</p>
<p><strong>数据范围</strong></p>
<p>1≤n,m≤100000, 1≤l≤r≤n, −1000≤c≤1000, −1000≤整数序列中元素的值≤1000</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> a[N], b[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入函数insert：将数组a在[l, r]区间内的所有元素加上常数c，差分数组b产生的变化</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    b[l] += c;</span><br><span class="line">    b[r + <span class="number">1</span>] -= c;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// 注意：下标均从1开始，因为求前缀和要求a[0]=0</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m); </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="built_in">insert</span>(i, i, a[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (m -- )</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> l, r, c;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;l, &amp;r, &amp;c);</span><br><span class="line">        <span class="built_in">insert</span>(l, r, c);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 对差分数组b求其前缀和得到输出数组a(插入后)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        b[i] += b[i - <span class="number">1</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, b[i]);</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="二维差分"><a href="#二维差分" class="headerlink" title="二维差分"></a>二维差分</h3><p>用途：对矩阵中的某个子矩阵中的所有元素加上常数c</p>
<p>与一维差分不同的是：基于容斥原理，若要在原矩阵A中对于以a_ {x1y1}（下标从1开始）为左上顶点、以a_ {x2y2}为右下顶点的子矩阵区域中的所有元素加上常数c，需要对差分矩阵b做如下处理：</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">b[x1][y1] += c;</span><br><span class="line">b[x2 + <span class="number">1</span>][y1] -= c;</span><br><span class="line">b[x1][y2 + <span class="number">1</span>] -= c;</span><br><span class="line">b[x2 + <span class="number">1</span>][y2 + <span class="number">1</span>] += c;</span><br></pre></td></tr></tbody></table></figure>

<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/800/">798. 差分矩阵 - AcWing题库</a></strong></p>
<p>输入一个 n 行 m 列的整数矩阵，再输入 q 个操作，每个操作包含五个整数 x1,y1,x2,y2,c，其中 (x1,y1) 和 (x2,y2) 表示一个子矩阵的左上角坐标和右下角坐标。</p>
<p>每个操作都要将选中的子矩阵中的每个元素的值加上 c。</p>
<p>请你将进行完所有操作后的矩阵输出。</p>
<p><strong>输入格式</strong></p>
<p>第一行包含整数 n,m,q。</p>
<p>接下来 n 行，每行包含 m 个整数，表示整数矩阵。</p>
<p>接下来 q 行，每行包含 5 个整数 x1,y1,x2,y2,c，表示一个操作。</p>
<p><strong>输出格式</strong></p>
<p>共 n 行，每行 m 个整数，表示所有操作进行完毕后的最终矩阵。</p>
<p><strong>数据范围</strong></p>
<p>1≤n,m≤1000, 1≤q≤100000, 1≤x1≤x2≤n, 1≤y1≤y2≤m, −1000≤c≤1000, −1000≤矩阵内元素的值≤1000</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, q;</span><br><span class="line"><span class="type">int</span> a[N][N], b[N][N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入函数insert：将矩阵a在以a_{x1y1}（下标从1开始）为左上顶点、以a_{x2y2}为右下顶点的子矩阵区域中的所有元素加上常数c，差分数组b产生的变化</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x1, <span class="type">int</span> y1, <span class="type">int</span> x2, <span class="type">int</span> y2, <span class="type">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    b[x1][y1] += c;</span><br><span class="line">    b[x2 + <span class="number">1</span>][y1] -= c;</span><br><span class="line">    b[x1][y2 + <span class="number">1</span>] -= c;</span><br><span class="line">    b[x2 + <span class="number">1</span>][y2 + <span class="number">1</span>] += c;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;n, &amp;m, &amp;q); </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++ )</span><br><span class="line">        	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i][j]);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++ )</span><br><span class="line">            <span class="built_in">insert</span>(i, j, i, j, a[i][j]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (q -- )</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> x1, y1, x2, y2, c;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d%d"</span>, &amp;x1, &amp;y1, &amp;x2, &amp;y2, &amp;c);</span><br><span class="line">        <span class="built_in">insert</span>(x1, y1, x2, y2, c);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 对差分数组b求其前缀和得到输出数组a(插入后)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++ )</span><br><span class="line">        	b[i][j] += b[i - <span class="number">1</span>][j] + b[i][j - <span class="number">1</span>] - b[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++ )</span><br><span class="line">        	<span class="built_in">printf</span>(<span class="string">"%d "</span>, b[i][j]);</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="双指针算法"><a href="#双指针算法" class="headerlink" title="双指针算法"></a>双指针算法</h2><p>算法的应用场景和具体形式有很多，并不局限于某一类问题，如快速排序/归并排序/KMP……</p>
<p>常用的双指针算法有两类：</p>
<ul>
<li>在两个序列中，一个指针指向其中一个序列，另一个指针指向另一个序列，用于维护某种次序【e.g. 归并排序中的归并】</li>
<li>两个指针指向同一个序列中的不同位置（维护两个指针之间的一段区间）【e.g. 快速排序中的数组划分】</li>
</ul>
<p><strong>核心思想</strong>：对二层循环的情景而言，<u>利用某些性质</u>（如归并排序中利用已有序序列的<strong>单调性</strong>），将暴力循环遍历枚举（朴素算法）的时间复杂度<strong>O(n^2)降低到O(n)</strong></p>
<p>基本代码结构：</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">while</span> (j &lt; i &amp;&amp; <span class="built_in">check</span>(i, j)) <span class="comment">// j随i的更新而更新的条件：j的范围 + 满足某种性质</span></span><br><span class="line">        j ++ ;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 每道题目的具体逻辑</span></span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>一般做法：<em>先写出朴素算法思路</em>，若涉及<u>二重嵌套循环</u>且循<u>环指针i、j间存在单调关系</u>（如i↑，j↑）则可考虑采用双指针算法进行优化</strong></p>
<hr>
<p><strong>例题：</strong></p>
<p>给定一个英文字符串，其中包含若干个单词，单词之间由一个空格隔开，输出各个单词。</p>
<p><strong>输入格式</strong></p>
<p>共一行，包含一个字符串。</p>
<p><strong>输出格式</strong></p>
<p>输出若干行，每行仅包含字符串中的一个单词。</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">char</span> str[<span class="number">1000</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">gets</span>(str);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">strlen</span>(str); <span class="comment">// 字符串长度</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> j = i;</span><br><span class="line">        <span class="comment">// 想用j从一个单词的开头一直指到该单词末尾</span></span><br><span class="line">        <span class="keyword">while</span> (j &lt; n &amp;&amp; str[j] != <span class="string">' '</span>)</span><br><span class="line">            j ++ ;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 问题具体逻辑</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = i; k &lt; j; k ++ )</span><br><span class="line">            cout &lt;&lt; str[k];</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">        </span><br><span class="line">        i = j + <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/801/">799. 最长连续不重复子序列 - AcWing题库</a></strong></p>
<p>给定一个长度为 n 的整数序列，请找出最长的不包含重复的数的连续区间，输出它的长度。</p>
<p><strong>输入格式</strong></p>
<p>第一行包含整数 n。</p>
<p>第二行包含 n 个整数（均在 0∼10^5 范围内），表示整数序列。</p>
<p><strong>输出格式</strong></p>
<p>共一行，包含一个整数，表示最长的不包含重复的数的连续区间的长度。</p>
<p><strong>数据范围</strong></p>
<p>1≤n≤10^5</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N], s[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 朴素做法：O(n^2)</span></span><br><span class="line">    <span class="comment">// for (int i = 0; i &lt; n; i ++ )</span></span><br><span class="line">    <span class="comment">//     for (int j = 0; j &lt;= i; j ++ )</span></span><br><span class="line">    <span class="comment">//         if (check(j, i))</span></span><br><span class="line">    <span class="comment">//             res = max(res, i - j + 1);</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 继承朴素算法的思路：将i视为目标子序列的终点，j从数组起点开始向i位置移动，判断区间[j,i]上的子序列是否满足不重复条件，并保留满足该条件的最长区间的长度</span></span><br><span class="line">    <span class="comment">// 注意：随着i的增大，显然其对应满足不重复条件的最小j值（区间最长）也在增大（或不变）【指针j具有单调性】；指针i与j之间相互独立</span></span><br><span class="line">    <span class="comment">// 该算法可保证指针i、j各自总共最多走n步，两者相加即总步数不超过2n，时间复杂度为O(n)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 在判断目标区间中是否含有重复元素时，由于本题的数据范围在0~10^5较小，可以开辟一个新数组s，其各项可以存储对应位置在目标区间内的数据个数; 显然若含有重复元素，则必然为新加入的数据a[i]，因此可以通过其数量（1或2）判断新区间内是否含有重复元素</span></span><br><span class="line">        <span class="comment">// 若数据范围较大/求字母序列，可以采用哈希表代替数组用于存储数量</span></span><br><span class="line">        s[a[i]] ++ ;</span><br><span class="line">        <span class="keyword">while</span> (j &lt;= i &amp;&amp; s[a[i]] != <span class="number">1</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 注意：若要将j指针后移，需先把当前j位置的数在区间内的数量减去1</span></span><br><span class="line">            s[a[j]] -- ;</span><br><span class="line">            j ++ ;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        res = <span class="built_in">max</span>(res, i - j + <span class="number">1</span>);        </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; res;</span><br><span class="line">          </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h2><p>首先需要指出，c++中的int存储时以二进制形式存储（如10的二进制为1010）</p>
<p>基本位运算（对于int类型的数据，直接对其二进制形式进行位操作）：</p>
<ul>
<li>右移运算&gt;&gt;：将二进制数整体向右（个位方向）移动，如n&gt;&gt;k说明将二进制数n向右移动k位，超出个位的部分直接舍去</li>
<li>与运算&amp;：以a&amp;b为例，将b的各位数字与a的各位数字作与运算（同时为1返回1，否则返回0），并将各位与运算的结果作为整体运算结果的各位（仅保留a与b中位数较少的位数）【或/并运算同理，按位运算】</li>
<li>取反运算~：原二进制各数位取反（0变1，1变0）</li>
</ul>
<p>常用两种操作：</p>
<ul>
<li><strong>数字n的二进制表示中的第k位数字是几</strong>（个位是第0位）—— <strong>(n &gt;&gt; k) &amp; 1</strong><ol>
<li>先把第k位移到个位：采用右移运算n &gt;&gt; k</li>
<li>看当前个位是几 ：取右移后的二进制数x的个位x&amp;1</li>
</ol>
</li>
<li>lowbit：树状数组的基本操作<ul>
<li>lowbit(x)的作用：返回x的最后一位1（为1的最低位及后面所有为0的位，如lowbit(101000)=1000）</li>
<li>lowbit函数的实现：lowbit(x) = x &amp; -x = x &amp; (<del>x + 1)【c++补码：-x=</del>x+1（~为取反符号）】 </li>
<li>应用：统计二进制数x中1的个数（每次取lowbit之后减去lowbit的返回值，多次重复这个过程直至减去后为0，这个过程重复了几次就有几位1）</li>
</ul>
</li>
</ul>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/803/">801. 二进制中1的个数 - AcWing题库</a></strong></p>
<p>给定一个长度为 n 的数列，请你求出数列中每个数的二进制表示中 1 的个数。</p>
<p><strong>输入格式</strong></p>
<p>第一行包含整数 n。</p>
<p>第二行包含 n 个整数，表示整个数列。</p>
<p><strong>输出格式</strong></p>
<p>共一行，包含 n 个整数，其中的第 i 个数表示数列中的第 i 个数的二进制表示中 1 的个数。</p>
<p><strong>数据范围</strong></p>
<p>1≤n≤100000, 0≤数列中元素的值≤10^9</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> x &amp; -x;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (n -- )</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin &gt;&gt; x;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (x != <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            x -= <span class="built_in">lowbit</span>(x); <span class="comment">// 每次减去x的最后一位1</span></span><br><span class="line">            res ++ ;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        cout &lt;&lt; res &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="离散化"><a href="#离散化" class="headerlink" title="离散化"></a>离散化</h2><p>特指<strong>整数</strong>的、<strong>保序</strong>（小的仍小、大的仍大）的离散化。</p>
<p>基本含义：数组的映射</p>
<p>e.g. 这类问题通常会研究一个<u>有序</u>数组a[]，其中数值的值域在0~10^9，数组长度不超过10^5【<strong>数组值域跨度大，但分布稀疏</strong>】；若想统计各元素数值在数组中出现的个数，需要新开一个数组b[]用于存储，其以数组a[]中各元素数值作为下标，数组b[]在该下标处的数值即为其在数组a[]中出现的次数；但此时值域过大，由于内存限制开不了这么长的数组，因此需要将原数组映射到一个新的数组中以缩小值域范围（<u>通常映射至其下标</u>）</p>
<p>问题：</p>
<ul>
<li>数组a[]中可能有重复元素——<strong>去重</strong></li>
</ul>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; a; <span class="comment">// 目标数组a</span></span><br><span class="line"><span class="built_in">sort</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>()); <span class="comment">// 对数组a排序</span></span><br><span class="line">a.<span class="built_in">erase</span>(<span class="built_in">unique</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>()), a.<span class="built_in">end</span>()); <span class="comment">// 去除重复元素（unique负责把数组中的重复元素移到向量的末尾，并返回重复元素的存储起点；在使用erase方法将重复元素的存储区间删除）</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// unique函数的实现</span></span><br><span class="line"><span class="comment">// 基本思路：双指针算法</span></span><br><span class="line"><span class="comment">// 将原数组中满足unique条件的数放入输出的数组以确保输出数组中无重复元素，unique条件：（针对有序数组）a[0]或a[i] != a[i - 1]</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt;::<span class="function">iterator <span class="title">unique</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;a)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; a.<span class="built_in">size</span>(); i ++ )</span><br><span class="line">        <span class="keyword">if</span> (i ==<span class="number">0</span> || a[i] != a[i - <span class="number">1</span>])</span><br><span class="line">            a[j ++ ] = a[i];</span><br><span class="line">    <span class="comment">// a[0] ~ a[j - 1]为a中所有不重复的数</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> a.<span class="built_in">begin</span>() + j;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用法</span></span><br><span class="line">a.<span class="built_in">erase</span>(<span class="built_in">unique</span>(a), a.<span class="built_in">end</span>());</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>如何算出数组中元素值x离散化后的值（该元素的下标）——<strong>二分</strong></li>
</ul>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 二分求出x对应的离散化的值</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> <span class="comment">// 找到第一个大于等于x的位置</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = a.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r)</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (a[mid] &gt;= x)</span><br><span class="line">            r = mid;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            l = mid + <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> r + <span class="number">1</span>; <span class="comment">// 是否+1与题目有关，若+1则从1开始映射（映射到[1, 2, ..., n]）</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/804/">802. 区间和 - AcWing题库</a></strong></p>
<p>假定有一个无限长的数轴，数轴上每个坐标上的数都是 0。</p>
<p>现在，我们首先进行 n 次操作，每次操作将某一位置 x 上的数加 c。</p>
<p>接下来，进行 m 次询问，每个询问包含两个整数 l 和 r，你需要求出在区间 [l,r]之间的所有数的和。</p>
<p><strong>输入格式</strong></p>
<p>第一行包含两个整数 n 和 m。</p>
<p>接下来 n 行，每行包含两个整数 x 和 c。</p>
<p>再接下来 m 行，每行包含两个整数 l 和 r。</p>
<p><strong>输出格式</strong></p>
<p>共 m 行，每行输出一个询问中所求的区间内数字和。</p>
<p><strong>数据范围</strong></p>
<p>−10^9≤x≤10^9, 1≤n,m≤10^5, −10^9≤l≤r≤10^9, −10000≤c≤10000</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">300010</span>; <span class="comment">// 虽然题目中数据范围为100000，但离散化后实际上最多会有300000个不同的数【插入操作100000次（在100000个不同坐标）、查询操作100000次（每次查询会涉及区间开端末尾2个坐标）】</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> a[N], s[N]; <span class="comment">// a[]为离散化后数组，s[]为前缀和数组</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII; <span class="comment">// n次操作，用pair数据类型进行存储</span></span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; alls; <span class="comment">// 离散化前存储原数组</span></span><br><span class="line">vector&lt;PII&gt; add, query;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> <span class="comment">// 求x值离散化后结果（映射至下标数组）</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = alls.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r)</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (alls[mid] &gt;= x)</span><br><span class="line">            r = mid;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            l = mid + <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> r + <span class="number">1</span>; <span class="comment">// 后续需要使用前缀和，故将原数组映射到以1为起点的下标数组</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> x, c;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; c;</span><br><span class="line">        add.<span class="built_in">push_back</span>({x, c});</span><br><span class="line">        </span><br><span class="line">        alls.<span class="built_in">push_back</span>(x);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++ )</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> l, r;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">        query.<span class="built_in">push_back</span>({l, r});</span><br><span class="line">        </span><br><span class="line">        alls.<span class="built_in">push_back</span>(l);</span><br><span class="line">        alls.<span class="built_in">push_back</span>(r);</span><br><span class="line">    }</span><br><span class="line">        </span><br><span class="line">    <span class="comment">// 去重</span></span><br><span class="line">    <span class="built_in">sort</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>());</span><br><span class="line">    alls.<span class="built_in">erase</span>(<span class="built_in">unique</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>()), alls.<span class="built_in">end</span>());</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 处理插入</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> item : add)</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> x = <span class="built_in">find</span>(item.first);</span><br><span class="line">        a[x] += item.second; <span class="comment">// 在离散化后的（下标数组）坐标位置加上所需加上的数</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 前缀和预处理</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= alls.<span class="built_in">size</span>(); i ++ )</span><br><span class="line">        s[i] = s[i - <span class="number">1</span>] + a[i];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 处理询问</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> item : query)</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> l = <span class="built_in">find</span>(item.first), r = <span class="built_in">find</span>(item.second);</span><br><span class="line">        cout &lt;&lt; s[r] - s[l - <span class="number">1</span>] &lt;&lt; endl; </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="区间合并"><a href="#区间合并" class="headerlink" title="区间合并"></a>区间合并</h2><p>应用场景：快速对提供的n个区间中有交集的区间进行合并</p>
<p>【规定：若两个区间仅端点相交也合并】</p>
<p>步骤：</p>
<ol>
<li><p>按区间左端点大小对各区间进行<strong>排序</strong></p>
</li>
<li><p>先锚定（从排序后的第一个区间开始）一个维护区间[op, ed]，随后对剩余的区间依次进行扫描，若当前扫描到的区间为[op’, ed’]，两个区间之间的关系可能如下：</p>
<ul>
<li>扫描区间在维护区间内(op≤op’且ed’≤ed）-&gt;[op, ed]</li>
<li>两个区间有交集（由于已经过排序，交集部分只可能在维护区间左侧、扫描区间右侧）(op≤op’且ed≤ed’）-&gt;[op, ed’] (ed = ed’)</li>
<li>两个区间无交集（由于已经过排序，扫描区间完全位于维护区间右侧）(ed≤op’）-&gt;将当前维护区间[op, ed]放入已完成合并的答案中，转而将扫描区间[op’, ed’]作为新的维护区间</li>
</ul>
<p>直到扫描完全部的区间并将最后一个维护区间放入答案中，合并完成。</p>
</li>
</ol>
<p>与区间相关的问题，大多采用<strong>贪心</strong>的思想解决（按照区间左端点/右端点/两侧端点双关键字进行排序）</p>
<hr>
<p><strong>例题：<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/805/">803. 区间合并 - AcWing题库</a></strong></p>
<p>给定 n 个区间 [l_i,r_i]，要求合并所有有交集的区间。</p>
<p>注意如果在端点处相交，也算有交集。</p>
<p>输出合并完成后的区间个数。</p>
<p>例如：[1,3] 和 [2,6] 可以合并为一个区间 [1,6]。</p>
<p><strong>输入格式</strong></p>
<p>第一行包含整数 n。</p>
<p>接下来 n 行，每行包含两个整数 l 和 r。</p>
<p><strong>输出格式</strong></p>
<p>共一行，包含一个整数，表示合并区间完成后的区间个数。</p>
<p><strong>数据范围</strong></p>
<p>1 ≤ n ≤ 100000, −10^9 ≤ l_i ≤ r_i ≤ 10^9</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII; <span class="comment">// 用pair数据类型存储区间的两个端点，first存的是区间的左端点，second存的是区间的右端点</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">vector&lt;PII&gt; segs; <span class="comment">// 用vector存储区间端点对</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(vector&lt;PII&gt; &amp;segs)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;PII&gt; res;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(segs.<span class="built_in">begin</span>(), segs.<span class="built_in">end</span>()); <span class="comment">//c++中对pair数据类型排序，会默认优先按照左端点first进行排序，对于左端点相同的元素再按照右端点second进行排序</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> op = <span class="number">-2e9</span>, ed = <span class="number">-2e9</span>; <span class="comment">// 初始化起始区间为[-2e9, -2e9]（实际上初始化起始区间为segs中的第一个也可以，后面代码需要对应修改）</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> seg : segs)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (ed &lt; seg.first) <span class="comment">// 无交集</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (op != <span class="number">-2e9</span>) <span class="comment">// 起始区间[-2e9, -2e9]不在提供的数组中，不放入答案</span></span><br><span class="line">                res.<span class="built_in">push_back</span>({op, ed});</span><br><span class="line">            op = seg.first;</span><br><span class="line">            ed = seg.second;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="comment">// 有交集</span></span><br><span class="line">            ed = <span class="built_in">max</span>(ed, seg.second); <span class="comment">// 兼容包含与相交两种情况</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (op != <span class="number">-2e9</span>) <span class="comment">// 防止输入的vector中没有任何pair</span></span><br><span class="line">        res.<span class="built_in">push_back</span>({op, ed});</span><br><span class="line">    </span><br><span class="line">    segs = res;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> l, r;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">        segs.<span class="built_in">push_back</span>({l, r});</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">merge</span>(segs);</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; segs.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</div></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2023-07-02T13:42:58.000Z" title="2023/7/2 21:42:58">2023-07-02</time>发表</span><span class="level-item"><time datetime="2024-02-13T05:58:36.075Z" title="2024/2/13 13:58:36">2024-02-13</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/">课程项目</a><span>&nbsp;/&nbsp;</span><a class="link-muted" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/">软件设计</a></span><span class="level-item">19 分钟读完 (大约2891个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/07/02/ROS%20Task/">基于ROS（机器人操作系统）的数据展示系统</a></p><div class="content"><div id="postchat_postcontent"><p><em>tips</em>:请在使用该系统前安装好相应的库文件（详见附录二），并在不同控制台分别运行roscore（ros操作系统内核）、rosbag play –loop –pause all.bag（ros数据包展示）和rosrun gmapping slam_gmapping（任务四建图处理进程）</p>
<p>该系统程序名为final_system，使用以下命令克隆git仓库：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Asgard-Tim/ROS-Coding.git</span><br></pre></td></tr></tbody></table></figure>

<p>安装好相关库文件后可通过以下命令运行系统程序：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//项目构建</span><br><span class="line"></span><br><span class="line">cd /home/ubuntu/project/catkin_ws</span><br><span class="line"></span><br><span class="line">catkin_make</span><br><span class="line"></span><br><span class="line">//程序运行</span><br><span class="line"></span><br><span class="line">source /home/ubuntu/project/catkin_ws/devel/setup.bash</span><br><span class="line"></span><br><span class="line">cd /home/ubuntu/project/catkin_ws</span><br><span class="line"></span><br><span class="line">rosrun final_system final_system</span><br></pre></td></tr></tbody></table></figure>

<p>完整代码已上传至Github平台，URL地址：<a target="_blank" rel="noopener" href="https://github.com/Asgard-Tim/ROS-Coding">Asgard-Tim/ROS-Coding: 重庆大学明月科创实验班软件设计课程作业 (github.com)</a></p>
<p>Bilibili同步上传系统演示视频Demo，链接：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1YV411M7jj/?vd_source=9360c83a7f1073e99c67f3821a48fb8c">重庆大学明月科创实验班软件设计作业–ROS数据展示系统_哔哩哔哩_bilibili</a></p>
<h4 id="程序主要结构与算法分析"><a href="#程序主要结构与算法分析" class="headerlink" title="程序主要结构与算法分析"></a><strong>程序主要结构与算法分析</strong></h4><p>在**main()**函数中：</p>
<ul>
<li><p>创建ROS节点和节点句柄。</p>
</li>
<li><p>调用**initialize()**函数显示初始菜单:提示用户选择登录、注册或退出系统。</p>
</li>
<li><p>定义一个<strong>user</strong>类，用于保存用户的用户名和密码信息;根据用户选择执行不同的操作：</p>
</li>
<li><ul>
<li>登录：要求用户输入用户名和密码，然后检查是否匹配存储在文件中的用户信息。</li>
<li>注册：要求用户输入新的用户名和密码，然后将用户信息保存到文件中。</li>
<li>退出系统：结束程序运行。</li>
</ul>
</li>
<li><p>如果登录成功，调用**systeminitialize()**函数显示登录成功后的菜单:提示用户选择不同的数据可视化选项或退出系统。</p>
</li>
<li><p>根据用户选择执行不同的数据可视化操作：</p>
</li>
</ul>
<h5 id="任务一：用命令行窗口显示小车的IMU和里程计（odometry）数据"><a href="#任务一：用命令行窗口显示小车的IMU和里程计（odometry）数据" class="headerlink" title="任务一：用命令行窗口显示小车的IMU和里程计（odometry）数据"></a><strong><u>任务一：用命令行窗口显示小车的IMU和里程计（odometry）数据</u></strong></h5><ul>
<li><ul>
<li><p>IMU数据：订阅IMU数据的ROS话题，将数据传递给回调函数<strong>callback1</strong>进行处理。</p>
</li>
<li><p>回调函数<strong>callback1</strong>，处理IMU数据：</p>
</li>
<li><ul>
<li>从接收到的IMU消息中获取线性加速度和角速度信息。</li>
<li>使用<strong>std::cout</strong>打印出线性加速度和角速度信息。</li>
</ul>
</li>
<li><p>里程计数据：订阅里程计数据的ROS话题，将数据传递给回调函数<strong>callback2</strong>进行处理。</p>
</li>
<li><p>回调函数<strong>callback2</strong>，处理里程计数据：</p>
</li>
<li><ul>
<li>从接收到的里程计消息中获取位置和姿态信息。</li>
<li>使用<strong>std::cout</strong>打印出位置和姿态信息。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="任务二：用图形界面显示颜色相机和深度相机的数据（利用OpenCV库）"><a href="#任务二：用图形界面显示颜色相机和深度相机的数据（利用OpenCV库）" class="headerlink" title="任务二：用图形界面显示颜色相机和深度相机的数据（利用OpenCV库）"></a><strong><u>任务二：用图形界面显示颜色相机和深度相机的数据（利用OpenCV库）</u></strong></h5><ul>
<li><ul>
<li><p>颜色相机数据：订阅颜色相机数据的ROS话题，将数据传递给回调函数<strong>callback3</strong>进行处理。</p>
</li>
<li><p>回调函数<strong>callback3</strong>，处理颜色相机数据：</p>
</li>
<li><ul>
<li>将接收到的彩色图像消息转换为OpenCV的图像格式。</li>
<li>使用OpenCV的窗口显示彩色图像。</li>
</ul>
</li>
<li><p>深度相机数据：订阅深度相机数据的ROS话题，将数据传递给回调函数<strong>callback4</strong>进行处理。</p>
</li>
<li><p>回调函数<strong>callback4</strong>，处理深度相机数据：</p>
</li>
<li><ul>
<li>将接收到的深度图像消息转换为OpenCV的图像格式。</li>
<li>使用OpenCV的窗口显示深度图像。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="任务三：用图形界面显示激光雷达的点云数据（利用PCL库）"><a href="#任务三：用图形界面显示激光雷达的点云数据（利用PCL库）" class="headerlink" title="任务三：用图形界面显示激光雷达的点云数据（利用PCL库）"></a><strong><u>任务三：用图形界面显示激光雷达的点云数据（利用PCL库）</u></strong></h5><ul>
<li><ul>
<li><p>点云数据：订阅点云数据的ROS话题，将数据传递给回调函数<strong>callback5</strong>进行处理。</p>
</li>
<li><p>**pcl::visualization::CloudViewer viewer(“Cloud      Viewer”);**：创建一个PCL点云可视化器。</p>
</li>
<li><p>回调函数<strong>callback5</strong>，处理点云数据：</p>
</li>
<li><ul>
<li>将接收到的点云消息转换为PCL的点云格式。</li>
</ul>
</li>
</ul>
</li>
<li><ul>
<li><ul>
<li>使用PCL的可视化器显示点云。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="任务四：自行选择一种高级算法（例如语义分割、三维重建、导航定位（SLAM）等），实现该算法（可以直接利用第三方库），将其集成到系统中"><a href="#任务四：自行选择一种高级算法（例如语义分割、三维重建、导航定位（SLAM）等），实现该算法（可以直接利用第三方库），将其集成到系统中" class="headerlink" title="任务四：自行选择一种高级算法（例如语义分割、三维重建、导航定位（SLAM）等），实现该算法（可以直接利用第三方库），将其集成到系统中"></a><strong><u>任务四：自行选择一种高级算法（例如语义分割、三维重建、导航定位（SLAM）等），实现该算法（可以直接利用第三方库），将其集成到系统中</u></strong></h5><ul>
<li><ul>
<li><strong>选择Gmapping算法（一个基于2D激光雷达使用RBPF（Rao-Blackwellized Particle Filters）算法完成二维栅格地图构建的SLAM算法）</strong></li>
<li>占据栅格地图数据：订阅占据栅格地图数据的ROS话题，将数据传递给回调函数<strong>callback6</strong>进行处理。</li>
<li>回调函数<strong>callback6</strong>，处理占据栅格地图数据：</li>
<li><ul>
<li><ul>
<li>从接收到的占据栅格地图消息中获取分辨率、宽度和高度等信息。</li>
<li>创建一个OpenCV的图像对象，用于绘制地图。</li>
<li>遍历地图的每个栅格，根据栅格的值绘制不同的颜色圆点。</li>
<li>使用OpenCV的窗口显示地图。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="各功能部分构建过程与实现效果"><a href="#各功能部分构建过程与实现效果" class="headerlink" title="各功能部分构建过程与实现效果"></a><strong>各功能部分构建过程与实现效果</strong></h4><h5 id="1-系统界面"><a href="#1-系统界面" class="headerlink" title="1.系统界面"></a>1.系统界面</h5><h6 id="（1）登录界面"><a href="#（1）登录界面" class="headerlink" title="（1）登录界面"></a>（1）登录界面</h6><p><img src="/images/1.png" alt="1"></p>
<h6 id="（2）功能选择界面"><a href="#（2）功能选择界面" class="headerlink" title="（2）功能选择界面"></a>（2）功能选择界面</h6><p><img src="/images/2.png" alt="2"></p>
<h5 id="2-各部分功能"><a href="#2-各部分功能" class="headerlink" title="2.各部分功能"></a>2.各部分功能</h5><p>整体架构思路（以imu数据显示为例，其余任务基本一致）：</p>
<p>（1）在运行rosbag后利用rostopic list指令查看当前开放的所有话题</p>
<p><img src="/images/3.png" alt="3"></p>
<p>（2）找到所需数据所对应的话题（如imu数据对应的是/imu/data_raw这一topic)，利用rostopic info指令查看其消息类型(如图中Type所示)</p>
<p><img src="/images/4.png" alt="4"></p>
<p>（3）根据获得的消息类型（如上图Type所示应为sensor_msg/Imu),利用rosmsg show指令查看其对应的各部分数据类型</p>
<p><img src="/images/5.png" alt="5"></p>
<p>（4）根据获得的数据类型，编写对应callback函数展示对应数据</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">void callback1(const sensor_msgs::Imu::ConstPtr&amp; ptr)</span><br><span class="line">{</span><br><span class="line">    cout &lt;&lt; "std_msgs/Header header" &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    uint32 seq: " &lt;&lt; ptr-&gt;header.seq &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    time stamp: " &lt;&lt; ptr-&gt;header.stamp &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    string frame_id: " &lt;&lt; ptr-&gt;header.frame_id &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "geometry_msgs/Quaternion orientation" &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    float64 x: " &lt;&lt; ptr-&gt;orientation.x &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    float64 y: " &lt;&lt; ptr-&gt;orientation.y &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    float64 z: " &lt;&lt; ptr-&gt;orientation.z &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    float64 w: " &lt;&lt; ptr-&gt;orientation.w &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "float64[9] orientation_covariance" &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    ";</span><br><span class="line">    for (int i = 0; i &lt; 9; i++) {</span><br><span class="line">        cout &lt;&lt; ptr-&gt;orientation_covariance[i] &lt;&lt; " ";</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "geometry_msgs/Vector3 angular_velocity" &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    float64 x: " &lt;&lt; ptr-&gt;angular_velocity.x &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    float64 y: " &lt;&lt; ptr-&gt;angular_velocity.y &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    float64 z: " &lt;&lt; ptr-&gt;angular_velocity.z &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "float64[9] angular_velocity_covariance" &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    ";</span><br><span class="line">    for (int i = 0; i &lt; 9; i++) {</span><br><span class="line">        cout &lt;&lt; ptr-&gt;angular_velocity_covariance[i] &lt;&lt; " ";</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "geometry_msgs/Vector3 linear_acceleration" &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    float64 x: " &lt;&lt; ptr-&gt;linear_acceleration.x &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    float64 y: " &lt;&lt; ptr-&gt;linear_acceleration.y &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    float64 z: " &lt;&lt; ptr-&gt;linear_acceleration.z &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "float64[9] linear_acceleration_covariance" &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "    ";</span><br><span class="line">    for (int i = 0; i &lt; 9; i++) {</span><br><span class="line">        cout &lt;&lt; ptr-&gt;linear_acceleration_covariance[i] &lt;&lt; " ";</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; "-------------------------------------------------------------" &lt;&lt; endl;</span><br><span class="line">    return ;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>（5）编写主函数程序建立订阅者节点订阅话题内容，并调用对应callback函数进行数据处理与显示</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ros::init(argc, argv, "imu");</span><br><span class="line"></span><br><span class="line">ros::NodeHandle nodeHandle;</span><br><span class="line"></span><br><span class="line">ros::Subscriber subscriber = nodeHandle.subscribe("/imu/data_raw", 1000, callback1);</span><br><span class="line"></span><br><span class="line">ros::spin();</span><br></pre></td></tr></tbody></table></figure>

<p>注意：在任务二、三中，对应的callback函数需要分别调用opencv和pcl库，将读取的数据进行处理，以可视化图形界面的形式显示出来。</p>
<p>这里以任务三为例展示如何使用库文件进行数据处理并进行图形化界面显示：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">void callback5(const sensor_msgs::PointCloud2::ConstPtr&amp; msg)</span><br><span class="line">{</span><br><span class="line">    pcl::PointCloud&lt;pcl::PointXYZ&gt; cloud;  </span><br><span class="line">    // 创建一个存储PointXYZ类型点云数据的PointCloud对象，每个点有三个坐标值</span><br><span class="line">    pcl::PCLPointCloud2 pcl_pc;  </span><br><span class="line">    // 创建一个PCLPointCloud2对象，用于存储传感器消息中的点云数据</span><br><span class="line">    pcl_conversions::toPCL(*msg, pcl_pc);  </span><br><span class="line">    // 将ROS中的sensor_msgs::PointCloud2类型消息转换为PCL中的PCLPointCloud2类型</span><br><span class="line">    pcl::fromPCLPointCloud2(pcl_pc, cloud); </span><br><span class="line">    // 将PCLPointCloud2类型转换为PointCloud&lt;pcl::PointXYZ&gt;类型</span><br><span class="line">    viewer.showCloud(cloud.makeShared());  // 在可视化窗口中显示点云数据</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最终各部分功能实现的效果图如下：</p>
<p>（1）展示imu数据</p>
<p><img src="/images/6.png" alt="6"></p>
<p>（2）展示里程计数据</p>
<p><img src="/images/7.png" alt="7"></p>
<p>（3）展示颜色相机数据</p>
<p><img src="/images/8.png" alt="8"></p>
<p>（4）展示深度相机数据</p>
<p><img src="/images/9.png" alt="9"></p>
<p>（5）展示激光雷达点云数据</p>
<p><img src="/images/10.png" alt="10"></p>
<h5 id="3-Gmapping建图算法的实现"><a href="#3-Gmapping建图算法的实现" class="headerlink" title="3.Gmapping建图算法的实现"></a>3.Gmapping建图算法的实现</h5><h6 id="（1）msg数据类型查询"><a href="#（1）msg数据类型查询" class="headerlink" title="（1）msg数据类型查询"></a>（1）msg数据类型查询</h6><p><img src="/images/11.png" alt="11"></p>
<h6 id="（2）启动Gmapping算法功能包"><a href="#（2）启动Gmapping算法功能包" class="headerlink" title="（2）启动Gmapping算法功能包"></a>（2）启动Gmapping算法功能包</h6><p>输入如下命令：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun gmapping slam_gmapping</span><br></pre></td></tr></tbody></table></figure>

<p><img src="/images/12.png" alt="12"></p>
<p><img src="/images/13.png" alt="13"></p>
<h6 id="（3）编写回调函数，利用opencv库绘制2D地图"><a href="#（3）编写回调函数，利用opencv库绘制2D地图" class="headerlink" title="（3）编写回调函数，利用opencv库绘制2D地图"></a>（3）编写回调函数，利用opencv库绘制2D地图</h6><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">void callback6(const nav_msgs::OccupancyGrid::ConstPtr&amp; ptr)</span><br><span class="line"></span><br><span class="line">{  </span><br><span class="line"></span><br><span class="line">  std::cout &lt;&lt; "resolution: " &lt;&lt; ptr-&gt;info.resolution &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  std::cout &lt;&lt; "width: " &lt;&lt; ptr-&gt;info.width &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  std::cout &lt;&lt; "height: " &lt;&lt; ptr-&gt;info.height &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  double scale = 1.0;</span><br><span class="line"></span><br><span class="line">  int width = 1200;</span><br><span class="line"></span><br><span class="line">  int height = 1200;</span><br><span class="line"></span><br><span class="line">  cv::Point offset(-1600, -1600);</span><br><span class="line"></span><br><span class="line">  cv::Mat map = cv::Mat::zeros(cv::Size(width, height), CV_8UC3);</span><br><span class="line"></span><br><span class="line">  for (int i = 0; i &lt; ptr-&gt;info.width * ptr-&gt;info.height; ++i) {</span><br><span class="line"></span><br><span class="line">  int x = (i % ptr-&gt;info.width + offset.x) * scale, y = (i / ptr-&gt;info.width + offset.y) * scale;</span><br><span class="line"></span><br><span class="line">  if (ptr-&gt;data[i] == -1) {</span><br><span class="line"></span><br><span class="line">  cv::circle(map, cv::Point(x, y), 1, cv::Scalar(255, 255, 255), -1);</span><br><span class="line"></span><br><span class="line">    } else if (ptr-&gt;data[i] &gt;= 80) {</span><br><span class="line"></span><br><span class="line">  cv::circle(map, cv::Point(x, y), 3, cv::Scalar(0, 0, 0), -1);</span><br><span class="line"></span><br><span class="line">    } else {</span><br><span class="line"></span><br><span class="line">  cv::circle(map, cv::Point(x, y), 3, cv::Scalar(0, 255, 0), -1);</span><br><span class="line"></span><br><span class="line">    }   </span><br><span class="line"></span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  cv::imshow("map", map);</span><br><span class="line"></span><br><span class="line">  cv::waitKey(1000);</span><br><span class="line"></span><br><span class="line">  return ;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h6 id="（4）建立节点并订阅-map话题，调用回调函数"><a href="#（4）建立节点并订阅-map话题，调用回调函数" class="headerlink" title="（4）建立节点并订阅/map话题，调用回调函数"></a>（4）建立节点并订阅/map话题，调用回调函数</h6><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ros::init(argc, argv, "show_map");</span><br><span class="line">ros::NodeHandle nodeHandle;</span><br><span class="line">ros::Subscriber subscriber = nodeHandle.subscribe("/map", 1000, callback6);</span><br><span class="line">ros::spin();</span><br></pre></td></tr></tbody></table></figure>

<h6 id="（5）建图结果"><a href="#（5）建图结果" class="headerlink" title="（5）建图结果"></a>（5）建图结果</h6><p><img src="/images/14.png" alt="14"></p>
<h4 id="附录一：必要的库文件和头文件："><a href="#附录一：必要的库文件和头文件：" class="headerlink" title="附录一：必要的库文件和头文件："></a>附录一：必要的库文件和头文件：</h4><ol>
<li><ul>
<li>**<iostream>**：用于输入输出操作。</iostream></li>
<li>**<fstream>**：用于文件读写操作。</fstream></li>
<li>**<string>**：用于处理字符串。</string></li>
<li>**<ctime>**：用于时间相关操作。</ctime></li>
<li>**<iomanip>**：用于格式化输出。</iomanip></li>
<li>**”ros/ros.h”**：ROS的主要头文件。</li>
<li>**”sensor_msgs/Imu.h”**：ROS中IMU（惯性测量单元）数据的消息类型。</li>
<li>**”nav_msgs/Odometry.h”**：ROS中里程计数据的消息类型。</li>
<li>**<cstring>**：用于C风格字符串操作。</cstring></li>
<li>**&lt;opencv2/opencv.hpp&gt;**：OpenCV库的头文件。</li>
<li>**”cv_bridge/cv_bridge.h”**：ROS中用于将ROS图像消息转换为OpenCV图像格式的库。</li>
<li>**”image_transport/image_transport.h”**：ROS中用于图像传输的库。</li>
<li>**<memory>**：用于内存管理。</memory></li>
<li>**”pcl/visualization/cloud_viewer.h”**：PCL（点云库）中用于可视化点云的类。</li>
<li>**”pcl_conversions/pcl_conversions.h”**：PCL与ROS消息类型转换的库。</li>
<li>**”pcl/point_types.h”**：定义了PCL中常用的点类型。</li>
<li>**”pcl/PCLPointCloud2.h”**：PCL中点云数据的消息类型。</li>
<li>**”pcl/conversions.h”**：PCL与ROS消息类型转换的库。</li>
<li>**”pcl_ros/transforms.h”**：PCL中点云坐标系变换的库。</li>
<li>**”nav_msgs/OccupancyGrid.h”**：ROS中占据栅格地图数据的消息类型。</li>
</ul>
</li>
</ol>
<h4 id="附录二：安装各库文件的命令"><a href="#附录二：安装各库文件的命令" class="headerlink" title="附录二：安装各库文件的命令"></a>附录二：安装各库文件的命令</h4><ol>
<li><pre><code>sudo apt-get update
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. 更新包管理器的软件包列表。</span><br><span class="line"></span><br><span class="line">3. ```</span><br><span class="line">   sudo apt-get upgrade</span><br></pre></td></tr></tbody></table></figure>
</code></pre>
</li>
<li><p>升级系统中的所有已安装软件包。</p>
</li>
<li><pre><code>sudo apt-get install libopencv-dev
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">6. 安装OpenCV库的开发文件。</span><br><span class="line"></span><br><span class="line">7. ```</span><br><span class="line">   sudo apt-get install libopencv-contrib-dev</span><br></pre></td></tr></tbody></table></figure>
</code></pre>
</li>
<li><p>安装OpenCV贡献模块的开发文件。</p>
</li>
<li><pre><code>sudo apt-get update
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">10. 再次更新包管理器的软件包列表。</span><br><span class="line"></span><br><span class="line">11. ```</span><br><span class="line">    sudo apt-get install libproj-dev</span><br></pre></td></tr></tbody></table></figure>
</code></pre>
</li>
<li><p>安装Proj库的开发文件，Proj库提供了地理投影转换的功能。</p>
</li>
<li><pre><code>sudo apt-get install libpcl-dev
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">14. 安装PCL（Point Cloud Library）库的开发文件，PCL库用于点云数据处理和分析。</span><br><span class="line"></span><br><span class="line">15. ```</span><br><span class="line">    sudo apt-get install libsdl1.2-dev</span><br></pre></td></tr></tbody></table></figure>
</code></pre>
</li>
<li><p>安装SDL 1.2库的开发文件，SDL库用于创建图形用户界面和处理多媒体。</p>
</li>
<li><pre><code>sudo apt install libsdl-image1.2-dev
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">18. 安装SDL_image 1.2库的开发文件，SDL_image库提供了图像处理功能。</span><br><span class="line"></span><br><span class="line">19. ```</span><br><span class="line">    sudo apt-get install ros-kinetic-gmapping</span><br></pre></td></tr></tbody></table></figure>
</code></pre>
</li>
<li><p>安装ROS Kinetic版本中的gmapping软件包，gmapping是用于构建占据栅格地图的SLAM算法。</p>
</li>
<li><pre><code>sudo apt-get install ros-kinetic-slam-gmapping
</code></pre>
</li>
<li><p>安装ROS Kinetic版本中的slam_gmapping软件包，slam_gmapping提供了用于构建占据栅格地图的SLAM算法。</p>
</li>
</ol>
</div></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2023-05-01T16:55:59.000Z" title="2023/5/2 00:55:59">2023-05-02</time>发表</span><span class="level-item"><time datetime="2023-08-03T09:19:43.720Z" title="2023/8/3 17:19:43">2023-08-03</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/">课程项目</a><span>&nbsp;/&nbsp;</span><a class="link-muted" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/">软件设计</a></span><span class="level-item">1 小时读完 (大约6812个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/02/vendition/">进销存管理系统</a></p><div class="content"><div id="postchat_postcontent"><p>本项目全部代码已同步上传至Github,仓库链接：<a target="_blank" rel="noopener" href="https://github.com/Asgard-Tim/Vendition">Asgard-Tim/Vendition: 重庆大学明月科创实验班软件设计课程作业 (github.com)</a></p>
<h4 id="一、需求分析"><a href="#一、需求分析" class="headerlink" title="一、需求分析"></a>一、需求分析</h4><hr>
<h5 id="1-1-进销存管理业务概述"><a href="#1-1-进销存管理业务概述" class="headerlink" title="1.1 进销存管理业务概述"></a>1.1 进销存管理业务概述</h5><p>随着近年来世界各方面的发展进步和物联网时代的到来及其不断发展，货物销售行业发生了翻天覆地的巨大变革，随着从卖方市场向买方市场的转变，我国的零售行业迅速崛起，并且时时刻刻面临着日益激烈并不断变化的竞争环境。因此，提高进销存管理水平，探索降低成本的方法成为提高企业竞争力的必然选择[1]。</p>
<p>伴随着企业规模的不断扩大和企业效益的进一步发展，原先的管理已经不能跟上企业的发展步伐，更无法满足企业对管理工作快速、准确的要求。在销售业务不断增长的同时，公司日常所需要处理的数据量不断增长，公司内部运转周转的中间传递环节也逐渐增多，进而发展到非常的复杂的经营管理模式，同时，现在复杂多变的市场，人工管理等传统的方法方式在相关方面已无法应对。更为重要的是商品的进销存方面缺乏实时处理的相关分析，管理人员对及时传递资料和命令的需求得无法实现。最后发现如果能够在面对不同种类的货物信息时，能够让管理人员实时掌握销售流程及销售情况，进而支持管理人员对相关商品销售的运营并且可以有效地加速的周转率，从而可以进一步提高行业的服务质量。这时可以组建一个记录、更新、保存数据信息的数据库以建立和支持一个合理高效的软件项目[2]。</p>
<p>具体而言，进销存管理业务的核心是对于商品流动信息的储存与管理，主要涉及到商品品类的新增与删除、进货、商品销售与盘点、平库等相互关联的诸多业务流程。因此，在进销存管理系统中，我们需要让这些业务流程在系统中有所体现，从而达到高效管理的目的。</p>
<h5 id="1-2-功能性需求"><a href="#1-2-功能性需求" class="headerlink" title="1.2 功能性需求"></a>1.2 功能性需求</h5><h6 id="1-2-1-商品信息管理"><a href="#1-2-1-商品信息管理" class="headerlink" title="1.2.1 商品信息管理"></a>1.2.1 商品信息管理</h6><p>在进销存管理系统中，需要提供渠道给操作管理人员以录入或删除商品信息，同时对于日常的进货与销售过程予以记录，并在需要的时候对库存中已有的商品种类与数量进行盘点，必要时还需要进行平库操作。这些流程会涉及到公司内的诸多部门，诸如采购部、市场部、财务部等，组织架构的复杂性也对软件系统设计的联动能力与处理效率提出了较高的要求。因此，我们不仅需要通过程序设计实现与实际操作对应的相关功能，对于操作人员在系统中输入的文本信息进行读取与必要的处理以模拟上述诸多对于商品实体的实际操作流程，同时还需要建立与实际仓库所对应的商品的数据库，通过对于所有商品的编号、名称、单价、库存数量与计量单位等具体信息进行存储，并在管理人员进行操作的过程中对库中存储的商品信息进行与实际情况同步的改动，实现更加高效的管理。</p>
<h6 id="1-2-2-系统安全"><a href="#1-2-2-系统安全" class="headerlink" title="1.2.2 系统安全"></a>1.2.2 系统安全</h6><p>对于公司而言，系统的安全性是软件系统设计过程中一个至关重要的考虑因素，由于系统缺乏维护管理与必要的保护措施所造成的损失与影响将是不可估量且难以弥补的。在进销存管理系统中，系统安全的问题主要可能出现在操作权限与非法输入等方面。基于这样的考虑，软件系统在处理数据时，需要对于非法的输入进行区分并给予用户一定的操作提示；在功能上，需要通过账户密码匹配的机制以对于操作人员的权限进行一定的限制从而保证系统的安全性；在存储数据时，应对于存入的数据在写入文件的同时进行一定的加密操作，防止外部人员盗取或进行修改；同时在用户进行操作时，需要同步保留用户的操作记录，在必要时以供核查。</p>
<h5 id="1-3-非功能性需求"><a href="#1-3-非功能性需求" class="headerlink" title="1.3 非功能性需求"></a>1.3 非功能性需求</h5><h6 id="1-3-1-性能需求"><a href="#1-3-1-性能需求" class="headerlink" title="1.3.1 性能需求"></a>1.3.1 性能需求</h6><p>   1.系统必须具备高可用性，能够保证系统长时间连续运行的需求；</p>
<p>​    2.系统的响应时间应尽可能的短，系统登陆、信息保存等操作响应时间小于1.5秒，信息查询等复杂操作时间小于2秒；</p>
<p>​    3.数据库容量要大，能够满足商品采购、销售、库存管理等详细信息长时间保存的需求；</p>
<p>​    4.可供多个用户分时使用该系统平台。</p>
<h6 id="1-3-2-易用性需求"><a href="#1-3-2-易用性需求" class="headerlink" title="1.3.2 易用性需求"></a>1.3.2 易用性需求</h6><p>   1.系统的相关提示信息一致，如进货、销售、删除、查询等操作功能，应尽可能使人容易理解；</p>
<p>​    2.有明确的输入限制提示信息；</p>
<p>​    3.中英文对应正确。</p>
<h6 id="1-3-3-可扩展性需求"><a href="#1-3-3-可扩展性需求" class="headerlink" title="1.3.3 可扩展性需求"></a>1.3.3 可扩展性需求</h6><p>   在系统底层设计时，需要强化系统的配置和扩展能力，主要体现在以下方面：</p>
<p>​    1.系统底层支持的可扩展性；</p>
<p>​    2.系统数据结构可搭建；</p>
<p>​    3.系统信息展示的可配置性。</p>
<br>

<h4 id="二、系统设计"><a href="#二、系统设计" class="headerlink" title="二、系统设计"></a>二、系统设计</h4><hr>
<h5 id="2-1-系统开发方案"><a href="#2-1-系统开发方案" class="headerlink" title="2.1 系统开发方案"></a>2.1 系统开发方案</h5><p>进销存系统需要在简单快速，并且容易维护的、安全性强的开发环境中进行设计[3]。</p>
<h6 id="2-1-1-系统开发技术"><a href="#2-1-1-系统开发技术" class="headerlink" title="2.1.1 系统开发技术"></a>2.1.1 系统开发技术</h6><p>事实上，进销存管理的过程，本质上是由操作人员对货物信息进行的一系列操作，而不论是操作人员还是货物，都是系统中的对象，操作人员具有账户和密码等属性，货物则具有编号、名称、数量的属性。基于这样的考量，本进销存管理系统基于命令行界面进行设计，利用面向对象的思想，选用Microsoft Visual Studio Code 作为系统开发工具，后台数据库采用txt格式的文本文件，开发语言选择C++语言。</p>
<h5 id="2-2-技术架构设计"><a href="#2-2-技术架构设计" class="headerlink" title="2.2 技术架构设计"></a>2.2 技术架构设计</h5><p>系统技术架构上，从上往下分为表示层、业务逻辑层和数据层。系统对每一层定义功能明确的功能接口，同时在层次内实现组件化的接口实现。层次化、模块组件化的实现，使系统具备了最大程度的灵活度，从而能对业务需求的变化作出快速的反应，使系统具有很好的扩展性。</p>
<p>表现层主要是调用业务逻辑层的功能与用户直接进行交互。</p>
<p>业务逻辑层包含了所有业务逻辑的设计与实现，如用户登录、新增商品种类、删除商品种类、商品进货、商品销售、浏览商品信息、显示操作记录、盘点等。</p>
<p>数据层指具体存储系统各种业务数据的数据库系统，在本进销存管理系统中，选用了txt格式的文本文件作为数据库，以便于数据的快速读写。</p>
<p>本进销存管理系统的总体架构如图2.1所示。</p>
<p><em>图2.1 系统体系架构图</em></p>
<p><img src="/images/vendition/2-1.png" alt="1"></p>
<h5 id="2-3-功能结构与模块设计"><a href="#2-3-功能结构与模块设计" class="headerlink" title="2.3 功能结构与模块设计"></a>2.3 功能结构与模块设计</h5><h6 id="2-3-1-系统管理"><a href="#2-3-1-系统管理" class="headerlink" title="2.3.1 系统管理"></a>2.3.1 系统管理</h6><p>该系统包括系统界面初始化、用户注册账户、用户登录等相关功能。系统管理模块主要具体实现以下功能：</p>
<p><strong>1.系统界面初始化</strong></p>
<p>用户进入系统，为用户显示操作功能菜单，提示用户进行相应操作；在用户完成一项操作后，刷新界面并重新初始化当前界面。</p>
<p><strong>2.用户注册账户</strong></p>
<p>若用户第一次使用该系统，需要注册自己的账号并设置密码，不符合规定的密码无效，需要重新注册；完成注册操作后，系统会自动将输入的账号与密码配对并存入数据库中，供登录时进行比对。</p>
<p><strong>3.用户登录</strong></p>
<p>若用户已有账号或已完成注册，可输入自己的账号、密码进行登录操作，若与数据库中的已有条目相一致，则说明该用户具有操作权限，可进入进销存系统内部模块进行下一步操作；若输入的账号与密码不匹配或输入有误，会提示用户重新进行输入。</p>
<h6 id="2-3-2-商品采购、销售与库存管理"><a href="#2-3-2-商品采购、销售与库存管理" class="headerlink" title="2.3.2 商品采购、销售与库存管理"></a>2.3.2 商品采购、销售与库存管理</h6><p>商品采购、销售与库存管理系统主要包括新增商品种类、删除商品种类、商品进货、商品销售、浏览商品信息、显示操作记录、盘点与平库等相关功能。商品信息管理模块主要具体实现以下功能：</p>
<p><strong>1.新增商品种类</strong></p>
<p>输入需要录入系统的商品的编号、名称、单价、计量单位与库存数量等基本信息，增加商品种类，并同步在数据库中存入该商品的相关信息与操作记录。</p>
<p><strong>2.删除商品种类</strong></p>
<p>输入需要删除的商品种类的编号，即可在系统数据库删除该商品的所有条目信息，并在数据库中留下操作记录；若输入的商品编号无法在数据库中检索到，则该操作无效并给予用户反馈提示。</p>
<p><strong>3.商品进货</strong></p>
<p>对于数据库中已有的商品种类可以进行该操作，否则提示操作失败；输入需要进货的商品种类的编号，界面中会出现数据库中该商品的所有信息，再输入需要进货的数量，若进货的数量有效（为正数），会对应增加该商品的数量并存入数据库中，同时留下操作记录。</p>
<p><strong>4.商品销售</strong></p>
<p>对于数据库中已有的商品种类可以进行该操作，否则提示操作失败；输入需要销售的商品种类的编号，界面中会出现数据库该商品的所有信息，再输入需要销售出去的货物数量，若销售的数量有效（小于等于库存量且为正数），会对应减少该商品的数量并存入数据库中，同时留下操作记录。</p>
<p><strong>5.浏览商品信息</strong></p>
<p>可以将数据库中已有的所有商品的编号、名称、单价、计量单位与库存数量等基本信息以表格的形式展示在界面中以供操作人员进行核对查验。</p>
<p><strong>6.显示操作记录</strong></p>
<p>可以显示改变商品数量的所有操作的操作记录，包括每一次操作的操作类型、操作参数（输入的库存改变量）、操作人员账号和操作时间；其中平库操作进行标红处理。</p>
<p><strong>7.盘点与平库</strong></p>
<p>可以将数据库中已有的所有商品的编号、名称、单价、计量单位与库存数量等基本信息以表格的形式展示在界面中以供操作人员进行核对查验；在盘点完成后，若数据库中的商品数量与实际情况存在出入，在确认原因后可以选择进行平库操作，对于特定商品进行额外的出库或入库操作；平库操作会进行标红处理。</p>
<p><strong>8.数据存储</strong></p>
<p>为了保留已有的操作结果与操作记录，在每一次对于数据库中的商品进行操作时，都会从数据库中重新读取商品信息数据，并在操作完成后将改动之后的商品数据重新存入磁盘的数据库中，并在数据库中保留操作的记录以供日后查验；这也有利于不同操作人员在该系统平台上的协同操作，同时重新启动系统时程序的状态也不会发生改变。</p>
<h5 id="2-4-设计目的与优势"><a href="#2-4-设计目的与优势" class="headerlink" title="2.4 设计目的与优势"></a>2.4 设计目的与优势</h5><h6 id="2-4-1-设计目的"><a href="#2-4-1-设计目的" class="headerlink" title="2.4.1 设计目的"></a>2.4.1 设计目的</h6><p>在系统界面与整体功能架构的设计上，对于两个模块均采取了先初始化界面显示操作列表、再根据用户的操作指令给予对应的提示、完成相应操作的模式进行设计，并在各个功能的完成过程中贯穿了对于数据库的读写操作以实时修改，以功能实现为导向，希望帮助操作用户更加高效地实现商品信息的读取与写入。</p>
<h6 id="2-4-2-设计优势"><a href="#2-4-2-设计优势" class="headerlink" title="2.4.2 设计优势"></a>2.4.2 设计优势</h6><p>1.界面简洁自然，各项功能列表一目了然，方便操作人员迅速完成操作，减少误操作的概率；</p>
<p>2.对于所有输入的位点都进行了规范化处理，保证输入的数据格式都是合乎要求的，同时对于非法的输入操作都给予了反馈警告，便于用户快速上手；</p>
<p>3.设计功能齐全，可以满足大多数情况下商品的采购、销售与库存管理操作；</p>
<p>4.运用数据库实时储存用户信息、商品信息与操作记录，方便必要时进行查询，同时也有利于保存数据，支持多用户对于系统进行操作；</p>
<p>5.用户登录机制与操作记录保存机制为系统的安全性提供了一定的保障。</p>
<br>

<h4 id="三、系统实现"><a href="#三、系统实现" class="headerlink" title="三、系统实现"></a>三、系统实现</h4><hr>
<p>本系统的具体框架如下图3.1所示。当成功登录窗口后，用户即进入到主界面中，此时用户可以通过模块选择在自己操作权限范围内的操作，并可在各个功能模块之间进行切换。</p>
<p><em>图3.1 系统功能流程图</em></p>
<p><img src="/images/vendition/3-1.png" alt="2"></p>
<h5 id="3-1-命令行界面的初始化实现"><a href="#3-1-命令行界面的初始化实现" class="headerlink" title="3.1 命令行界面的初始化实现"></a>3.1 命令行界面的初始化实现</h5><p>在设计时，我们根据需求，希望系统的界面能够在完成一项指令操作后刷新并重新加载操作功能菜单以使用其他功能。因此，在登录窗口与系统内部商品处理两个模块的界面加载中，采用了相同的实现逻辑以达到这一效果。具体实现逻辑如下图3.2所示。最终实现效果符合预期。</p>
<p><em>图3.2 命令行界面初始化流程图</em></p>
<p><img src="/images/vendition/3-2.png" alt="3"></p>
<h5 id="3-2-登录界面——用户权限管理实现"><a href="#3-2-登录界面——用户权限管理实现" class="headerlink" title="3.2 登录界面——用户权限管理实现"></a>3.2 登录界面——用户权限管理实现</h5><p>在登录界面，系统为用户提供了三个选项卡：用户登录、用户注册与退出系统，并分别有与之对应的操作代码。具体实现时，采用了选择分支结构，对于用户输入的功能编号进行检测，并对非法的输入给予反馈，提示需要重新输入正确的功能编号（本系统中所有需要输入操作代码的地方均采用了该流程，后面不再赘述）。</p>
<p>对于文件的读写，在程序中创建了相应的文件操作对象以进行相应的读写操作，并在每一次操作完成后关闭文件并重新打开以重置读写指针，防止影响到后续的操作。（进销存模块的文件读写操作与这里方式相同，后面不再赘述）。</p>
<p>对于用户的个人信息，设计了类user，具有用户名和密码两个私有属性，并设计了一系列公有函数对其进行读写，随后在用户注册与登录环节对该类进行实例化，并对实例化后的对象进行一系列的读写操作以实现功能。（在进销存模块中，对于商品类goods与操作记录类operations也采取了相同的方式进行处理，后面不再赘述）。</p>
<p>若选择“退出系统”选项卡，会提示用户是否确认退出：若确认推出，则立刻自动关闭窗口，反之则重新加载界面。效果图如图3.3。</p>
<p>若选择“用户注册”选项卡，会提示用户输入自己想要设置的用户名与密码（会提示用户用户名和密码只能包含字母和数字；用户名若与库中已有的用户名重复，会提示注册失败；密码还限制了位数不得少于六位，若不足六位也会提示注册失败，需要重新注册）；注册成功后，用户的信息会自动存入用户数据库文件“userinformation.txt”，同时重新加载界面。效果图如图3.4。</p>
<p>若选择“用户登录”选项卡，会提示用户输入用户名和密码，输入完成后与数据库中的对应文件进行匹配，若匹配成功则进入进销存系统模块（在程序编写过程中具体体现为进入函数login），反之则提示输入有误，请重新输入，并重新加载界面。效果图如图3.5。</p>
<p>该模块的详细实现代码如下：</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">user</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    string username;</span><br><span class="line">    string password;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putusername</span><span class="params">()</span></span>{cin&gt;&gt;username;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putpassword</span><span class="params">()</span></span>{cin&gt;&gt;password;}</span><br><span class="line">    <span class="function">string <span class="title">getusername</span><span class="params">()</span></span>{<span class="keyword">return</span> username;}</span><br><span class="line">    <span class="function">string <span class="title">getpassword</span><span class="params">()</span></span>{<span class="keyword">return</span> password;}</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">initialize</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout&lt;&lt;<span class="string">"********************************************"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*           欢迎您使用进销存系统           *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*                                          *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*                1.用户登录                *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*                2.用户注册                *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*                0.退出系统                *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*                                          *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"********************************************"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"请输入您需要执行的功能编号:"</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">    {</span><br><span class="line">        fstream userinformation;</span><br><span class="line">        userinformation.<span class="built_in">open</span>(<span class="string">"userinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">        <span class="built_in">initialize</span>();<span class="comment">//初始化界面</span></span><br><span class="line">        <span class="comment">//账号注册与登录模块</span></span><br><span class="line">        string op1;</span><br><span class="line">        cin&gt;&gt;op1;</span><br><span class="line">        <span class="keyword">if</span>(op1==<span class="string">"1"</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//用户登录，先让用户输入账号和密码   </span></span><br><span class="line">            user user1;</span><br><span class="line">            <span class="type">int</span> flagin=<span class="number">0</span>;</span><br><span class="line">            cout&lt;&lt;<span class="string">"请输入您的用户名:"</span>;</span><br><span class="line">            user1.<span class="built_in">putusername</span>();</span><br><span class="line">            cout&lt;&lt;<span class="string">"请输入您的用户密码:"</span>;</span><br><span class="line">            user1.<span class="built_in">putpassword</span>();</span><br><span class="line">            <span class="comment">//将用户录入的与文件中保存的账号密码进行比对</span></span><br><span class="line">            string use=user1.<span class="built_in">getusername</span>()+<span class="string">" "</span>+user1.<span class="built_in">getpassword</span>();</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">            {</span><br><span class="line">                string inform;</span><br><span class="line">                <span class="built_in">getline</span>(userinformation,inform);</span><br><span class="line">                <span class="keyword">if</span>(inform==<span class="string">""</span>)</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span>(use==inform)</span><br><span class="line">                {</span><br><span class="line">                    cout&lt;&lt;<span class="string">"亲爱的用户"</span>&lt;&lt;user1.<span class="built_in">getusername</span>()&lt;&lt;<span class="string">",欢迎您登录本系统"</span>&lt;&lt;endl;</span><br><span class="line">                    <span class="built_in">Sleep</span>(<span class="number">1000</span>);</span><br><span class="line">                    <span class="built_in">system</span>(<span class="string">"cls"</span>);</span><br><span class="line">                    <span class="built_in">login</span>(user1.<span class="built_in">getusername</span>());<span class="comment">//进入进销存系统</span></span><br><span class="line">                    flagin=<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(flagin==<span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                cout&lt;&lt;<span class="string">"您输入的账号或密码错误,请检查后重新输入"</span>;</span><br><span class="line">                <span class="built_in">Sleep</span>(<span class="number">1000</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op1==<span class="string">"2"</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//用户注册，输入用户名与密码</span></span><br><span class="line">            user user1;</span><br><span class="line">            cout&lt;&lt;<span class="string">"请输入您的用户名(仅可使用数字与字母):"</span>;</span><br><span class="line">            user1.<span class="built_in">putusername</span>();</span><br><span class="line">            <span class="comment">//判断用户名是否已经存在</span></span><br><span class="line">            <span class="type">int</span> flag=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">            {</span><br><span class="line">                string name;</span><br><span class="line">                userinformation&gt;&gt;name;</span><br><span class="line">                string empty;</span><br><span class="line">                <span class="built_in">getline</span>(userinformation,empty);</span><br><span class="line">                <span class="keyword">if</span>(name==<span class="string">""</span>)</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span>(user1.<span class="built_in">getusername</span>()==name)</span><br><span class="line">                {</span><br><span class="line">                    cout&lt;&lt;<span class="string">"您输入的用户名已经存在,注册失败,请重新输入"</span>&lt;&lt;endl;</span><br><span class="line">                    <span class="built_in">Sleep</span>(<span class="number">1000</span>);</span><br><span class="line">                    flag=<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            userinformation.<span class="built_in">close</span>();</span><br><span class="line">            userinformation.<span class="built_in">open</span>(<span class="string">"userinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">            <span class="keyword">if</span>(flag==<span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                cout&lt;&lt;<span class="string">"请输入您的用户密码(仅可使用数字或字母,不小于6位):"</span>;</span><br><span class="line">                user1.<span class="built_in">putpassword</span>();</span><br><span class="line">                <span class="comment">//判断用户输入的密码是否符合要求，若符合要求则录入文件</span></span><br><span class="line">                string pass=user1.<span class="built_in">getpassword</span>();</span><br><span class="line">                <span class="keyword">if</span>(pass.<span class="built_in">length</span>()&lt;<span class="number">6</span>)</span><br><span class="line">                {</span><br><span class="line">                    cout&lt;&lt;<span class="string">"您输入的密码小于6位,请重新输入"</span>&lt;&lt;endl;</span><br><span class="line">                    <span class="built_in">Sleep</span>(<span class="number">1000</span>);</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                {</span><br><span class="line">                    cout&lt;&lt;<span class="string">"您已成功注册,请进行登录"</span>&lt;&lt;endl;</span><br><span class="line">                    userinformation&lt;&lt;user1.<span class="built_in">getusername</span>()&lt;&lt;<span class="string">" "</span>&lt;&lt;user1.<span class="built_in">getpassword</span>()&lt;&lt;endl;</span><br><span class="line">                    <span class="built_in">Sleep</span>(<span class="number">1000</span>);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op1==<span class="string">"0"</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="type">int</span> fl=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(fl==<span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                cout&lt;&lt;<span class="string">"您确认要退出该系统吗?(是请按1,否请按0)"</span>;</span><br><span class="line">                <span class="type">int</span> opp;</span><br><span class="line">                cin&gt;&gt;opp;</span><br><span class="line">                <span class="keyword">if</span>(opp==<span class="number">1</span>)</span><br><span class="line">                    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(opp==<span class="number">0</span>)</span><br><span class="line">                    fl=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    cout&lt;&lt;<span class="string">"您输入有误,请重新输入"</span>&lt;&lt;endl;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            cout&lt;&lt;<span class="string">"您输入了无效的操作代码,请重新输入"</span>;</span><br><span class="line">            <span class="built_in">Sleep</span>(<span class="number">1000</span>);</span><br><span class="line">        }</span><br><span class="line">        userinformation.<span class="built_in">close</span>();</span><br><span class="line">        <span class="built_in">system</span>(<span class="string">"cls"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><em>图3.3 “退出系统”功能效果图</em></p>
<p><img src="/images/vendition/3-3.png" alt="4"></p>
<p><em>图3.4 “用户注册”功能效果图</em></p>
<p><img src="/images/vendition/3-4.png" alt="5"></p>
<p><img src="/images/vendition/3-5.png" alt="6"></p>
<p><img src="/images/vendition/3-6.png" alt="7"></p>
<p><em>图3.5 “用户登录”功能效果图</em></p>
<p><img src="/images/vendition/3-7.png" alt="8"></p>
<p><img src="/images/vendition/3-8.png" alt="9"></p>
<h5 id="3-3-商品进销存功能实现"><a href="#3-3-商品进销存功能实现" class="headerlink" title="3.3 商品进销存功能实现"></a>3.3 商品进销存功能实现</h5><p>进入进销存模块界面，系统为用户提供了八个选项卡：新增商品种类、删除商品种类、商品进货、商品销售、浏览商品信息、显示操作记录、盘点、退出登录，并分别有与之对应的操作代码。</p>
<p>若选择“退出登录”选项卡，会直接退出登录，停顿一秒后回到登录主界面。效果图如图3.6。</p>
<p>若选择“新增商品种类”选项卡，会提示用户输入需要新增种类的商品编号（不得与数据库中已有的商品编号相同，否则会提示重新输入），并依次提示输入商品的名称、单位、价格与库存数量；提示添加成功后，该商品的信息会自动存入商品数据库文件“goodsinformation.txt”，而相应的操作记录（包括操作编号、操作的商品编号、操作的种类、操作的商品数量、操作人的用户名与操作时间等详细信息）会被录入操作数据库文件“operationinformation.txt”(“删除商品种类”、“商品进货”、“商品销售”、“盘点”等操作也会在操作完成后录入该数据库，后面不再赘述)，同时重新加载界面。效果图如图3.7。</p>
<p>若选择“删除商品种类”选项卡，会提示用户输入需要删除的商品编号（必须是库中已有的商品种类，否则会提示重新输入）；提示删除成功后，数据库中该商品的条目信息也会一并删除，同时留下操作记录，并重新加载界面。效果图如图3.8。</p>
<p>若选择“商品进货”选项卡，会提示用户输入需要进货的商品编号（必须是库中已有的商品种类，否则会提示重新输入），并相应显示该商品的详细信息；用户还需要输入进货量（不可以为负数，否则提示重新输入）。提示进货成功后，数据库中该商品的库存量也会相应增加，同时留下操作记录，并重新加载界面。效果图如图3.9。</p>
<p>若选择“商品销售”选项卡，会提示用户输入需要销售的商品编号（必须是库中已有的商品种类，否则会提示重新输入），并相应显示该商品的详细信息；用户还需要输入销售量（不可以为负数或小于库存量，否则提示重新输入）。提示销售成功后，数据库中该商品的库存量也会相应减少，同时留下操作记录，并重新加载界面。效果图如图3.10。</p>
<p>若选择“浏览商品信息”选项卡，将会把数据库中所有货物的详细信息列举出来以供查看。效果图如图3.11。</p>
<p>若选择“显示操作记录”选项卡，将会把数据库中所有操作记录的具体信息列举出来以供查看。其中，平库过程中的出库与入库操作均会被标红。效果图如图3.12。</p>
<p>若选择“盘点”选项卡，将会把数据库中所有货物的详细信息列举出来以供查看，并在下方提示是否需要平库。若选择不需要平库，则会直接重新加载界面；若选择需要平库，则需选择需要出库或者入库（此行会被标红以示警告），出库操作与商品销售类似，而入库操作则与商品进货类似，在此不再重复。效果图如图3.13。</p>
<p>该模块的详细实现代码如下：</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function">string <span class="title">gettime</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">time_t</span> t=<span class="built_in">time</span>(<span class="literal">NULL</span>);</span><br><span class="line">        tm *now=<span class="built_in">localtime</span>(&amp;t);</span><br><span class="line">        <span class="type">int</span> year=<span class="number">1900</span>+now-&gt;tm_year;</span><br><span class="line">        <span class="type">int</span> mon=<span class="number">1</span>+now-&gt;tm_mon;</span><br><span class="line">        <span class="type">int</span> day=now-&gt;tm_mday;</span><br><span class="line">        <span class="type">int</span> hour=now-&gt;tm_hour;</span><br><span class="line">        <span class="type">int</span> min=now-&gt;tm_min;</span><br><span class="line">        <span class="type">int</span> sec=now-&gt;tm_sec;</span><br><span class="line">        string to_year=<span class="built_in">to_string</span>( year );</span><br><span class="line">        string to_month=<span class="built_in">to_string</span>( mon );</span><br><span class="line">        string to_day=<span class="built_in">to_string</span>( day );</span><br><span class="line">        string to_hour=<span class="built_in">to_string</span>( hour );</span><br><span class="line">        string to_min=<span class="built_in">to_string</span>( min );</span><br><span class="line">        string to_sec=<span class="built_in">to_string</span>( sec );</span><br><span class="line">        <span class="keyword">return</span> to_year+<span class="string">"-"</span>+to_month+<span class="string">"-"</span>+to_day+<span class="string">" "</span>+to_hour+<span class="string">":"</span>+to_min+<span class="string">":"</span>+to_sec;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">goods</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    string no;</span><br><span class="line">    string name;</span><br><span class="line">    string count;</span><br><span class="line">    string price;</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putno</span><span class="params">()</span></span>{cin&gt;&gt;no;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putname</span><span class="params">()</span></span>{cin&gt;&gt;name;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putcount</span><span class="params">()</span></span>{cin&gt;&gt;count;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putprice</span><span class="params">()</span></span>{cin&gt;&gt;price;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putnum</span><span class="params">()</span></span>{cin&gt;&gt;num;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putnum</span><span class="params">(<span class="type">int</span> input)</span></span>{num=input;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putno</span><span class="params">(string input)</span></span>{no=input;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putname</span><span class="params">(string input)</span></span>{name=input;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putcount</span><span class="params">(string input)</span></span>{count=input;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putprice</span><span class="params">(string input)</span></span>{price=input;}</span><br><span class="line">    <span class="function">string <span class="title">getno</span><span class="params">()</span></span>{<span class="keyword">return</span> no;}</span><br><span class="line">    <span class="function">string <span class="title">getname</span><span class="params">()</span></span>{<span class="keyword">return</span> name;}</span><br><span class="line">    <span class="function">string <span class="title">getcount</span><span class="params">()</span></span>{<span class="keyword">return</span> count;}</span><br><span class="line">    <span class="function">string <span class="title">getprice</span><span class="params">()</span></span>{<span class="keyword">return</span> price;}</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getnum</span><span class="params">()</span></span>{<span class="keyword">return</span> num;}</span><br><span class="line">};</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">operations</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    string no;</span><br><span class="line">    string kinds;</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line">    string acount;</span><br><span class="line">    string date;</span><br><span class="line">    <span class="type">int</span> flag;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putno</span><span class="params">(string input)</span></span>{no=input;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putkinds</span><span class="params">(string input)</span></span>{kinds=input;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putnum</span><span class="params">(<span class="type">int</span> input)</span></span>{num=input;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putacount</span><span class="params">(string input)</span></span>{acount=input;}</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">putdate</span><span class="params">()</span></span>{date=<span class="built_in">gettime</span>();}</span><br><span class="line">    <span class="function">string <span class="title">getno</span><span class="params">()</span></span>{<span class="keyword">return</span> no;}</span><br><span class="line">    <span class="function">string <span class="title">getkinds</span><span class="params">()</span></span>{<span class="keyword">return</span> kinds;}</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getnum</span><span class="params">()</span></span>{<span class="keyword">return</span> num;}</span><br><span class="line">    <span class="function">string <span class="title">getacount</span><span class="params">()</span></span>{<span class="keyword">return</span> acount;}</span><br><span class="line">    <span class="function">string <span class="title">getdate</span><span class="params">()</span></span>{<span class="keyword">return</span> date;}</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">putflag</span><span class="params">(<span class="type">int</span> input)</span></span>{flag=input;}</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getflag</span><span class="params">()</span></span>{<span class="keyword">return</span> flag;}</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">systeminitialize</span><span class="params">(string username)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout&lt;&lt;<span class="string">"******************************************"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*                 功能菜单               *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*                                        *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*             1.新增商品种类             *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*             2.删除商品种类             *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*             3.商品进货                 *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*             4.商品销售                 *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*             5.浏览商品信息             *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*             6.显示操作记录             *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*             7.盘点                     *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*             0.退出登录                 *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"*                                        *"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"******************************************"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"亲爱的用户"</span>&lt;&lt;username&lt;&lt;<span class="string">",欢迎进入进销存管理平台"</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">"请输入您需要执行的功能编号:"</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function">string <span class="title">CharToStr</span><span class="params">(<span class="type">char</span> * contentChar)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    string tempStr;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;contentChar[i]!=<span class="string">'\0'</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        tempStr+=contentChar[i];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> tempStr;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DelLineData</span><span class="params">(<span class="type">char</span>* fileName, <span class="type">int</span> lineNum)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ifstream in;</span><br><span class="line">    in.<span class="built_in">open</span>(fileName);</span><br><span class="line">    </span><br><span class="line">    string strFileData = <span class="string">""</span>;</span><br><span class="line">    <span class="type">int</span> line = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> lineData[<span class="number">1024</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">while</span>(in.<span class="built_in">getline</span>(lineData, <span class="built_in">sizeof</span>(lineData)))</span><br><span class="line">    {</span><br><span class="line">        line++;</span><br><span class="line">        <span class="keyword">if</span> (line == lineNum)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            strFileData += <span class="built_in">CharToStr</span>(lineData);</span><br><span class="line">            strFileData += <span class="string">"\n"</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    in.<span class="built_in">close</span>();</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//写入文件</span></span><br><span class="line">    ofstream out;</span><br><span class="line">    out.<span class="built_in">open</span>(fileName);</span><br><span class="line">    out.<span class="built_in">flush</span>();</span><br><span class="line">    out&lt;&lt;strFileData;</span><br><span class="line">    out.<span class="built_in">close</span>();</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">login</span><span class="params">(string username)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">    {</span><br><span class="line">        fstream goodsinformation;</span><br><span class="line">        goodsinformation.<span class="built_in">open</span>(<span class="string">"goodsinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">        fstream operationinformation;</span><br><span class="line">        operationinformation.<span class="built_in">open</span>(<span class="string">"operationinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">        <span class="built_in">systeminitialize</span>(username);<span class="comment">//初始化界面</span></span><br><span class="line">        <span class="comment">//进销存系统内部操作</span></span><br><span class="line">        string op2;</span><br><span class="line">        cin&gt;&gt;op2;</span><br><span class="line">        <span class="keyword">if</span>(op2==<span class="string">"1"</span>)</span><br><span class="line">        {</span><br><span class="line">            goods good1;</span><br><span class="line">            cout&lt;&lt;<span class="string">"请输入商品编号:"</span>;</span><br><span class="line">            good1.<span class="built_in">putno</span>();</span><br><span class="line">            <span class="comment">//检测输入商品的编号，若编号与之前的一致，则需要重新输入</span></span><br><span class="line">            <span class="type">int</span> flag1=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">            {</span><br><span class="line">                string no;</span><br><span class="line">                goodsinformation&gt;&gt;no;</span><br><span class="line">                string empty1;</span><br><span class="line">                <span class="built_in">getline</span>(goodsinformation,empty1);</span><br><span class="line">                <span class="keyword">if</span>(goodsinformation.<span class="built_in">eof</span>())<span class="comment">//判断是否读取到文件末尾</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span>(good1.<span class="built_in">getno</span>()==no)</span><br><span class="line">                {</span><br><span class="line">                    cout&lt;&lt;<span class="string">"您输入的商品种类已经存在,本次录入操作失败,请重新输入"</span>&lt;&lt;endl;</span><br><span class="line">                    <span class="built_in">Sleep</span>(<span class="number">1000</span>);</span><br><span class="line">                    flag1=<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            goodsinformation.<span class="built_in">close</span>();</span><br><span class="line">            goodsinformation.<span class="built_in">open</span>(<span class="string">"goodsinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">            <span class="keyword">if</span>(flag1==<span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                </span><br><span class="line">                cout&lt;&lt;<span class="string">"请输入商品名称:"</span>;</span><br><span class="line">                good1.<span class="built_in">putname</span>();</span><br><span class="line">                cout&lt;&lt;<span class="string">"请输入商品单位:"</span>;</span><br><span class="line">                good1.<span class="built_in">putcount</span>();</span><br><span class="line">                cout&lt;&lt;<span class="string">"请输入商品价格:"</span>;</span><br><span class="line">                good1.<span class="built_in">putprice</span>();</span><br><span class="line">                cout&lt;&lt;<span class="string">"请输入商品库存数量:"</span>;</span><br><span class="line">                good1.<span class="built_in">putnum</span>();</span><br><span class="line">                cout&lt;&lt;<span class="string">"添加商品种类成功"</span>&lt;&lt;endl;</span><br><span class="line">                goodsinformation&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good1.<span class="built_in">getno</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good1.<span class="built_in">getname</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good1.<span class="built_in">getcount</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good1.<span class="built_in">getprice</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good1.<span class="built_in">getnum</span>()&lt;&lt;endl;</span><br><span class="line">                <span class="comment">//保留操作记录</span></span><br><span class="line">                operations operate1;</span><br><span class="line">                operate1.<span class="built_in">putno</span>(good1.<span class="built_in">getno</span>());</span><br><span class="line">                operate1.<span class="built_in">putkinds</span>(<span class="string">"新增商品种类"</span>);</span><br><span class="line">                operate1.<span class="built_in">putnum</span>(good1.<span class="built_in">getnum</span>());</span><br><span class="line">                operate1.<span class="built_in">putacount</span>(username);</span><br><span class="line">                operate1.<span class="built_in">putdate</span>();</span><br><span class="line">                operate1.<span class="built_in">putflag</span>(<span class="number">0</span>);</span><br><span class="line">                operationinformation&lt;&lt;operate1.<span class="built_in">getflag</span>()&lt;&lt;endl;</span><br><span class="line">                operationinformation&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getno</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getkinds</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getnum</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getacount</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">25</span>)&lt;&lt;operate1.<span class="built_in">getdate</span>()&lt;&lt;endl;</span><br><span class="line">                operationinformation.<span class="built_in">close</span>();</span><br><span class="line">                operationinformation.<span class="built_in">open</span>(<span class="string">"operationinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">                <span class="built_in">system</span>(<span class="string">"pause"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op2==<span class="string">"2"</span>)</span><br><span class="line">        {  </span><br><span class="line">            cout&lt;&lt;<span class="string">"请输入您需要删除的商品编号:"</span>;</span><br><span class="line">            string no1;</span><br><span class="line">            cin&gt;&gt;no1;</span><br><span class="line">            <span class="type">int</span> flag2=<span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> line=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">            {</span><br><span class="line">                string no2;</span><br><span class="line">                goodsinformation&gt;&gt;no2;</span><br><span class="line">                string name2;</span><br><span class="line">                goodsinformation&gt;&gt;name2;</span><br><span class="line">                string count2;</span><br><span class="line">                goodsinformation&gt;&gt;count2;</span><br><span class="line">                string price2;</span><br><span class="line">                goodsinformation&gt;&gt;price2;</span><br><span class="line">                <span class="type">int</span> num2;</span><br><span class="line">                goodsinformation&gt;&gt;num2;</span><br><span class="line">                <span class="keyword">if</span>(goodsinformation.<span class="built_in">eof</span>())<span class="comment">//判断是否读取到文件末尾</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span>(no2==no1)</span><br><span class="line">                {</span><br><span class="line">                    <span class="comment">//删除商品信息</span></span><br><span class="line">                    <span class="built_in">DelLineData</span>(<span class="string">"goodsinformation.txt"</span>, line);</span><br><span class="line">                    cout&lt;&lt;<span class="string">"删除商品种类成功"</span>&lt;&lt;endl;</span><br><span class="line">                    flag2=<span class="number">1</span>;</span><br><span class="line">                    <span class="comment">//保留操作记录</span></span><br><span class="line">                    operations operate1;</span><br><span class="line">                    operate1.<span class="built_in">putno</span>(no2);</span><br><span class="line">                    operate1.<span class="built_in">putkinds</span>(<span class="string">"删除商品种类"</span>);</span><br><span class="line">                    operate1.<span class="built_in">putnum</span>(num2);</span><br><span class="line">                    operate1.<span class="built_in">putacount</span>(username);</span><br><span class="line">                    operate1.<span class="built_in">putdate</span>();</span><br><span class="line">                    operate1.<span class="built_in">putflag</span>(<span class="number">0</span>);</span><br><span class="line">                    operationinformation&lt;&lt;operate1.<span class="built_in">getflag</span>()&lt;&lt;endl;</span><br><span class="line">                    operationinformation&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getno</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getkinds</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getnum</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getacount</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">25</span>)&lt;&lt;operate1.<span class="built_in">getdate</span>()&lt;&lt;endl;</span><br><span class="line">                    operationinformation.<span class="built_in">close</span>();</span><br><span class="line">                    operationinformation.<span class="built_in">open</span>(<span class="string">"operationinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">                line++;</span><br><span class="line">            }</span><br><span class="line">            goodsinformation.<span class="built_in">close</span>();</span><br><span class="line">            goodsinformation.<span class="built_in">open</span>(<span class="string">"goodsinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">            <span class="keyword">if</span>(flag2==<span class="number">0</span>)</span><br><span class="line">                cout&lt;&lt;<span class="string">"系统中没有编号为"</span>&lt;&lt;no1&lt;&lt;<span class="string">"的商品信息,删除商品失败,请检查后再试"</span>&lt;&lt;endl;</span><br><span class="line">            <span class="built_in">system</span>(<span class="string">"pause"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op2==<span class="string">"3"</span>)</span><br><span class="line">        {</span><br><span class="line">            cout&lt;&lt;<span class="string">"请输入需要进货的商品编号:"</span>;</span><br><span class="line">            goods good2;</span><br><span class="line">            string no1;</span><br><span class="line">            cin&gt;&gt;no1;</span><br><span class="line">            <span class="type">int</span> flag2=<span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> line=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">            {</span><br><span class="line">                line++;</span><br><span class="line">                string no2;</span><br><span class="line">                goodsinformation&gt;&gt;no2;</span><br><span class="line">                string name2;</span><br><span class="line">                goodsinformation&gt;&gt;name2;</span><br><span class="line">                string count2;</span><br><span class="line">                goodsinformation&gt;&gt;count2;</span><br><span class="line">                string price2;</span><br><span class="line">                goodsinformation&gt;&gt;price2;</span><br><span class="line">                <span class="type">int</span> num2;</span><br><span class="line">                goodsinformation&gt;&gt;num2;</span><br><span class="line">                <span class="keyword">if</span>(goodsinformation.<span class="built_in">eof</span>())<span class="comment">//判断是否读取到文件末尾</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span>(no2==no1)</span><br><span class="line">                {</span><br><span class="line">                    flag2=<span class="number">1</span>;</span><br><span class="line">                    <span class="comment">//显示该商品在系统中的信息</span></span><br><span class="line">                    cout&lt;&lt;<span class="string">"编号"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"名称"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"单位"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"价格"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"库存量"</span>&lt;&lt;endl;</span><br><span class="line">                    cout&lt;&lt;no2&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;name2&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;count2&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;price2&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;num2&lt;&lt;endl;</span><br><span class="line">                    <span class="comment">//进货</span></span><br><span class="line">                    cout&lt;&lt;<span class="string">"请输入进货量："</span>;</span><br><span class="line">                    <span class="type">int</span> num1;</span><br><span class="line">                    cin&gt;&gt;num1;</span><br><span class="line">                    <span class="comment">//判断非负</span></span><br><span class="line">                    <span class="keyword">if</span>(num1&lt;<span class="number">0</span>)</span><br><span class="line">                    {</span><br><span class="line">                        cout&lt;&lt;<span class="string">"进货量不能小于零,输入有误,请重新输入"</span>&lt;&lt;endl;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    }</span><br><span class="line">                    good2.<span class="built_in">putnum</span>(num1+num2);</span><br><span class="line">                    good2.<span class="built_in">putno</span>(no2);</span><br><span class="line">                    good2.<span class="built_in">putname</span>(name2);</span><br><span class="line">                    good2.<span class="built_in">putcount</span>(count2);</span><br><span class="line">                    good2.<span class="built_in">putprice</span>(price2);</span><br><span class="line">                    <span class="built_in">DelLineData</span>(<span class="string">"goodsinformation.txt"</span>, line);</span><br><span class="line">                    goodsinformation&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getno</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getname</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getcount</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getprice</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getnum</span>()&lt;&lt;endl;</span><br><span class="line">                    cout&lt;&lt;<span class="string">"进货成功"</span>&lt;&lt;endl;</span><br><span class="line">                    <span class="comment">//保留操作记录</span></span><br><span class="line">                    operations operate1;</span><br><span class="line">                    operate1.<span class="built_in">putno</span>(no2);</span><br><span class="line">                    operate1.<span class="built_in">putkinds</span>(<span class="string">"商品进货"</span>);</span><br><span class="line">                    operate1.<span class="built_in">putnum</span>(num2);</span><br><span class="line">                    operate1.<span class="built_in">putacount</span>(username);</span><br><span class="line">                    operate1.<span class="built_in">putdate</span>();</span><br><span class="line">                    operate1.<span class="built_in">putflag</span>(<span class="number">0</span>);</span><br><span class="line">                    operationinformation&lt;&lt;operate1.<span class="built_in">getflag</span>()&lt;&lt;endl;</span><br><span class="line">                    operationinformation&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getno</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getkinds</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getnum</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getacount</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">25</span>)&lt;&lt;operate1.<span class="built_in">getdate</span>()&lt;&lt;endl;</span><br><span class="line">                    operationinformation.<span class="built_in">close</span>();</span><br><span class="line">                    operationinformation.<span class="built_in">open</span>(<span class="string">"operationinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            goodsinformation.<span class="built_in">close</span>();</span><br><span class="line">            goodsinformation.<span class="built_in">open</span>(<span class="string">"goodsinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">            <span class="keyword">if</span>(flag2==<span class="number">0</span>)</span><br><span class="line">                cout&lt;&lt;<span class="string">"系统中没有编号为"</span>&lt;&lt;no1&lt;&lt;<span class="string">"的商品信息,商品进货失败,请检查后再试"</span>&lt;&lt;endl;</span><br><span class="line">            <span class="built_in">system</span>(<span class="string">"pause"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op2==<span class="string">"4"</span>)</span><br><span class="line">        {</span><br><span class="line">            cout&lt;&lt;<span class="string">"请输入需要售出的商品编号:"</span>;</span><br><span class="line">            goods good2;</span><br><span class="line">            string no1;</span><br><span class="line">            cin&gt;&gt;no1;</span><br><span class="line">            <span class="type">int</span> flag2=<span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> line=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">            {</span><br><span class="line">                line++;</span><br><span class="line">                string no2;</span><br><span class="line">                goodsinformation&gt;&gt;no2;</span><br><span class="line">                string name2;</span><br><span class="line">                goodsinformation&gt;&gt;name2;</span><br><span class="line">                string count2;</span><br><span class="line">                goodsinformation&gt;&gt;count2;</span><br><span class="line">                string price2;</span><br><span class="line">                goodsinformation&gt;&gt;price2;</span><br><span class="line">                <span class="type">int</span> num2;</span><br><span class="line">                goodsinformation&gt;&gt;num2;</span><br><span class="line">                <span class="keyword">if</span>(goodsinformation.<span class="built_in">eof</span>())<span class="comment">//判断是否读取到文件末尾</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span>(no2==no1)</span><br><span class="line">                {</span><br><span class="line">                    flag2=<span class="number">1</span>;</span><br><span class="line">                    <span class="comment">//显示该商品在系统中的信息</span></span><br><span class="line">                    cout&lt;&lt;<span class="string">"编号"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"名称"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"单位"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"价格"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"库存量"</span>&lt;&lt;endl;</span><br><span class="line">                    cout&lt;&lt;no2&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;name2&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;count2&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;price2&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;num2&lt;&lt;endl;</span><br><span class="line">                    <span class="comment">//进货</span></span><br><span class="line">                    cout&lt;&lt;<span class="string">"请输入销售量："</span>;</span><br><span class="line">                    <span class="type">int</span> num1;</span><br><span class="line">                    cin&gt;&gt;num1;</span><br><span class="line">                    <span class="keyword">if</span>(num1&lt;<span class="number">0</span>)</span><br><span class="line">                    {</span><br><span class="line">                        cout&lt;&lt;<span class="string">"销售量不能小于零,输入有误,请重新输入"</span>&lt;&lt;endl;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    }</span><br><span class="line">                    <span class="type">int</span> out=num2-num1;</span><br><span class="line">                    <span class="keyword">if</span>(out&lt;<span class="number">0</span>)</span><br><span class="line">                    {</span><br><span class="line">                        cout&lt;&lt;<span class="string">"库存量不足,无法销售,请核对后重新输入"</span>&lt;&lt;endl;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    }</span><br><span class="line">                    good2.<span class="built_in">putnum</span>(out);</span><br><span class="line">                    good2.<span class="built_in">putno</span>(no2);</span><br><span class="line">                    good2.<span class="built_in">putname</span>(name2);</span><br><span class="line">                    good2.<span class="built_in">putcount</span>(count2);</span><br><span class="line">                    good2.<span class="built_in">putprice</span>(price2);</span><br><span class="line">                    <span class="built_in">DelLineData</span>(<span class="string">"goodsinformation.txt"</span>, line);</span><br><span class="line">                    goodsinformation&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getno</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getname</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getcount</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getprice</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getnum</span>()&lt;&lt;endl;</span><br><span class="line">                    cout&lt;&lt;<span class="string">"商品销售成功"</span>&lt;&lt;endl;</span><br><span class="line">                    <span class="comment">//保留操作记录</span></span><br><span class="line">                    operations operate1;</span><br><span class="line">                    operate1.<span class="built_in">putno</span>(no2);</span><br><span class="line">                    operate1.<span class="built_in">putkinds</span>(<span class="string">"商品销售"</span>);</span><br><span class="line">                    operate1.<span class="built_in">putnum</span>(num2);</span><br><span class="line">                    operate1.<span class="built_in">putacount</span>(username);</span><br><span class="line">                    operate1.<span class="built_in">putdate</span>();</span><br><span class="line">                    operate1.<span class="built_in">putflag</span>(<span class="number">0</span>);</span><br><span class="line">                    operationinformation&lt;&lt;operate1.<span class="built_in">getflag</span>()&lt;&lt;endl;</span><br><span class="line">                    operationinformation&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getno</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getkinds</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getnum</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getacount</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">25</span>)&lt;&lt;operate1.<span class="built_in">getdate</span>()&lt;&lt;endl;</span><br><span class="line">                    operationinformation.<span class="built_in">close</span>();</span><br><span class="line">                    operationinformation.<span class="built_in">open</span>(<span class="string">"operationinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            goodsinformation.<span class="built_in">close</span>();</span><br><span class="line">            goodsinformation.<span class="built_in">open</span>(<span class="string">"goodsinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">            <span class="keyword">if</span>(flag2==<span class="number">0</span>)</span><br><span class="line">                cout&lt;&lt;<span class="string">"系统中没有编号为"</span>&lt;&lt;no1&lt;&lt;<span class="string">"的商品信息,商品销售失败,请检查后再试"</span>&lt;&lt;endl;</span><br><span class="line">            <span class="built_in">system</span>(<span class="string">"pause"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op2==<span class="string">"5"</span>)</span><br><span class="line">        {</span><br><span class="line">            cout&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"编号"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"名称"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"单位"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"价格"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"库存量"</span>&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">while</span>(!goodsinformation.<span class="built_in">eof</span>())</span><br><span class="line">            {</span><br><span class="line">                string informate;</span><br><span class="line">                <span class="built_in">getline</span>(goodsinformation,informate);</span><br><span class="line">                <span class="keyword">if</span>(goodsinformation.<span class="built_in">fail</span>())</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                cout&lt;&lt;informate&lt;&lt;endl;</span><br><span class="line">            }</span><br><span class="line">            goodsinformation.<span class="built_in">close</span>();</span><br><span class="line">            goodsinformation.<span class="built_in">open</span>(<span class="string">"goodsinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">            <span class="built_in">system</span>(<span class="string">"pause"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op2==<span class="string">"6"</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="type">int</span> optime=<span class="number">1</span>;</span><br><span class="line">            cout&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;<span class="string">"编号"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;<span class="string">"商品编号"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;<span class="string">"所作操作"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;<span class="string">"数量"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;<span class="string">"操作人账户"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">25</span>)&lt;&lt;<span class="string">"操作时间"</span>&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">while</span>(!operationinformation.<span class="built_in">eof</span>())</span><br><span class="line">            {</span><br><span class="line">                <span class="type">int</span> flag;</span><br><span class="line">                operationinformation&gt;&gt;flag;</span><br><span class="line">                string empty;</span><br><span class="line">                <span class="built_in">getline</span>(operationinformation,empty);</span><br><span class="line">                <span class="keyword">if</span> (flag==<span class="number">0</span>)</span><br><span class="line">                {</span><br><span class="line">                    string informate;</span><br><span class="line">                    <span class="built_in">getline</span>(operationinformation,informate);</span><br><span class="line">                    <span class="keyword">if</span>(operationinformation.<span class="built_in">fail</span>())</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    cout&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;optime&lt;&lt;informate&lt;&lt;endl;</span><br><span class="line">                    optime++;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (flag==<span class="number">1</span>)</span><br><span class="line">                {</span><br><span class="line">                    string informate;</span><br><span class="line">                    <span class="built_in">getline</span>(operationinformation,informate);</span><br><span class="line">                    <span class="keyword">if</span>(operationinformation.<span class="built_in">fail</span>())</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="built_in">SetConsoleTextAttribute</span>(<span class="built_in">GetStdHandle</span>(STD_OUTPUT_HANDLE), FOREGROUND_INTENSITY | FOREGROUND_RED);</span><br><span class="line">                    cout&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;optime&lt;&lt;informate&lt;&lt;endl;</span><br><span class="line">                    <span class="built_in">SetConsoleTextAttribute</span>(<span class="built_in">GetStdHandle</span>(STD_OUTPUT_HANDLE), FOREGROUND_RED |FOREGROUND_GREEN | FOREGROUND_BLUE);</span><br><span class="line">                    optime++;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            operationinformation.<span class="built_in">close</span>();</span><br><span class="line">            operationinformation.<span class="built_in">open</span>(<span class="string">"operationinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">            <span class="built_in">system</span>(<span class="string">"pause"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op2==<span class="string">"7"</span>)</span><br><span class="line">        {</span><br><span class="line">            cout&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"编号"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"名称"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"单位"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"价格"</span>&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;<span class="string">"库存量"</span>&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">while</span>(!goodsinformation.<span class="built_in">eof</span>())</span><br><span class="line">            {</span><br><span class="line">                string informate;</span><br><span class="line">                <span class="built_in">getline</span>(goodsinformation,informate);</span><br><span class="line">                <span class="keyword">if</span>(goodsinformation.<span class="built_in">fail</span>())</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                cout&lt;&lt;informate&lt;&lt;endl;</span><br><span class="line">            }</span><br><span class="line">            goodsinformation.<span class="built_in">close</span>();</span><br><span class="line">            goodsinformation.<span class="built_in">open</span>(<span class="string">"goodsinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">            cout&lt;&lt;<span class="string">"---------------------------------------------"</span>&lt;&lt;endl;</span><br><span class="line">            <span class="type">int</span> flagx=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(flagx==<span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                cout&lt;&lt;<span class="string">"是否需要平库?(是请按1,否请按0)"</span>;</span><br><span class="line">                <span class="type">int</span> op3;</span><br><span class="line">                cin&gt;&gt;op3;</span><br><span class="line">                <span class="keyword">if</span>(op3==<span class="number">1</span>)</span><br><span class="line">                {</span><br><span class="line">                    <span class="type">int</span> flagy=<span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">while</span>(flagy==<span class="number">0</span>)</span><br><span class="line">                    {</span><br><span class="line">                        <span class="comment">//设置红色字体</span></span><br><span class="line">                        <span class="built_in">SetConsoleTextAttribute</span>(<span class="built_in">GetStdHandle</span>(STD_OUTPUT_HANDLE), FOREGROUND_INTENSITY | FOREGROUND_RED);</span><br><span class="line">                        cout &lt;&lt; <span class="string">"您需要出库还是入库?(出库请按1,入库请按0):"</span> ;</span><br><span class="line">                        <span class="type">int</span> op4;</span><br><span class="line">                        cin&gt;&gt;op4;</span><br><span class="line">                        <span class="built_in">SetConsoleTextAttribute</span>(<span class="built_in">GetStdHandle</span>(STD_OUTPUT_HANDLE), FOREGROUND_RED |FOREGROUND_GREEN | FOREGROUND_BLUE);<span class="comment">//把颜色换回来</span></span><br><span class="line">                        <span class="keyword">if</span>(op4==<span class="number">0</span>)</span><br><span class="line">                        {</span><br><span class="line">                            flagy=<span class="number">1</span>;</span><br><span class="line">                            cout&lt;&lt;<span class="string">"请输入需要入库的商品编号:"</span>;</span><br><span class="line">                            goods good2;</span><br><span class="line">                            string no1;</span><br><span class="line">                            cin&gt;&gt;no1;</span><br><span class="line">                            <span class="type">int</span> flag2=<span class="number">0</span>;</span><br><span class="line">                            <span class="type">int</span> line=<span class="number">0</span>;</span><br><span class="line">                            <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">                            {</span><br><span class="line">                                line++;</span><br><span class="line">                                string no2;</span><br><span class="line">                                goodsinformation&gt;&gt;no2;</span><br><span class="line">                                string name2;</span><br><span class="line">                                goodsinformation&gt;&gt;name2;</span><br><span class="line">                                string count2;</span><br><span class="line">                                goodsinformation&gt;&gt;count2;</span><br><span class="line">                                string price2;</span><br><span class="line">                                goodsinformation&gt;&gt;price2;</span><br><span class="line">                                <span class="type">int</span> num2;</span><br><span class="line">                                goodsinformation&gt;&gt;num2;</span><br><span class="line">                                <span class="keyword">if</span>(goodsinformation.<span class="built_in">eof</span>())<span class="comment">//判断是否读取到文件末尾</span></span><br><span class="line">                                    <span class="keyword">break</span>;</span><br><span class="line">                                <span class="keyword">if</span>(no2==no1)</span><br><span class="line">                                {</span><br><span class="line">                                    flag2=<span class="number">1</span>;</span><br><span class="line">                                    <span class="comment">//入库</span></span><br><span class="line">                                    cout&lt;&lt;<span class="string">"请输入入库量："</span>;</span><br><span class="line">                                    <span class="type">int</span> num1;</span><br><span class="line">                                    cin&gt;&gt;num1;</span><br><span class="line">                                    <span class="comment">//判断非负</span></span><br><span class="line">                                    <span class="keyword">if</span>(num1&lt;<span class="number">0</span>)</span><br><span class="line">                                    {</span><br><span class="line">                                        cout&lt;&lt;<span class="string">"入库量不能小于零,输入有误,请重新输入入库量:"</span>;</span><br><span class="line">                                        <span class="keyword">break</span>;</span><br><span class="line">                                    }</span><br><span class="line">                                    good2.<span class="built_in">putnum</span>(num1+num2);</span><br><span class="line">                                    good2.<span class="built_in">putno</span>(no2);</span><br><span class="line">                                    good2.<span class="built_in">putname</span>(name2);</span><br><span class="line">                                    good2.<span class="built_in">putcount</span>(count2);</span><br><span class="line">                                    good2.<span class="built_in">putprice</span>(price2);</span><br><span class="line">                                    <span class="built_in">DelLineData</span>(<span class="string">"goodsinformation.txt"</span>, line);</span><br><span class="line">                                    goodsinformation&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getno</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getname</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getcount</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getprice</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getnum</span>()&lt;&lt;endl;</span><br><span class="line">                                    cout&lt;&lt;<span class="string">"商品盘点成功"</span>&lt;&lt;endl;</span><br><span class="line">                                    <span class="comment">//保留操作记录</span></span><br><span class="line">                                    operations operate1;</span><br><span class="line">                                    operate1.<span class="built_in">putno</span>(no2);</span><br><span class="line">                                    operate1.<span class="built_in">putkinds</span>(<span class="string">"盘点入库"</span>);</span><br><span class="line">                                    operate1.<span class="built_in">putnum</span>(num2);</span><br><span class="line">                                    operate1.<span class="built_in">putacount</span>(username);</span><br><span class="line">                                    operate1.<span class="built_in">putdate</span>();</span><br><span class="line">                                    operate1.<span class="built_in">putflag</span>(<span class="number">1</span>);</span><br><span class="line">                                    operationinformation&lt;&lt;operate1.<span class="built_in">getflag</span>()&lt;&lt;endl;</span><br><span class="line">                                    operationinformation&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getno</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getkinds</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getnum</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getacount</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">25</span>)&lt;&lt;operate1.<span class="built_in">getdate</span>()&lt;&lt;endl;</span><br><span class="line">                                    operationinformation.<span class="built_in">close</span>();</span><br><span class="line">                                    operationinformation.<span class="built_in">open</span>(<span class="string">"operationinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">                                    <span class="keyword">break</span>;</span><br><span class="line">                                }</span><br><span class="line">                            }</span><br><span class="line">                            goodsinformation.<span class="built_in">close</span>();</span><br><span class="line">                            goodsinformation.<span class="built_in">open</span>(<span class="string">"goodsinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">                            <span class="keyword">if</span>(flag2==<span class="number">0</span>)</span><br><span class="line">                                cout&lt;&lt;<span class="string">"系统中没有编号为"</span>&lt;&lt;no1&lt;&lt;<span class="string">"的商品信息,商品盘点失败,请检查后再试"</span>&lt;&lt;endl;</span><br><span class="line">                        }</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span>(op4==<span class="number">1</span>)</span><br><span class="line">                        {</span><br><span class="line">                            flagy=<span class="number">1</span>;</span><br><span class="line">                            cout&lt;&lt;<span class="string">"请输入需要出库的商品编号:"</span>;</span><br><span class="line">                            goods good2;</span><br><span class="line">                            string no1;</span><br><span class="line">                            cin&gt;&gt;no1;</span><br><span class="line">                            <span class="type">int</span> flag2=<span class="number">0</span>;</span><br><span class="line">                            <span class="type">int</span> line=<span class="number">0</span>;</span><br><span class="line">                            <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">                            {</span><br><span class="line">                                line++;</span><br><span class="line">                                string no2;</span><br><span class="line">                                goodsinformation&gt;&gt;no2;</span><br><span class="line">                                string name2;</span><br><span class="line">                                goodsinformation&gt;&gt;name2;</span><br><span class="line">                                string count2;</span><br><span class="line">                                goodsinformation&gt;&gt;count2;</span><br><span class="line">                                string price2;</span><br><span class="line">                                goodsinformation&gt;&gt;price2;</span><br><span class="line">                                <span class="type">int</span> num2;</span><br><span class="line">                                goodsinformation&gt;&gt;num2;</span><br><span class="line">                                <span class="keyword">if</span>(goodsinformation.<span class="built_in">eof</span>())<span class="comment">//判断是否读取到文件末尾</span></span><br><span class="line">                                    <span class="keyword">break</span>;</span><br><span class="line">                                <span class="keyword">if</span>(no2==no1)</span><br><span class="line">                                {</span><br><span class="line">                                    flag2=<span class="number">1</span>;</span><br><span class="line">                                    <span class="comment">//出库</span></span><br><span class="line">                                    cout&lt;&lt;<span class="string">"请输入出库量："</span>;</span><br><span class="line">                                    <span class="type">int</span> num1;</span><br><span class="line">                                    cin&gt;&gt;num1;</span><br><span class="line">                                    <span class="keyword">if</span>(num1&lt;<span class="number">0</span>)</span><br><span class="line">                                    {</span><br><span class="line">                                        cout&lt;&lt;<span class="string">"出库量不能小于零,输入有误,请重新输入出库量:"</span>;</span><br><span class="line">                                        <span class="keyword">break</span>;</span><br><span class="line">                                    }</span><br><span class="line">                                    <span class="type">int</span> out=num2-num1;</span><br><span class="line">                                    <span class="keyword">if</span>(out&lt;<span class="number">0</span>)</span><br><span class="line">                                    {</span><br><span class="line">                                        cout&lt;&lt;<span class="string">"库存量不足,无法完成出库操作,请核对后重新输入出库量:"</span>;</span><br><span class="line">                                        <span class="keyword">break</span>;</span><br><span class="line">                                    }</span><br><span class="line">                                    good2.<span class="built_in">putnum</span>(out);</span><br><span class="line">                                    good2.<span class="built_in">putno</span>(no2);</span><br><span class="line">                                    good2.<span class="built_in">putname</span>(name2);</span><br><span class="line">                                    good2.<span class="built_in">putcount</span>(count2);</span><br><span class="line">                                    good2.<span class="built_in">putprice</span>(price2);</span><br><span class="line">                                    <span class="built_in">DelLineData</span>(<span class="string">"goodsinformation.txt"</span>, line);</span><br><span class="line">                                    goodsinformation&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getno</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getname</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getcount</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getprice</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">10</span>)&lt;&lt;good2.<span class="built_in">getnum</span>()&lt;&lt;endl;</span><br><span class="line">                                    cout&lt;&lt;<span class="string">"商品盘点成功"</span>&lt;&lt;endl;</span><br><span class="line">                                    <span class="comment">//保留操作记录</span></span><br><span class="line">                                    operations operate1;</span><br><span class="line">                                    operate1.<span class="built_in">putno</span>(no2);</span><br><span class="line">                                    operate1.<span class="built_in">putkinds</span>(<span class="string">"盘点出库"</span>);</span><br><span class="line">                                    operate1.<span class="built_in">putnum</span>(num2);</span><br><span class="line">                                    operate1.<span class="built_in">putacount</span>(username);</span><br><span class="line">                                    operate1.<span class="built_in">putdate</span>();</span><br><span class="line">                                    operate1.<span class="built_in">putflag</span>(<span class="number">1</span>);</span><br><span class="line">                                    operationinformation&lt;&lt;operate1.<span class="built_in">getflag</span>()&lt;&lt;endl;</span><br><span class="line">                                    operationinformation&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getno</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getkinds</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getnum</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">15</span>)&lt;&lt;operate1.<span class="built_in">getacount</span>()&lt;&lt;<span class="built_in">setw</span>(<span class="number">25</span>)&lt;&lt;operate1.<span class="built_in">getdate</span>()&lt;&lt;endl;</span><br><span class="line">                                    operationinformation.<span class="built_in">close</span>();</span><br><span class="line">                                    operationinformation.<span class="built_in">open</span>(<span class="string">"operationinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">                                    <span class="keyword">break</span>;</span><br><span class="line">                                }</span><br><span class="line">                            }</span><br><span class="line">                            goodsinformation.<span class="built_in">close</span>();</span><br><span class="line">                            goodsinformation.<span class="built_in">open</span>(<span class="string">"goodsinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">                            <span class="keyword">if</span>(flag2==<span class="number">0</span>)</span><br><span class="line">                                cout&lt;&lt;<span class="string">"系统中没有编号为"</span>&lt;&lt;no1&lt;&lt;<span class="string">"的商品信息,商品进货失败,请检查后再试"</span>&lt;&lt;endl;</span><br><span class="line">                        }</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                            cout&lt;&lt;<span class="string">"输入有误,请重新输入"</span>&lt;&lt;endl;</span><br><span class="line">                    }</span><br><span class="line">                    flagx=<span class="number">1</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(op3==<span class="number">0</span>)</span><br><span class="line">                    flagx=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    cout&lt;&lt;<span class="string">"输入有误,请重新输入"</span>&lt;&lt;endl;</span><br><span class="line">            }</span><br><span class="line">            goodsinformation.<span class="built_in">close</span>();</span><br><span class="line">            goodsinformation.<span class="built_in">open</span>(<span class="string">"goodsinformation.txt"</span>,ios::in|ios::app);</span><br><span class="line">            <span class="built_in">system</span>(<span class="string">"pause"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op2==<span class="string">"0"</span>)</span><br><span class="line">        {</span><br><span class="line">            cout&lt;&lt;<span class="string">"正在为您登出中……"</span>;</span><br><span class="line">            <span class="built_in">Sleep</span>(<span class="number">1000</span>);</span><br><span class="line">            <span class="keyword">return</span>;         </span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            cout&lt;&lt;<span class="string">"您输入了无效的操作代码,请重新输入"</span>;</span><br><span class="line">            <span class="built_in">Sleep</span>(<span class="number">1000</span>);</span><br><span class="line">        }</span><br><span class="line">        goodsinformation.<span class="built_in">close</span>();</span><br><span class="line">        operationinformation.<span class="built_in">close</span>();</span><br><span class="line">        <span class="built_in">system</span>(<span class="string">"cls"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><em>图3.6 “退出登录”功能效果图</em></p>
<p><img src="/images/vendition/3-9.png" alt="10"></p>
<p><em>图3.7 “新增商品种类”功能效果图</em></p>
<p><img src="/images/vendition/3-10.png" alt="11"></p>
<p><img src="/images/vendition/3-11.png" alt="12"></p>
<p><em>图3.8 “删除商品种类”功能效果图</em></p>
<p><img src="/images/vendition/3-12.png" alt="13"></p>
<p><img src="/images/vendition/3-13.png" alt="14"></p>
<p><em>图3.9 “商品进货”功能效果图</em></p>
<p><img src="/images/vendition/3-14.png" alt="15"></p>
<p><img src="/images/vendition/3-15.png" alt="16"></p>
<p><img src="/images/vendition/3-16.png" alt="17"></p>
<p><em>图3.10 “商品销售”功能效果图</em></p>
<p><img src="/images/vendition/3-17.png" alt="18"></p>
<p><img src="/images/vendition/3-18.png" alt="19"></p>
<p><img src="/images/vendition/3-19.png" alt="20"></p>
<p><img src="/images/vendition/3-20.png" alt="21"></p>
<p><em>图3.11 “浏览商品信息”功能效果图</em></p>
<p><img src="/images/vendition/3-21.png" alt="22"></p>
<p><em>图3.12 “显示操作记录”功能效果图</em></p>
<p><img src="/images/vendition/3-22.png" alt="23"></p>
<p><em>图3.13 “盘点”功能效果图</em></p>
<p><img src="/images/vendition/3-23.png" alt="24"></p>
<br>

<h4 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h4><hr>
<p>本文首先对进销存管理业务的现状进行归纳，通过分析目前的进销存管理流程，找出存在的问题和原因，对信息化手段给进销存管理带来的好处进行评估，并制订流程以改进管理方案，从系统功能、性能、运行环境等方面提出进销存管理系统的需求，确定开发方案，本着面向对象编程的核心思想，根据数据结构，找到实体间的关系，细化设计思路，并最终依托命令行界面完成了整个进销存管理系统的设计与实现。 根据需要，本进销存管理系统采用三层架构设计，功能模块涵盖了系统管理与商品信息管理两大板块，采用文本文件作为整个系统的数据库，具有实用性、通用性、使用性、扩充性、安全性能高，维护成本低等优点。</p>
<p>在完成了初版的整体设计以及程序实现之后，又对其各项功能进行了多方面的测试，针对其中不足的方面以及小的漏洞进行了进一步的调试、修正、完善与迭代，目前已经能够正常运行。在整个项目的完成过程中，一方面是对于C++编程语言的掌握在实践中进行又一次的巩固加强，另一方面也是对于面向对象这一重要的程序设计思想的深入体会。</p>
<p>总而言之，个人对于本次进销存管理系统项目的完成度是比较满意的，但目前的系统程序仍然存在着许多问题有待于进一步深入研究与学习。一方面是模块化的程度并没有达到预期的效果，整个程序结构仍然稍显冗长。事实上在整个程序设计过程中，受限于不断要对文件进行读写，很难将每一个选项卡单独拆分出来作为独立的函数，同时对于面向对象过程中类的使用仅仅停留在对于其内部私有成员的封装与访问，而并没有涉及到更进一步的针对于特定对象的函数编写与使用 ，希望之后可以进行进一步的迭代与改进。另一方面，虽然在界面设计时本着简洁实用的思想，但很多流程上以及设计上的细节仍然可以进一步深挖改进，这也需要基于一定的实际投放测试并收集反馈来进行；同时受限于时间紧迫，对于QT图形界面无法进行详细的学习以应用在本项目中，希望如果之后有机会可以基于QT界面对于本进销存管理系统进行进一步的重塑与迭代。</p>
<br>

<h4 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h4><hr>
<p>[1]   郭宁 , 郑小玲.管理信息系统[M].北京 : 人民邮电出版社 , 2009.</p>
<p>[2]   刘俊 , 钱瑞明 , 基于 B/S 结构、面向供应链的供销管理系统设计[J] , 微计算机管理 , 2004 ( 1 ) : 42-43</p>
<p>[3]   吴雪海.食品公司进销存系统设计与实现[D].导师：赫枫龄;张雪松.吉林大学,2015.</p>
</div></div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><!--!--><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/head2.png" alt="Jinghua Xu"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Jinghua Xu</p><p class="is-size-6 is-block">明月科创实验班人工智能专业 本科大三在读</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>重庆 重庆大学国家卓越工程师学院</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">37</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">24</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">102</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Asgard-Tim" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Asgard-Tim"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Weibo" href="https://www.weibo.com/u/6315188431"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Bilibili" href="https://space.bilibili.com/171895120"><i class="fab fa-bilibili"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:20224546@stu.cqu.edu.cn"><i class="fas fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Phone" href="tel:+86 19132050174"><i class="fas fa-phone"></i></a></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><figure class="media-left"><a class="image" href="/2025/06/29/manufac/"><img src="/images/manufac/b99d7042c32e0662693c9051eb8316a5.jpg" alt="小提琴自动演奏机器人中的齿轮系统设计与制造"></a></figure><div class="media-content"><p class="date"><time datetime="2025-06-29T08:40:43.000Z">2025-06-29</time></p><p class="title"><a href="/2025/06/29/manufac/">小提琴自动演奏机器人中的齿轮系统设计与制造</a></p><p class="categories"><a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/">课程项目</a> / <a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E4%BA%A7%E5%93%81%E5%88%B6%E9%80%A0/">产品制造</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2025/06/21/sweeping/"><img src="/images/sweeping/0c9ca142c80746ccde051fd86d54a57c.png" alt="SmartRobot扫地机器人"></a></figure><div class="media-content"><p class="date"><time datetime="2025-06-20T20:02:03.000Z">2025-06-21</time></p><p class="title"><a href="/2025/06/21/sweeping/">SmartRobot扫地机器人</a></p><p class="categories"><a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/">课程项目</a> / <a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%BE%AE%E7%94%B5%E8%B7%AF%E8%AE%BE%E8%AE%A1/">微电路设计</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2025/06/10/project3/"><img src="/images/project3/9.png" alt="常微分方程反演的机器学习方法"></a></figure><div class="media-content"><p class="date"><time datetime="2025-06-09T18:59:03.000Z">2025-06-10</time></p><p class="title"><a href="/2025/06/10/project3/">常微分方程反演的机器学习方法</a></p><p class="categories"><a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/">课程项目</a> / <a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/">工程数值分析</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2025/05/15/Survey/"><img src="/images/survey/2.png" alt="A Survey on Vision-Language-Action Models for Embodied AI"></a></figure><div class="media-content"><p class="date"><time datetime="2025-05-15T15:32:03.000Z">2025-05-15</time></p><p class="title"><a href="/2025/05/15/Survey/">A Survey on Vision-Language-Action Models for Embodied AI</a></p><p class="categories"><a href="/categories/%E5%85%B7%E8%BA%AB%E6%99%BA%E8%83%BD%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/">具身智能论文阅读</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2025/05/09/PaLM-E/"><img src="/images/palm-e/0.png" alt="PaLM-E：An Embodied Multimodal Language Model"></a></figure><div class="media-content"><p class="date"><time datetime="2025-05-09T11:57:03.000Z">2025-05-09</time></p><p class="title"><a href="/2025/05/09/PaLM-E/">PaLM-E：An Embodied Multimodal Language Model</a></p><p class="categories"><a href="/categories/%E5%85%B7%E8%BA%AB%E6%99%BA%E8%83%BD%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/">具身智能论文阅读</a></p></div></article></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/About-XJH/"><span class="level-start"><span class="level-item">About XJH</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/About-XJH/%E6%98%8E%E6%85%B5/"><span class="level-start"><span class="level-item">明慵</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/About-XJH/%E6%98%8E%E8%AF%9A/"><span class="level-start"><span class="level-item">明诚</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">个人项目</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%85%B7%E8%BA%AB%E6%99%BA%E8%83%BD%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/"><span class="level-start"><span class="level-item">具身智能论文阅读</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">动手学深度学习</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE/"><span class="level-start"><span class="level-item">算法基础课</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">课程项目</span></span><span class="level-end"><span class="level-item tag">26</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E4%BA%A7%E5%93%81%E5%88%B6%E9%80%A0/"><span class="level-start"><span class="level-item">产品制造</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E4%BA%A7%E5%93%81%E8%AE%BE%E8%AE%A1/"><span class="level-start"><span class="level-item">产品设计</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%AE%9A%E9%87%8F%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%B3%95I/"><span class="level-start"><span class="level-item">定量工程设计方法I</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%AE%9A%E9%87%8F%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%B3%95II/"><span class="level-start"><span class="level-item">定量工程设计方法II</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%B7%A5%E6%95%88%E5%AD%A6/"><span class="level-start"><span class="level-item">工效学</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%B7%A5%E7%A8%8B%E5%8E%9F%E7%90%86/"><span class="level-start"><span class="level-item">工程原理</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/"><span class="level-start"><span class="level-item">工程数值分析</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A1/"><span class="level-start"><span class="level-item">工程设计</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%BE%AE%E7%94%B5%E8%B7%AF%E8%AE%BE%E8%AE%A1/"><span class="level-start"><span class="level-item">微电路设计</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E6%95%B0%E5%AD%A6%E7%89%A9%E7%90%86%E6%96%B9%E6%B3%95/"><span class="level-start"><span class="level-item">数学物理方法</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E6%99%BA%E8%83%BD%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"><span class="level-start"><span class="level-item">智能图像处理</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%9F%BA%E7%A1%80/"><span class="level-start"><span class="level-item">机器人基础</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E6%A6%82%E7%8E%87%E8%AE%BA%E4%B8%8E%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1/"><span class="level-start"><span class="level-item">概率论与数理统计</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/"><span class="level-start"><span class="level-item">线性代数</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E8%87%AA%E5%8A%A8%E6%8E%A7%E5%88%B6%E5%8E%9F%E7%90%86/"><span class="level-start"><span class="level-item">自动控制原理</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/"><span class="level-start"><span class="level-item">软件设计</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2025/06/"><span class="level-start"><span class="level-item">六月 2025</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/05/"><span class="level-start"><span class="level-item">五月 2025</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/04/"><span class="level-start"><span class="level-item">四月 2025</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/03/"><span class="level-start"><span class="level-item">三月 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/02/"><span class="level-start"><span class="level-item">二月 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/01/"><span class="level-start"><span class="level-item">一月 2025</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/12/"><span class="level-start"><span class="level-item">十二月 2024</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">六月 2024</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/02/"><span class="level-start"><span class="level-item">二月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/01/"><span class="level-start"><span class="level-item">一月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/12/"><span class="level-start"><span class="level-item">十二月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/11/"><span class="level-start"><span class="level-item">十一月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/10/"><span class="level-start"><span class="level-item">十月 2023</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/09/"><span class="level-start"><span class="level-item">九月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/07/"><span class="level-start"><span class="level-item">七月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/06/"><span class="level-start"><span class="level-item">六月 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/05/"><span class="level-start"><span class="level-item">五月 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/03/"><span class="level-start"><span class="level-item">三月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">二月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%95%E7%89%87%E6%9C%BA/"><span class="tag">单片机</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/STM32/"><span class="tag">STM32</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VLA/"><span class="tag">VLA</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%85%B7%E8%BA%AB%E6%99%BA%E8%83%BD/"><span class="tag">具身智能</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B/"><span class="tag">多模态大模型</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C++</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%96%AF%E7%89%B9%E6%9E%97%E5%8F%91%E5%8A%A8%E6%9C%BA/"><span class="tag">斯特林发动机</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MATLAB/"><span class="tag">MATLAB</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Matlab/"><span class="tag">Matlab</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"><span class="tag">机器学习</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="tag">动手学深度学习</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="tag">学习笔记</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B0%8F%E8%BD%A6/"><span class="tag">小车</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BF%A1%E5%8F%B7%E4%B8%8E%E7%B3%BB%E7%BB%9F/"><span class="tag">信号与系统</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%A2%91%E8%B0%B1%E5%88%86%E6%9E%90/"><span class="tag">频谱分析</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%96%AF%E7%89%B9%E6%9E%97%E5%BE%AA%E7%8E%AF/"><span class="tag">斯特林循环</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8A%A8%E5%8A%9B%E5%AD%A6%E4%BB%BF%E7%9C%9F/"><span class="tag">动力学仿真</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9C%89%E9%99%90%E5%85%83%E4%BB%BF%E7%9C%9F/"><span class="tag">有限元仿真</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="tag">算法与数据结构</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/3D-VLA/"><span class="tag">3D-VLA</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PaLM-E/"><span class="tag">PaLM-E</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%B7%AF%E5%BE%84%E8%A7%84%E5%88%92/"><span class="tag">路径规划</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RANSAC/"><span class="tag">RANSAC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%88%86%E6%9E%90/"><span class="tag">数据处理分析</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/title1.png" alt="Homepage of Jinghua Xu" height="28"></a><p class="is-size-7"><span>© 2025 Tim</span>&nbsp;&nbsp;Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>&nbsp;&amp;&nbsp;<a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© Copyright by Jinghua Xu</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Asgard-Tim"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer=""></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer=""></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer=""></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer=""></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer=""></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer=""></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer=""></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer=""></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer=""></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer=""></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer=""></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script>
    <link rel="stylesheet" href="https://ai.tianli0.top/static/public/postChatUser_summary.min.css">
    <script>
        let tianliGPT_key = 'S-TA3IX28M1ZT7TILW';
        let tianliGPT_postSelector = '#postchat_postcontent';
        let tianliGPT_Title = '文章摘要';
        let tianliGPT_postURL = '/^https?://[^/]+/[0-9]{4}/[0-9]{2}/[0-9]{2}/';
        let tianliGPT_blacklist = '';
        let tianliGPT_wordLimit = '1000';
        let tianliGPT_typingAnimate = true;
        let tianliGPT_theme = 'default';
        var postChatConfig = {
          backgroundColor: "#3e86f6",
          bottom: "16px",
          left: "16px",
          fill: "#FFFFFF",
          width: "44px",
          frameWidth: "375px",
          frameHeight: "600px",
          defaultInput: true,
          upLoadWeb: true,
          showInviteLink: true,
          userTitle: "PostChat",
          userDesc: "如果你对网站的内容有任何疑问，可以来问我哦～",
          addButton: true,
          beginningText: "这篇文章介绍了",
          userIcon: "https://ai.tianli0.top/static/img/PostChat.webp",
          userMode: "magic",
          defaultChatQuestions: ["你好","你是谁"],
          defaultSearchQuestions: ["视频压缩","设计"]
        };
    </script>
    <script data-postchat_key="S-TA3IX28M1ZT7TILW" src="https://ai.tianli0.top/static/public/tianli_gpt.min.js"></script>
  <script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/chitose.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>