<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta name="theme-color" content="#123456"><meta name="generator" content="Hexo 4.2.0"><title>分类: About XJH - XJH&#039;s Secret Base</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#3273dc"><meta name="application-name" content="XJH&#039;s Secret Base"><meta name="msapplication-TileImage" content="/img/logo.png"><meta name="msapplication-TileColor" content="#3273dc"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="XJH&#039;s Secret Base"><meta name="apple-mobile-web-app-status-bar-style" content="default"><link rel="apple-touch-icon" sizes="144x144" href="/img/logo.png"><meta name="description" content="XJH的秘密基地"><meta property="og:type" content="blog"><meta property="og:title" content="XJH&#039;s Secret Base"><meta property="og:url" content="http://asgard-tim.github.io/"><meta property="og:site_name" content="XJH&#039;s Secret Base"><meta property="og:description" content="XJH的秘密基地"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://asgard-tim.github.io/img/og_image.png"><meta property="article:author" content="明诚"><meta property="article:tag" content="XJH&#039;s blogs"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://asgard-tim.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://Asgard-Tim.github.io"},"headline":"XJH's Secret Base","image":["http://asgard-tim.github.io/img/og_image.png"],"author":{"@type":"Person","name":"明诚"},"publisher":{"@type":"Organization","name":"XJH's Secret Base","logo":{"@type":"ImageObject","url":"http://asgard-tim.github.io/img/title.png"}},"description":"XJH的秘密基地"}</script><link rel="icon" href="/img/logo.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/xt256.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><link rel="stylesheet" href="\assets\css\APlayer.min.css" class="aplayer-style-marker">
<script src="\assets\js\APlayer.min.js" class="aplayer-script-marker"></script>
<script src="\assets\js\Meting.min.js" class="meting-script-marker"></script>
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/title.png" alt="XJH&#039;s Secret Base" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">时间轴</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com">GitHub</a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Asgard-Tim"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">分类</a></li><li class="is-active"><a href="#" aria-current="page">About XJH</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-02-11T14:13:58.000Z" title="2024/2/11 22:13:58">2024-02-11</time>发表</span><span class="level-item"><time dateTime="2024-02-11T14:24:26.595Z" title="2024/2/11 22:24:26">2024-02-11</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/About-XJH/">About XJH</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E6%98%8E%E6%85%B5/">明慵</a></span><span class="level-item">34 分钟读完 (大约5056个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/02/11/QQmsganalysis/">QQ聊天记录分析 QQMsgAnalysis</a></p><div class="content"><p>从PC端QQ中以<code>txt</code>格式导出聊天记录，存为<code>message.txt</code>。</p>
<p>需要安装的库: <code>numpy, seaborn, pandas, wordcloud, tdqm, paddlepaddle, paddlenlp</code></p>
<h2 id="准备阶段"><a href="#准备阶段" class="headerlink" title="准备阶段"></a>准备阶段</h2><h3 id="引入包"><a href="#引入包" class="headerlink" title="引入包"></a>引入包</h3><ul>
<li>pandas: 基础数据框架</li>
<li>matplotlib &amp; seaborn: 主要绘图框架</li>
<li>jieba: 中文分词</li>
<li>wordcloud: 词云</li>
<li>paddlenlp: 情感分析</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"><span class="keyword">import</span> jieba.posseg <span class="keyword">as</span> pseg</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> wordcloud <span class="keyword">import</span> WordCloud</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> matplotlib.ticker <span class="keyword">as</span> mticker</span><br><span class="line"><span class="keyword">import</span> matplotlib.transforms <span class="keyword">as</span> mtransforms</span><br><span class="line"><span class="keyword">from</span> matplotlib.colors <span class="keyword">import</span> ListedColormap</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> font_manager <span class="keyword">as</span> fm</span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">from</span> paddlenlp <span class="keyword">import</span> Taskflow</span><br><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure>

<h3 id="数据预处理"><a href="#数据预处理" class="headerlink" title="数据预处理"></a>数据预处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">convert_messages</span>(<span class="params">input_file, output_file</span>):</span><br><span class="line">    <span class="comment"># 定义CSV文件头部</span></span><br><span class="line">    header = [<span class="string">&quot;LocalId&quot;</span>, <span class="string">&quot;TalkerId&quot;</span>, <span class="string">&quot;Type&quot;</span>, <span class="string">&quot;SubType&quot;</span>, <span class="string">&quot;IsSender&quot;</span>, <span class="string">&quot;CreateTime&quot;</span>, <span class="string">&quot;Status&quot;</span>,</span><br><span class="line">              <span class="string">&quot;StrContent&quot;</span>, <span class="string">&quot;StrTime&quot;</span>, <span class="string">&quot;Remark&quot;</span>, <span class="string">&quot;NickName&quot;</span>, <span class="string">&quot;Sender&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打开输入和输出文件</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(output_file, <span class="string">&#x27;w&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> outfile:</span><br><span class="line">        csv_writer = csv.writer(outfile)</span><br><span class="line">        csv_writer.writerow(header)  <span class="comment"># 写入头部</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 用集合存储姓名</span></span><br><span class="line">        names = <span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 逐行读取txt文件内容并转换为csv格式</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(input_file, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">            lines = file.readlines()</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(lines), <span class="number">3</span>):</span><br><span class="line">                timestamp_and_name = lines[i].strip().split(<span class="string">&#x27; &#x27;</span>, <span class="number">2</span>)</span><br><span class="line">                date_time = timestamp_and_name[<span class="number">0</span>] + <span class="string">&#x27; &#x27;</span> + timestamp_and_name[<span class="number">1</span>]  <span class="comment"># 日期时间</span></span><br><span class="line">                name = timestamp_and_name[<span class="number">2</span>]  <span class="comment"># 姓名（或用户名）</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 根据姓名判断是否在指定范围内，如果不在，则跳过该条消息</span></span><br><span class="line">                <span class="keyword">if</span> name <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">&quot;王婧怡(清辉)&quot;</span>, <span class="string">&quot;成王败寇。&quot;</span>, <span class="string">&quot;皇后&quot;</span>, <span class="string">&quot;王婧怡&quot;</span>, <span class="string">&quot;世界之巅&quot;</span>, <span class="string">&quot;2558749399&quot;</span>]:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">                message = lines[i + <span class="number">1</span>].strip()  <span class="comment"># 消息内容</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 如果消息内容为空，则跳过该条消息</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> message:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 根据消息内容设置Type字段的值</span></span><br><span class="line">                <span class="keyword">if</span> <span class="string">&quot;[图片]&quot;</span> <span class="keyword">in</span> message:</span><br><span class="line">                    type_value = <span class="number">3</span></span><br><span class="line">                <span class="keyword">elif</span> <span class="string">&quot;[表情]&quot;</span> <span class="keyword">in</span> message:</span><br><span class="line">                    type_value = <span class="number">47</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    type_value = <span class="number">1</span>  <span class="comment"># 默认为1</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 根据姓名设置IsSender字段的值</span></span><br><span class="line">                <span class="keyword">if</span> name <span class="keyword">in</span> [<span class="string">&quot;王婧怡(清辉)&quot;</span>, <span class="string">&quot;成王败寇。&quot;</span>, <span class="string">&quot;皇后&quot;</span>, <span class="string">&quot;王婧怡&quot;</span>]:</span><br><span class="line">                    is_sender = <span class="number">0</span></span><br><span class="line">                <span class="keyword">elif</span> name <span class="keyword">in</span> [<span class="string">&quot;世界之巅&quot;</span>, <span class="string">&quot;2558749399&quot;</span>]:</span><br><span class="line">                    is_sender = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 将姓名添加到集合中，如果之前没有出现过的话</span></span><br><span class="line">                <span class="keyword">if</span> name <span class="keyword">not</span> <span class="keyword">in</span> names:</span><br><span class="line">                    <span class="comment"># print(name)</span></span><br><span class="line">                    names.add(name)</span><br><span class="line">                </span><br><span class="line">                <span class="comment"># 自动生成LocalId</span></span><br><span class="line">                local_id = i // <span class="number">3</span> + <span class="number">1</span></span><br><span class="line">                </span><br><span class="line">                <span class="comment"># 构建CSV行</span></span><br><span class="line">                csv_row = [local_id, <span class="number">1</span>, type_value, <span class="number">0</span>, is_sender, i, <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                           message, date_time, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>]</span><br><span class="line">                csv_writer.writerow(csv_row)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;转换完成，结果保存在 <span class="subst">&#123;output_file&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用示例</span></span><br><span class="line"><span class="comment"># convert_messages(&quot;message.txt&quot;, &quot;messages.csv&quot;)</span></span><br></pre></td></tr></table></figure>

<h3 id="绘图设置"><a href="#绘图设置" class="headerlink" title="绘图设置"></a>绘图设置</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sns.set_theme(style=<span class="string">&quot;ticks&quot;</span>)</span><br><span class="line">font = <span class="string">&quot;simsun.ttc&quot;</span></span><br><span class="line">fp = fm.FontProperties(fname=font)</span><br><span class="line">plt.rcParams[<span class="string">&quot;axes.unicode_minus&quot;</span>] = <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h3 id="人名标签"><a href="#人名标签" class="headerlink" title="人名标签"></a>人名标签</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">labels = [<span class="string">&quot;WJY&quot;</span>, <span class="string">&quot;XJH&quot;</span>]</span><br></pre></td></tr></table></figure>

<h3 id="数据读取"><a href="#数据读取" class="headerlink" title="数据读取"></a>数据读取</h3><ul>
<li><code>filePath</code>: 消息记录文件的路径</li>
<li><code>dStart</code>: 开始的时间</li>
<li><code>dEnd</code>: 结束的时间</li>
<li><code>tZone</code>: 时区，例如北京时间为 <code>+8</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">filePath = <span class="string">&quot;messages.csv&quot;</span></span><br><span class="line">dStart = <span class="string">&quot;2022-08-07 00:00:00 +0800&quot;</span></span><br><span class="line">dEnd = <span class="string">&quot;2024-02-10 23:59:59 +0800&quot;</span></span><br><span class="line">tZone = <span class="number">8</span></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(filePath, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"></span><br><span class="line">df.loc[:, <span class="string">&quot;StrTime&quot;</span>] = pd.to_datetime(df[<span class="string">&quot;StrTime&quot;</span>])</span><br><span class="line">df.loc[:, <span class="string">&quot;day&quot;</span>] = pd.to_datetime(df[<span class="string">&quot;StrTime&quot;</span>]).dt.dayofweek</span><br><span class="line">df.loc[:, <span class="string">&quot;hour&quot;</span>] = pd.to_datetime(df[<span class="string">&quot;StrTime&quot;</span>]).dt.hour</span><br><span class="line">df.loc[:, <span class="string">&quot;Count&quot;</span>] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">dfs = [df.query(<span class="string">&quot;IsSender == 0&quot;</span>), df.query(<span class="string">&quot;IsSender == 1&quot;</span>)]</span><br></pre></td></tr></table></figure>

<h3 id="消息过滤"><a href="#消息过滤" class="headerlink" title="消息过滤"></a>消息过滤</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">textFilter</span>(<span class="params">text: <span class="built_in">str</span></span>):</span><br><span class="line">    text = text.lower()</span><br><span class="line">    <span class="comment"># try:</span></span><br><span class="line">    <span class="comment">#     co = re.compile(&quot;[\U00010000-\U0010ffff]&quot;)</span></span><br><span class="line">    <span class="comment"># except re.error:</span></span><br><span class="line">    <span class="comment">#     co = re.compile(&quot;[\uD800-\uDBFF][\uDC00-\uDFFF]&quot;)</span></span><br><span class="line">    <span class="comment"># text = co.sub(&quot; &quot;, text)</span></span><br><span class="line">    co = re.<span class="built_in">compile</span>(<span class="string">&quot;\[[\u4e00-\u9fa5]+\]&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> co.sub(<span class="string">&quot; &quot;</span>, text)</span><br></pre></td></tr></table></figure>

<h3 id="获取文本消息"><a href="#获取文本消息" class="headerlink" title="获取文本消息"></a>获取文本消息</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">texts = [</span><br><span class="line">    [textFilter(i) <span class="keyword">for</span> i <span class="keyword">in</span> dfs[<span class="number">0</span>].query(<span class="string">&quot;Type == 1&quot;</span>)[<span class="string">&quot;StrContent&quot;</span>].to_list()],</span><br><span class="line">    [textFilter(i) <span class="keyword">for</span> i <span class="keyword">in</span> dfs[<span class="number">1</span>].query(<span class="string">&quot;Type == 1&quot;</span>)[<span class="string">&quot;StrContent&quot;</span>].to_list()],</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h2 id="消息频率分析"><a href="#消息频率分析" class="headerlink" title="消息频率分析"></a>消息频率分析</h2><h3 id="类型分析"><a href="#类型分析" class="headerlink" title="类型分析"></a>类型分析</h3><p>根据消息的类型进行分类，可以看出喜欢发送的消息类型，同时也可以看出谁发的多</p>
<ul>
<li>1 &#x3D; Text</li>
<li>3 &#x3D; Image</li>
<li>34 &#x3D; Voice</li>
<li>43 &#x3D; Video</li>
<li>47 &#x3D; Sticker</li>
<li>48 &#x3D; Location</li>
<li>10000 &#x3D; System</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">    data[labels[i]] = [</span><br><span class="line">        <span class="built_in">len</span>(dfs[i].query(<span class="string">&quot;Type == 1&quot;</span>)),</span><br><span class="line">        <span class="built_in">len</span>(dfs[i].query(<span class="string">&quot;Type == 3&quot;</span>)),</span><br><span class="line">        <span class="built_in">len</span>(dfs[i].query(<span class="string">&quot;Type == 34&quot;</span>)),</span><br><span class="line">        <span class="built_in">len</span>(dfs[i].query(<span class="string">&quot;Type == 43&quot;</span>)),</span><br><span class="line">        <span class="built_in">len</span>(dfs[i].query(<span class="string">&quot;Type == 47&quot;</span>)),</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">data = (</span><br><span class="line">    pd.DataFrame(data, index=[<span class="string">&quot;Text&quot;</span>, <span class="string">&quot;Image&quot;</span>, <span class="string">&quot;Voice&quot;</span>, <span class="string">&quot;Video&quot;</span>, <span class="string">&quot;Sticker&quot;</span>])</span><br><span class="line">    .reset_index()</span><br><span class="line">    .melt(<span class="string">&quot;index&quot;</span>)</span><br><span class="line">    .rename(columns=&#123;<span class="string">&quot;index&quot;</span>: <span class="string">&quot;Type&quot;</span>, <span class="string">&quot;variable&quot;</span>: <span class="string">&quot;Person&quot;</span>, <span class="string">&quot;value&quot;</span>: <span class="string">&quot;Count&quot;</span>&#125;)</span><br><span class="line">)</span><br><span class="line">g = sns.catplot(data, kind=<span class="string">&quot;bar&quot;</span>, x=<span class="string">&quot;Type&quot;</span>, y=<span class="string">&quot;Count&quot;</span>, hue=<span class="string">&quot;Person&quot;</span>, palette=<span class="string">&quot;dark&quot;</span>, alpha=<span class="number">0.6</span>, height=<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ax <span class="keyword">in</span> g.axes.ravel():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">        ax.bar_label(ax.containers[i], fontsize=<span class="number">9</span>)</span><br><span class="line">sns.move_legend(g, <span class="string">&quot;upper right&quot;</span>)</span><br><span class="line">plt.yscale(<span class="string">&quot;log&quot;</span>)</span><br><span class="line"></span><br><span class="line">g.figure.set_size_inches(<span class="number">6</span>, <span class="number">5</span>)</span><br><span class="line">g.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_17_0.png" alt="png"></p>
<h3 id="消息长度分析"><a href="#消息长度分析" class="headerlink" title="消息长度分析"></a>消息长度分析</h3><ul>
<li><code>sN</code>: 设置显示范围：<br>$$<br>\mu + \mathrm{sN} * \sigma<br>$$</li>
<li><code>multiple</code>: 直方图堆叠格式</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sN = <span class="number">3</span></span><br><span class="line">multiple = <span class="string">&quot;dodge&quot;</span></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">mu, std = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">data = &#123;<span class="string">&quot;Length&quot;</span>: [], <span class="string">&quot;Person&quot;</span>: []&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">    length = [<span class="built_in">len</span>(textFilter(i)) <span class="keyword">for</span> i <span class="keyword">in</span> texts[i]]</span><br><span class="line">    data[<span class="string">&quot;Length&quot;</span>] += length</span><br><span class="line">    data[<span class="string">&quot;Person&quot;</span>] += [labels[i]] * <span class="built_in">len</span>(length)</span><br><span class="line">    <span class="keyword">if</span> np.mean(length) + sN * np.std(length) &gt; mu + std:</span><br><span class="line">        mu, std = np.mean(length), np.std(length)</span><br><span class="line">xlim = <span class="built_in">int</span>(np.ceil(mu + sN * std))</span><br><span class="line"></span><br><span class="line">data = pd.DataFrame(data)</span><br><span class="line">bins = np.linspace(<span class="number">0</span>, xlim, xlim + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">ax = sns.histplot(</span><br><span class="line">    data=data,</span><br><span class="line">    x=<span class="string">&quot;Length&quot;</span>,</span><br><span class="line">    hue=<span class="string">&quot;Person&quot;</span>,</span><br><span class="line">    bins=bins,</span><br><span class="line">    multiple=multiple,</span><br><span class="line">    edgecolor=<span class="string">&quot;.3&quot;</span>,</span><br><span class="line">    linewidth=<span class="number">0.5</span>,</span><br><span class="line">    palette=<span class="string">&quot;dark&quot;</span>,</span><br><span class="line">    alpha=<span class="number">0.6</span>,</span><br><span class="line">)</span><br><span class="line">ax.set_xlim(<span class="number">0</span>, xlim)</span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Length of Message&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax.figure.set_size_inches(<span class="number">8</span>, <span class="number">4</span>)</span><br><span class="line">ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_20_0.png" alt="png"></p>
<h3 id="每日活跃分析"><a href="#每日活跃分析" class="headerlink" title="每日活跃分析"></a>每日活跃分析</h3><p>划分每日24小时内每小时发送的消息数，可以得知每天的活跃的时间段</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;<span class="string">&quot;Time&quot;</span>: [], <span class="string">&quot;Person&quot;</span>: []&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">    hour = dfs[i][<span class="string">&quot;hour&quot;</span>].to_list()</span><br><span class="line">    data[<span class="string">&quot;Time&quot;</span>] += hour</span><br><span class="line">    data[<span class="string">&quot;Person&quot;</span>] += [labels[i]] * <span class="built_in">len</span>(hour)</span><br><span class="line"></span><br><span class="line">data = pd.DataFrame(data)</span><br><span class="line">bins = np.arange(<span class="number">0</span>, <span class="number">25</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">ax = sns.histplot(</span><br><span class="line">    data=data,</span><br><span class="line">    x=<span class="string">&quot;Time&quot;</span>,</span><br><span class="line">    hue=<span class="string">&quot;Person&quot;</span>,</span><br><span class="line">    bins=bins,</span><br><span class="line">    multiple=multiple,</span><br><span class="line">    edgecolor=<span class="string">&quot;.3&quot;</span>,</span><br><span class="line">    linewidth=<span class="number">0.5</span>,</span><br><span class="line">    palette=<span class="string">&quot;dark&quot;</span>,</span><br><span class="line">    alpha=<span class="number">0.6</span>,</span><br><span class="line">)</span><br><span class="line">ax.set_xticks(bins)</span><br><span class="line">ax.set_xticklabels(bins)</span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Hour&quot;</span>)</span><br><span class="line">ax.set_xlim(<span class="number">0</span>, <span class="number">24</span>)</span><br><span class="line">sns.move_legend(ax, loc=<span class="string">&quot;upper center&quot;</span>, bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">1.2</span>), ncol=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">ax.figure.set_size_inches(<span class="number">8</span>, <span class="number">4</span>)</span><br><span class="line">ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_22_0.png" alt="png"></p>
<h3 id="每周活跃分析"><a href="#每周活跃分析" class="headerlink" title="每周活跃分析"></a>每周活跃分析</h3><p>查看一周内从周一到周日每天发送的消息数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">grouper = pd.Grouper(key=<span class="string">&quot;day&quot;</span>)</span><br><span class="line">data = df.groupby(grouper)[<span class="string">&quot;Count&quot;</span>].<span class="built_in">sum</span>()</span><br><span class="line">data = data.sort_index()</span><br><span class="line">data.index = [<span class="string">&quot;Mon&quot;</span>, <span class="string">&quot;Tue&quot;</span>, <span class="string">&quot;Wed&quot;</span>, <span class="string">&quot;Thu&quot;</span>, <span class="string">&quot;Fri&quot;</span>, <span class="string">&quot;Sat&quot;</span>, <span class="string">&quot;Sun&quot;</span>]</span><br><span class="line"></span><br><span class="line">ax = sns.barplot(data=data, errorbar=<span class="literal">None</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Weekday&quot;</span>)</span><br><span class="line">ax.bar_label(ax.containers[<span class="number">0</span>], fontsize=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">ax.figure.set_size_inches(<span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line">ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_24_0.png" alt="png"></p>
<h3 id="按周划分年度活跃分析"><a href="#按周划分年度活跃分析" class="headerlink" title="按周划分年度活跃分析"></a>按周划分年度活跃分析</h3><p>划分每7天内发送的消息数，可以得知每周的活跃的时间段</p>
<ul>
<li><code>wTicks</code>: 每个刻度相差的数值</li>
<li><code>wStart</code>: <strong>当年</strong>第一个周一的日期</li>
<li><code>wEnd</code>: <strong>次年</strong>第一个周一的日期</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wTicks = <span class="number">500</span></span><br><span class="line">wStart = <span class="string">&quot;2022-08-01&quot;</span></span><br><span class="line">wEnd = <span class="string">&quot;2024-02-09&quot;</span></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">grouper = pd.Grouper(key=<span class="string">&quot;StrTime&quot;</span>, freq=<span class="string">&quot;W-MON&quot;</span>)</span><br><span class="line">data = df.groupby(grouper)[<span class="string">&quot;Count&quot;</span>].<span class="built_in">sum</span>().to_frame()</span><br><span class="line">data.index = pd.date_range(start=wStart, end=wEnd, freq=<span class="string">&quot;W-MON&quot;</span>).strftime(<span class="string">&quot;%m-%d&quot;</span>)</span><br><span class="line">data.columns = [<span class="string">&quot;Count&quot;</span>]</span><br><span class="line"></span><br><span class="line">vM = np.ceil(data[<span class="string">&quot;Count&quot;</span>].<span class="built_in">max</span>() / wTicks) * wTicks</span><br><span class="line">norm = plt.Normalize(<span class="number">0</span>, vM)</span><br><span class="line">sm = plt.cm.ScalarMappable(cmap=<span class="string">&quot;Reds&quot;</span>, norm=norm)</span><br><span class="line"></span><br><span class="line">ax = sns.barplot(x=data.index, y=data[<span class="string">&quot;Count&quot;</span>], hue=data[<span class="string">&quot;Count&quot;</span>], hue_norm=norm, palette=<span class="string">&quot;Reds&quot;</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Date&quot;</span>)</span><br><span class="line">plt.xticks(rotation=<span class="number">60</span>)</span><br><span class="line"><span class="keyword">for</span> bar <span class="keyword">in</span> ax.containers:</span><br><span class="line">    ax.bar_label(bar, fontsize=<span class="number">10</span>, fmt=<span class="string">&quot;%.0f&quot;</span>)</span><br><span class="line">ax.get_legend().remove()</span><br><span class="line"></span><br><span class="line">axpos = ax.get_position()</span><br><span class="line">caxpos = mtransforms.Bbox.from_extents(axpos.x1 + <span class="number">0.02</span>, axpos.y0, axpos.x1 + <span class="number">0.03</span>, axpos.y1)</span><br><span class="line">cax = ax.figure.add_axes(caxpos)</span><br><span class="line"></span><br><span class="line">locator = mticker.MultipleLocator(wTicks)</span><br><span class="line">formatter = mticker.StrMethodFormatter(<span class="string">&quot;&#123;x:.0f&#125;&quot;</span>)</span><br><span class="line">cax.figure.colorbar(sm, cax=cax, ticks=locator, <span class="built_in">format</span>=formatter)</span><br><span class="line"></span><br><span class="line">ax.figure.set_size_inches(<span class="number">20</span>, <span class="number">8</span>)</span><br><span class="line">ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>

<pre><code>f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
</code></pre>
<p><img src="/images/QQmsganalysis_files/QQmsganalysis_27_1.png" alt="png"></p>
<h3 id="按周划分聊天热情分析"><a href="#按周划分聊天热情分析" class="headerlink" title="按周划分聊天热情分析"></a>按周划分聊天热情分析</h3><p>划分每7天内的聊天热情指数，聊天热情指数为发送的消息数减去收到的消息数与总消息数的比值：<br>$$<br>E &#x3D; \frac{Q_\mathrm{S} - Q_\mathrm{R}}{Q_\mathrm{S} + Q_\mathrm{R}}<br>$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">grouper = pd.Grouper(key=<span class="string">&quot;StrTime&quot;</span>, freq=<span class="string">&quot;W-MON&quot;</span>)</span><br><span class="line">df_W1 = dfs[<span class="number">0</span>].groupby(grouper)[<span class="string">&quot;Count&quot;</span>].<span class="built_in">sum</span>()</span><br><span class="line">df_W2 = dfs[<span class="number">1</span>].groupby(grouper)[<span class="string">&quot;Count&quot;</span>].<span class="built_in">sum</span>()</span><br><span class="line"></span><br><span class="line">data = pd.DataFrame(&#123;<span class="string">&quot;E&quot;</span>: (df_W1 - df_W2) / (df_W1 + df_W2)&#125;)</span><br><span class="line">data.index = pd.date_range(start=wStart, end=wEnd, freq=<span class="string">&quot;W-MON&quot;</span>).strftime(<span class="string">&quot;%m-%d&quot;</span>)</span><br><span class="line"></span><br><span class="line">vM = data[<span class="string">&quot;E&quot;</span>].<span class="built_in">abs</span>().<span class="built_in">max</span>()</span><br><span class="line">vm = data[<span class="string">&quot;E&quot;</span>].<span class="built_in">min</span>()</span><br><span class="line">norm = plt.Normalize(-vM, vM)</span><br><span class="line">sm = plt.cm.ScalarMappable(cmap=<span class="string">&quot;coolwarm&quot;</span>, norm=norm)</span><br><span class="line"><span class="built_in">print</span>(data.index)</span><br><span class="line"><span class="built_in">print</span>(data[<span class="string">&quot;E&quot;</span>])</span><br><span class="line"><span class="keyword">if</span> data[<span class="string">&quot;E&quot;</span>].isna().<span class="built_in">any</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;列 &#x27;E&#x27; 中包含NaN项&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;列 &#x27;E&#x27; 中不包含NaN项&quot;</span>)</span><br><span class="line">data[<span class="string">&quot;E&quot;</span>].fillna(<span class="number">0</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">ax = sns.barplot(x=data.index, y=data[<span class="string">&quot;E&quot;</span>], hue=data[<span class="string">&quot;E&quot;</span>], hue_norm=norm, palette=<span class="string">&quot;coolwarm&quot;</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Date&quot;</span>)</span><br><span class="line">plt.xticks(rotation=<span class="number">60</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Enthusiasm Index&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> bar <span class="keyword">in</span> ax.containers:</span><br><span class="line">    ax.bar_label(bar, fontsize=<span class="number">10</span>, fmt=<span class="string">&quot;%.2f&quot;</span>)</span><br><span class="line">ax.get_legend().remove()</span><br><span class="line"></span><br><span class="line">axpos = ax.get_position()</span><br><span class="line">caxpos = mtransforms.Bbox.from_extents(axpos.x1 + <span class="number">0.02</span>, axpos.y0, axpos.x1 + <span class="number">0.03</span>, axpos.y1)</span><br><span class="line">cax = ax.figure.add_axes(caxpos)</span><br><span class="line"></span><br><span class="line">locator = mticker.MultipleLocator(<span class="number">0.1</span>)</span><br><span class="line">formatter = mticker.StrMethodFormatter(<span class="string">&quot;&#123;x:.2f&#125;&quot;</span>)</span><br><span class="line">cax.figure.colorbar(sm, cax=cax, ticks=locator, <span class="built_in">format</span>=formatter)</span><br><span class="line"></span><br><span class="line">ax.figure.set_size_inches(<span class="number">20</span>, <span class="number">8</span>)</span><br><span class="line">ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>

<pre><code>f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
F:\user\Temp\ipykernel_9048\3741989350.py:18: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing &#39;df[col].method(value, inplace=True)&#39;, try using &#39;df.method(&#123;col: value&#125;, inplace=True)&#39; or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
</code></pre>
<p>​<br>​      data[“E”].fillna(0, inplace&#x3D;True)</p>
<pre><code>Index([&#39;08-01&#39;, &#39;08-08&#39;, &#39;08-15&#39;, &#39;08-22&#39;, &#39;08-29&#39;, &#39;09-05&#39;, &#39;09-12&#39;, &#39;09-19&#39;,
       &#39;09-26&#39;, &#39;10-03&#39;, &#39;10-10&#39;, &#39;10-17&#39;, &#39;10-24&#39;, &#39;10-31&#39;, &#39;11-07&#39;, &#39;11-14&#39;,
       &#39;11-21&#39;, &#39;11-28&#39;, &#39;12-05&#39;, &#39;12-12&#39;, &#39;12-19&#39;, &#39;12-26&#39;, &#39;01-02&#39;, &#39;01-09&#39;,
       &#39;01-16&#39;, &#39;01-23&#39;, &#39;01-30&#39;, &#39;02-06&#39;, &#39;02-13&#39;, &#39;02-20&#39;, &#39;02-27&#39;, &#39;03-06&#39;,
       &#39;03-13&#39;, &#39;03-20&#39;, &#39;03-27&#39;, &#39;04-03&#39;, &#39;04-10&#39;, &#39;04-17&#39;, &#39;04-24&#39;, &#39;05-01&#39;,
       &#39;05-08&#39;, &#39;05-15&#39;, &#39;05-22&#39;, &#39;05-29&#39;, &#39;06-05&#39;, &#39;06-12&#39;, &#39;06-19&#39;, &#39;06-26&#39;,
       &#39;07-03&#39;, &#39;07-10&#39;, &#39;07-17&#39;, &#39;07-24&#39;, &#39;07-31&#39;, &#39;08-07&#39;, &#39;08-14&#39;, &#39;08-21&#39;,
       &#39;08-28&#39;, &#39;09-04&#39;, &#39;09-11&#39;, &#39;09-18&#39;, &#39;09-25&#39;, &#39;10-02&#39;, &#39;10-09&#39;, &#39;10-16&#39;,
       &#39;10-23&#39;, &#39;10-30&#39;, &#39;11-06&#39;, &#39;11-13&#39;, &#39;11-20&#39;, &#39;11-27&#39;, &#39;12-04&#39;, &#39;12-11&#39;,
       &#39;12-18&#39;, &#39;12-25&#39;, &#39;01-01&#39;, &#39;01-08&#39;, &#39;01-15&#39;, &#39;01-22&#39;, &#39;01-29&#39;, &#39;02-05&#39;],
      dtype=&#39;object&#39;)
08-01    0.120000
08-08    0.109091
08-15    0.071633
08-22   -0.007092
08-29    0.075426
           ...   
01-08   -0.003752
01-15    0.100529
01-22    0.159184
01-29    0.068273
02-05    0.014085
Name: E, Length: 80, dtype: float64
列 &#39;E&#39; 中包含NaN项
</code></pre>
<p><img src="/images/QQmsganalysis_files/QQmsganalysis_29_2.png" alt="png"></p>
<h3 id="按日划分年度活跃分析"><a href="#按日划分年度活跃分析" class="headerlink" title="按日划分年度活跃分析"></a>按日划分年度活跃分析</h3><p>以热力图的方式展示按日划分的年度活跃情况</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">grouper = pd.Grouper(key=<span class="string">&quot;StrTime&quot;</span>, freq=<span class="string">&quot;D&quot;</span>)</span><br><span class="line">data = df.groupby(grouper)[<span class="string">&quot;Count&quot;</span>].<span class="built_in">sum</span>()</span><br><span class="line">data = data.to_frame()</span><br><span class="line"></span><br><span class="line">wStart = <span class="string">&quot;2023-01-01&quot;</span></span><br><span class="line">wEnd = <span class="string">&quot;2024-01-01&quot;</span></span><br><span class="line"></span><br><span class="line">data[<span class="string">&quot;date&quot;</span>] = data.index</span><br><span class="line">data[<span class="string">&quot;week&quot;</span>] = data[<span class="string">&quot;date&quot;</span>].dt.isocalendar()[<span class="string">&quot;week&quot;</span>]</span><br><span class="line">data[<span class="string">&quot;day&quot;</span>] = data[<span class="string">&quot;date&quot;</span>].dt.dayofweek</span><br><span class="line">data.index = <span class="built_in">range</span>(<span class="built_in">len</span>(data))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">7</span>):</span><br><span class="line">    <span class="keyword">if</span> data.loc[i, <span class="string">&quot;week&quot;</span>] &gt; <span class="number">1</span>:</span><br><span class="line">        data.loc[i, <span class="string">&quot;week&quot;</span>] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line">data = data.pivot_table(index=<span class="string">&quot;day&quot;</span>, columns=<span class="string">&quot;week&quot;</span>, values=<span class="string">&quot;Count&quot;</span>)</span><br><span class="line">data.index = [<span class="string">&quot;Mon&quot;</span>, <span class="string">&quot;Tue&quot;</span>, <span class="string">&quot;Wed&quot;</span>, <span class="string">&quot;Thu&quot;</span>, <span class="string">&quot;Fri&quot;</span>, <span class="string">&quot;Sat&quot;</span>, <span class="string">&quot;Sun&quot;</span>]</span><br><span class="line">data.columns = pd.date_range(start=wStart, end=wEnd, freq=<span class="string">&quot;W-MON&quot;</span>).strftime(<span class="string">&quot;%m-%d&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax = sns.heatmap(</span><br><span class="line">    data,</span><br><span class="line">    annot=<span class="literal">False</span>,</span><br><span class="line">    linewidths=<span class="number">0.5</span>,</span><br><span class="line">    cbar_kws=&#123;<span class="string">&quot;orientation&quot;</span>: <span class="string">&quot;vertical&quot;</span>, <span class="string">&quot;location&quot;</span>: <span class="string">&quot;left&quot;</span>, <span class="string">&quot;pad&quot;</span>: <span class="number">0.03</span>&#125;,</span><br><span class="line">    cmap=<span class="string">&quot;Reds&quot;</span>,</span><br><span class="line">)</span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Week&quot;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Weekday&quot;</span>)</span><br><span class="line">ax.figure.set_size_inches(<span class="number">24</span>, <span class="number">4</span>)</span><br><span class="line">ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>

<pre><code>f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)


     Count       date  week  day
0       46 2022-08-07     0    6
1      104 2022-08-08     0    0
2      100 2022-08-09     0    1
3       47 2022-08-10     0    2
4        3 2022-08-11     0    3
..     ...        ...   ...  ...
547     76 2024-02-05     6    0
548      0 2024-02-06     6    1
549      0 2024-02-07     6    2
550     47 2024-02-08     6    3
551     24 2024-02-09     6    4

[552 rows x 4 columns]
</code></pre>
<p><img src="/images/QQmsganalysis_files/QQmsganalysis_31_2.png" alt="png"></p>
<h2 id="词语分析"><a href="#词语分析" class="headerlink" title="词语分析"></a>词语分析</h2><h3 id="分词词典、停止词与去除词性"><a href="#分词词典、停止词与去除词性" class="headerlink" title="分词词典、停止词与去除词性"></a>分词词典、停止词与去除词性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jieba.load_userdict(<span class="string">&quot;thuocl.txt&quot;</span>)</span><br><span class="line">jieba.load_userdict(<span class="string">&quot;userdict.txt&quot;</span>)</span><br><span class="line">stopwords = [line.strip() <span class="keyword">for</span> line <span class="keyword">in</span> <span class="built_in">open</span>(<span class="string">&quot;stopwords.txt&quot;</span>, <span class="string">&quot;r&quot;</span>).readlines()] + [<span class="string">&quot; &quot;</span>, <span class="string">&quot;\n&quot;</span>, <span class="string">&quot;\r\n&quot;</span>]</span><br><span class="line">wordclass = [<span class="string">&quot;v&quot;</span>, <span class="string">&quot;u&quot;</span>, <span class="string">&quot;vd&quot;</span>, <span class="string">&quot;r&quot;</span>, <span class="string">&quot;p&quot;</span>, <span class="string">&quot;w&quot;</span>]</span><br></pre></td></tr></table></figure>

<h3 id="分词函数"><a href="#分词函数" class="headerlink" title="分词函数"></a>分词函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">wordSplit</span>(<span class="params">texts, wordclass</span>):</span><br><span class="line">    words = []</span><br><span class="line">    pbar = tqdm(total=<span class="built_in">len</span>(texts))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(texts)):</span><br><span class="line">        res = pseg.lcut(texts[i])</span><br><span class="line">        <span class="keyword">for</span> pair <span class="keyword">in</span> res:</span><br><span class="line">            <span class="keyword">if</span> pair.word <span class="keyword">in</span> stopwords:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> pair.flag <span class="keyword">in</span> wordclass:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            words.append(pair.word)</span><br><span class="line">        <span class="keyword">if</span> i % <span class="number">1000</span> == <span class="number">0</span>:</span><br><span class="line">            pbar.update(<span class="number">1000</span>)</span><br><span class="line">    pbar.close()</span><br><span class="line">    <span class="keyword">return</span> words</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">words = [wordSplit(texts[i], wordclass) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>)]</span><br></pre></td></tr></table></figure>

<pre><code>15000it [00:08, 1837.45it/s]                           
17000it [00:07, 2395.06it/s]                           
</code></pre>
<h3 id="词云绘制"><a href="#词云绘制" class="headerlink" title="词云绘制"></a>词云绘制</h3><ul>
<li><code>font</code>: 字体路径，至少支持中文，最好同时支持中文和emoji</li>
<li><code>mask</code>: 词云的蒙版，影响词云的形状</li>
<li><code>cmap</code>: 色阶</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">font = <span class="string">&quot;simsun.ttc&quot;</span></span><br><span class="line">mask = np.array(Image.<span class="built_in">open</span>(<span class="string">&quot;mask.png&quot;</span>))</span><br><span class="line">masks = [np.array(Image.<span class="built_in">open</span>(<span class="string">&quot;mask_L.jpg&quot;</span>)), np.array(Image.<span class="built_in">open</span>(<span class="string">&quot;mask_F.jpg&quot;</span>))]</span><br><span class="line">cmap = ListedColormap(</span><br><span class="line">    [</span><br><span class="line">        <span class="string">&quot;#fac1cf&quot;</span>,</span><br><span class="line">        <span class="string">&quot;#a9d7ba&quot;</span>,</span><br><span class="line">        <span class="string">&quot;#58b1db&quot;</span>,</span><br><span class="line">        <span class="string">&quot;#f296ab&quot;</span>,</span><br><span class="line">        <span class="string">&quot;#5dab81&quot;</span>,</span><br><span class="line">        <span class="string">&quot;#3d9ec4&quot;</span>,</span><br><span class="line">        <span class="string">&quot;#e16a8d&quot;</span>,</span><br><span class="line">        <span class="string">&quot;#237b50&quot;</span>,</span><br><span class="line">        <span class="string">&quot;#1e8299&quot;</span>,</span><br><span class="line">        <span class="string">&quot;#8d3549&quot;</span>,</span><br><span class="line">        <span class="string">&quot;#35563b&quot;</span>,</span><br><span class="line">        <span class="string">&quot;#2d5d73&quot;</span>,</span><br><span class="line">    ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">wordCloud</span>(<span class="params">text, font, mask, cmap</span>):</span><br><span class="line">    wc = WordCloud(</span><br><span class="line">        background_color=<span class="string">&quot;white&quot;</span>,</span><br><span class="line">        scale=<span class="number">5</span>,</span><br><span class="line">        font_path=font,</span><br><span class="line">        mask=mask,</span><br><span class="line">        colormap=cmap,</span><br><span class="line">        collocations=<span class="literal">False</span>,</span><br><span class="line">    ).generate(text)</span><br><span class="line">    plt.imshow(wc)</span><br><span class="line">    plt.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wordCloud(<span class="string">&quot; &quot;</span>.join(words[<span class="number">0</span>]), font, masks[<span class="number">0</span>], cmap)</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_40_0.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wordCloud(<span class="string">&quot; &quot;</span>.join(words[<span class="number">1</span>]), font, masks[<span class="number">1</span>], cmap)</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_41_0.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wordCloud(<span class="string">&quot; &quot;</span>.join(words[<span class="number">0</span>] + words[<span class="number">1</span>]), font, mask, cmap)</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_42_0.png" alt="png"></p>
<h3 id="高频词排行"><a href="#高频词排行" class="headerlink" title="高频词排行"></a>高频词排行</h3><p>列出常用的 N 个词，并且展示双方的贡献</p>
<ul>
<li><code>wN</code>: 词的数目，默认为50</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wN = <span class="number">50</span></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">data = pd.DataFrame(</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;words&quot;</span>: words[<span class="number">0</span>] + words[<span class="number">1</span>],</span><br><span class="line">        <span class="string">&quot;L&quot;</span>: [<span class="number">1</span>] * <span class="built_in">len</span>(words[<span class="number">0</span>]) + [<span class="number">0</span>] * <span class="built_in">len</span>(words[<span class="number">1</span>]),</span><br><span class="line">        <span class="string">&quot;F&quot;</span>: [<span class="number">0</span>] * <span class="built_in">len</span>(words[<span class="number">0</span>]) + [<span class="number">1</span>] * <span class="built_in">len</span>(words[<span class="number">1</span>]),</span><br><span class="line">        <span class="string">&quot;S&quot;</span>: [<span class="number">1</span>] * <span class="built_in">len</span>(words[<span class="number">0</span>]) + [<span class="number">1</span>] * <span class="built_in">len</span>(words[<span class="number">1</span>]),</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">grouper = pd.Grouper(key=<span class="string">&quot;words&quot;</span>)</span><br><span class="line">data = data.groupby(grouper).<span class="built_in">sum</span>()</span><br><span class="line">data = data.sort_values(by=<span class="string">&quot;S&quot;</span>, ascending=<span class="literal">False</span>)</span><br><span class="line">data = data.iloc[:wN]</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将部分无法识别的 emoji 转化为文字</span></span><br><span class="line">tmp = data.index.to_list()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(wN):</span><br><span class="line">    <span class="keyword">if</span> tmp[i] == <span class="string">&quot;😘&quot;</span>:</span><br><span class="line">        tmp[i] = <span class="string">&quot;[亲亲]&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> tmp[i] == <span class="string">&quot;😂&quot;</span>:</span><br><span class="line">        tmp[i] = <span class="string">&quot;[笑哭]&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> tmp[i] == <span class="string">&quot;🤦&quot;</span>:</span><br><span class="line">        tmp[i] = <span class="string">&quot;[捂脸]&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> tmp[i] == <span class="string">&quot;😁&quot;</span>:</span><br><span class="line">        tmp[i] = <span class="string">&quot;[呲牙]&quot;</span></span><br><span class="line">data.index = tmp</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">ratio = data[<span class="string">&quot;L&quot;</span>] / data[<span class="string">&quot;S&quot;</span>]</span><br><span class="line">norm = plt.Normalize(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">sm = plt.cm.ScalarMappable(cmap=<span class="string">&quot;coolwarm&quot;</span>, norm=norm)</span><br><span class="line"></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">10</span>, <span class="number">10</span>), dpi=<span class="number">300</span>)</span><br><span class="line">grid = plt.GridSpec(<span class="number">1</span>, <span class="number">4</span>, wspace=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">ax0 = fig.add_subplot(grid[<span class="number">0</span>, <span class="number">0</span>])</span><br><span class="line">sns.barplot(x=-data[<span class="string">&quot;L&quot;</span>], y=data.index, ax=ax0, hue=ratio, hue_norm=norm, palette=<span class="string">&quot;coolwarm&quot;</span>)</span><br><span class="line">ax1 = fig.add_subplot(grid[<span class="number">0</span>, <span class="number">1</span>:])</span><br><span class="line">sns.barplot(x=data[<span class="string">&quot;F&quot;</span>], y=data.index, ax=ax1, hue=(<span class="number">1</span> - ratio), hue_norm=norm, palette=<span class="string">&quot;coolwarm&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax0.set_xlabel(<span class="string">&quot;Word Frequency&quot;</span>)</span><br><span class="line">ax0.set_ylabel(<span class="string">&quot;&quot;</span>)</span><br><span class="line">ax0.set_xticks(<span class="built_in">range</span>(-<span class="number">400</span>, <span class="number">1</span>, <span class="number">200</span>))</span><br><span class="line">ax0.set_xticklabels([<span class="number">400</span>, <span class="number">200</span>, <span class="number">0</span>])</span><br><span class="line">ax0.set_xlim(-<span class="number">400</span>, <span class="number">0</span>)</span><br><span class="line">ax0.set_yticks([])</span><br><span class="line">ax0.spines[<span class="string">&quot;left&quot;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line">ax0.spines[<span class="string">&quot;top&quot;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line">ax0.spines[<span class="string">&quot;right&quot;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line">ax0.set_title(<span class="string">&quot;WJY&quot;</span>)</span><br><span class="line">ax0.get_legend().remove()</span><br><span class="line"></span><br><span class="line">ax1.set_xlabel(<span class="string">&quot;Word Frequency&quot;</span>)</span><br><span class="line">ax1.set_ylabel(<span class="string">&quot;&quot;</span>)</span><br><span class="line">ax1.set_xticks(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">1201</span>, <span class="number">200</span>))</span><br><span class="line">ax1.set_xticklabels([<span class="number">0</span>, <span class="number">200</span>, <span class="number">400</span>, <span class="number">600</span>, <span class="number">800</span>, <span class="number">1000</span>, <span class="number">1200</span>])</span><br><span class="line">ax1.set_xlim(<span class="number">0</span>, <span class="number">1200</span>)</span><br><span class="line">ax1.set_yticks([])</span><br><span class="line">ax1.spines[<span class="string">&quot;left&quot;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line">ax1.spines[<span class="string">&quot;top&quot;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line">ax1.spines[<span class="string">&quot;right&quot;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line">ax1.set_title(<span class="string">&quot;XJH&quot;</span>)</span><br><span class="line">ax1.get_legend().remove()</span><br><span class="line"></span><br><span class="line">axpos = ax1.get_position()</span><br><span class="line">caxpos = mtransforms.Bbox.from_extents(axpos.x0 + <span class="number">0.06</span>, axpos.y0 + <span class="number">0.03</span>, axpos.x1, axpos.y0 + <span class="number">0.04</span>)</span><br><span class="line">cax = ax1.figure.add_axes(caxpos)</span><br><span class="line"></span><br><span class="line">locator = mticker.MultipleLocator(<span class="number">0.1</span>)</span><br><span class="line">formatter = mticker.StrMethodFormatter(<span class="string">&quot;&#123;x:.1f&#125;&quot;</span>)</span><br><span class="line">cax.figure.colorbar(sm, cax=cax, orientation=<span class="string">&quot;horizontal&quot;</span>, ticks=locator, <span class="built_in">format</span>=formatter)</span><br><span class="line"><span class="comment"># cax.tick_params(top=True, labeltop=True, bottom=False, labelbottom=False)</span></span><br><span class="line">cax.set_title(<span class="string">&quot;ratio&quot;</span>)</span><br><span class="line"></span><br><span class="line">x0 = ax0.get_position().x1</span><br><span class="line">x1 = ax1.get_position().x0</span><br><span class="line">xm = (x0 + x1) / <span class="number">2</span></span><br><span class="line">y0 = ax0.get_position().y0</span><br><span class="line">y1 = ax0.get_position().y1</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(wN):</span><br><span class="line">    fig.text(</span><br><span class="line">        xm, y0 + (y1 - y0) * (wN - i - <span class="number">0.5</span>) / wN, data.index[i],</span><br><span class="line">        color=<span class="string">&quot;black&quot;</span>, ha=<span class="string">&quot;center&quot;</span>, va=<span class="string">&quot;center&quot;</span>, fontproperties=fp</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">fig.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_47_0.png" alt="png"></p>
<h2 id="情感分析"><a href="#情感分析" class="headerlink" title="情感分析"></a>情感分析</h2><p>使用 <code>paddlenlp</code> 进行情感分析，得到的分数在 [-1, 1] 之间，越小越消极，越大越积极</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dfE = df.query(<span class="string">&quot;Type == 1&quot;</span>)[[<span class="string">&quot;IsSender&quot;</span>, <span class="string">&quot;StrContent&quot;</span>, <span class="string">&quot;StrTime&quot;</span>, <span class="string">&quot;hour&quot;</span>]]</span><br><span class="line">dfE.index = <span class="built_in">range</span>(<span class="built_in">len</span>(dfE))</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">senta = Taskflow(<span class="string">&quot;sentiment_analysis&quot;</span>, home_path=<span class="string">&quot;./&quot;</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scores = pd.DataFrame(senta([textFilter(i) <span class="keyword">for</span> i <span class="keyword">in</span> dfE[<span class="string">&quot;StrContent&quot;</span>].to_list()]))</span><br><span class="line">scores.loc[scores[<span class="string">&quot;label&quot;</span>] == <span class="string">&quot;negative&quot;</span>, <span class="string">&quot;score&quot;</span>] = <span class="number">1</span> - scores.loc[scores[<span class="string">&quot;label&quot;</span>] == <span class="string">&quot;negative&quot;</span>, <span class="string">&quot;score&quot;</span>]</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dfE[<span class="string">&quot;score&quot;</span>] = scores[<span class="string">&quot;score&quot;</span>]</span><br><span class="line">dfE[<span class="string">&quot;score&quot;</span>] = <span class="number">2</span> * dfE[<span class="string">&quot;score&quot;</span>] - <span class="number">1</span></span><br><span class="line">dfE[<span class="string">&quot;Person&quot;</span>] = dfE.apply(<span class="keyword">lambda</span> x: labels[x[<span class="string">&quot;IsSender&quot;</span>]], axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">dfEs = [dfE.query(<span class="string">&quot;IsSender == 0&quot;</span>), dfE.query(<span class="string">&quot;IsSender == 1&quot;</span>)]</span><br></pre></td></tr></table></figure>

<h3 id="年度总体情感分布"><a href="#年度总体情感分布" class="headerlink" title="年度总体情感分布"></a>年度总体情感分布</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ax = sns.histplot(data=dfE, x=<span class="string">&quot;score&quot;</span>, hue=<span class="string">&quot;Person&quot;</span>, palette=<span class="string">&quot;dark&quot;</span>, alpha=<span class="number">0.6</span>, bins=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Sentiment Score&quot;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Count&quot;</span>)</span><br><span class="line">ax.set_title(<span class="string">&quot;Sentiment Distribution&quot;</span>)</span><br><span class="line">ax.set_xlim(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">ax.figure.set_size_inches(<span class="number">8</span>, <span class="number">3</span>)</span><br><span class="line">ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_54_0.png" alt="png"></p>
<h3 id="按周统计平均情感指数"><a href="#按周统计平均情感指数" class="headerlink" title="按周统计平均情感指数"></a>按周统计平均情感指数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">weekAvgSenScore</span>(<span class="params">df</span>):</span><br><span class="line">    wStart = <span class="string">&quot;2022-08-01&quot;</span></span><br><span class="line">    wEnd = <span class="string">&quot;2024-02-10&quot;</span></span><br><span class="line"></span><br><span class="line">    grouper = pd.Grouper(key=<span class="string">&quot;StrTime&quot;</span>, freq=<span class="string">&quot;W-MON&quot;</span>)</span><br><span class="line">    data = df.groupby(grouper)[<span class="string">&quot;score&quot;</span>].mean().to_frame()</span><br><span class="line">    data.index = pd.date_range(start=wStart, end=wEnd, freq=<span class="string">&quot;W-MON&quot;</span>).strftime(<span class="string">&quot;%m-%d&quot;</span>)</span><br><span class="line">    data.columns = [<span class="string">&quot;score&quot;</span>]</span><br><span class="line"></span><br><span class="line">    vM = data[<span class="string">&quot;score&quot;</span>].<span class="built_in">abs</span>().<span class="built_in">max</span>()</span><br><span class="line">    norm = plt.Normalize(-vM, vM)</span><br><span class="line">    sm = plt.cm.ScalarMappable(cmap=<span class="string">&quot;coolwarm&quot;</span>, norm=norm)</span><br><span class="line">    data[<span class="string">&quot;score&quot;</span>].fillna(<span class="number">0</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    ax = sns.barplot(x=data.index, y=data[<span class="string">&quot;score&quot;</span>], hue=data[<span class="string">&quot;score&quot;</span>], hue_norm=norm, palette=<span class="string">&quot;coolwarm&quot;</span>)</span><br><span class="line">    ax.set_xlabel(<span class="string">&quot;Date&quot;</span>)</span><br><span class="line">    plt.xticks(rotation=<span class="number">60</span>)</span><br><span class="line">    <span class="keyword">for</span> bar <span class="keyword">in</span> ax.containers:</span><br><span class="line">        ax.bar_label(bar, fontsize=<span class="number">10</span>, fmt=<span class="string">&quot;%.2f&quot;</span>)</span><br><span class="line">    ax.get_legend().remove()</span><br><span class="line"></span><br><span class="line">    axpos = ax.get_position()</span><br><span class="line">    caxpos = mtransforms.Bbox.from_extents(axpos.x1 + <span class="number">0.02</span>, axpos.y0, axpos.x1 + <span class="number">0.03</span>, axpos.y1)</span><br><span class="line">    cax = ax.figure.add_axes(caxpos)</span><br><span class="line"></span><br><span class="line">    locator = mticker.MultipleLocator(<span class="number">0.02</span>)</span><br><span class="line">    formatter = mticker.StrMethodFormatter(<span class="string">&quot;&#123;x:.2f&#125;&quot;</span>)</span><br><span class="line">    cax.figure.colorbar(sm, cax=cax, ticks=locator, <span class="built_in">format</span>=formatter)</span><br><span class="line"></span><br><span class="line">    ax.figure.set_size_inches(<span class="number">20</span>, <span class="number">8</span>)</span><br><span class="line">    ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">    plt.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data[<span class="string">&quot;score&quot;</span>]</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">avgSenScore0 = weekAvgSenScore(dfEs[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<pre><code>f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
F:\user\Temp\ipykernel_9048\3472776600.py:13: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing &#39;df[col].method(value, inplace=True)&#39;, try using &#39;df.method(&#123;col: value&#125;, inplace=True)&#39; or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
</code></pre>
<p>​<br>​      data[“score”].fillna(0, inplace&#x3D;True)</p>
<p><img src="/images/QQmsganalysis_files/QQmsganalysis_57_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">avgSenScore1 = weekAvgSenScore(dfEs[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<pre><code>f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
F:\user\Temp\ipykernel_9048\3472776600.py:13: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing &#39;df[col].method(value, inplace=True)&#39;, try using &#39;df.method(&#123;col: value&#125;, inplace=True)&#39; or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
</code></pre>
<p>​<br>​      data[“score”].fillna(0, inplace&#x3D;True)</p>
<p><img src="/images/QQmsganalysis_files/QQmsganalysis_58_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_ = weekAvgSenScore(dfE)</span><br></pre></td></tr></table></figure>

<pre><code>f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
F:\user\Temp\ipykernel_9048\3472776600.py:13: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing &#39;df[col].method(value, inplace=True)&#39;, try using &#39;df.method(&#123;col: value&#125;, inplace=True)&#39; or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
</code></pre>
<p>​<br>​      data[“score”].fillna(0, inplace&#x3D;True)</p>
<p><img src="/images/QQmsganalysis_files/QQmsganalysis_59_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ax = sns.lineplot(data=avgSenScore0, linewidth=<span class="number">3</span>, marker=<span class="string">&quot;s&quot;</span>, markersize=<span class="number">15</span>, label=labels[<span class="number">0</span>])</span><br><span class="line">ax = sns.lineplot(data=avgSenScore1, linewidth=<span class="number">3</span>, marker=<span class="string">&quot;^&quot;</span>, markersize=<span class="number">15</span>, ax=ax, label=labels[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Date&quot;</span>)</span><br><span class="line">plt.xticks(rotation=<span class="number">60</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Average Sentiment Score&quot;</span>)</span><br><span class="line">ax.set_xlim(<span class="number">0</span>, <span class="number">52</span>)</span><br><span class="line">ax.legend(prop=&#123;<span class="string">&quot;size&quot;</span>: <span class="number">24</span>&#125;)</span><br><span class="line"></span><br><span class="line">ax.figure.set_size_inches(<span class="number">20</span>, <span class="number">8</span>)</span><br><span class="line">ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_60_0.png" alt="png"></p>
<h3 id="按周统计累计情感指数"><a href="#按周统计累计情感指数" class="headerlink" title="按周统计累计情感指数"></a>按周统计累计情感指数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">weekTotSenScore</span>(<span class="params">df</span>):</span><br><span class="line">    wStart = <span class="string">&quot;2022-08-01&quot;</span></span><br><span class="line">    wEnd = <span class="string">&quot;2024-02-10&quot;</span></span><br><span class="line">    grouper = pd.Grouper(key=<span class="string">&quot;StrTime&quot;</span>, freq=<span class="string">&quot;W-MON&quot;</span>)</span><br><span class="line">    data = df.groupby(grouper)[<span class="string">&quot;score&quot;</span>].<span class="built_in">sum</span>().to_frame()</span><br><span class="line">    data.index = pd.date_range(start=wStart, end=wEnd, freq=<span class="string">&quot;W-MON&quot;</span>).strftime(<span class="string">&quot;%m-%d&quot;</span>)</span><br><span class="line">    data.columns = [<span class="string">&quot;score&quot;</span>]</span><br><span class="line"></span><br><span class="line">    vM = data[<span class="string">&quot;score&quot;</span>].<span class="built_in">abs</span>().<span class="built_in">max</span>()</span><br><span class="line">    norm = plt.Normalize(-vM, vM)</span><br><span class="line">    sm = plt.cm.ScalarMappable(cmap=<span class="string">&quot;coolwarm&quot;</span>, norm=norm)</span><br><span class="line"></span><br><span class="line">    ax = sns.barplot(x=data.index, y=data[<span class="string">&quot;score&quot;</span>], hue=data[<span class="string">&quot;score&quot;</span>], hue_norm=norm, palette=<span class="string">&quot;coolwarm&quot;</span>)</span><br><span class="line">    ax.set_xlabel(<span class="string">&quot;Date&quot;</span>)</span><br><span class="line">    plt.xticks(rotation=<span class="number">60</span>)</span><br><span class="line">    <span class="keyword">for</span> bar <span class="keyword">in</span> ax.containers:</span><br><span class="line">        ax.bar_label(bar, fontsize=<span class="number">10</span>, fmt=<span class="string">&quot;%.2f&quot;</span>)</span><br><span class="line">    ax.get_legend().remove()</span><br><span class="line"></span><br><span class="line">    axpos = ax.get_position()</span><br><span class="line">    caxpos = mtransforms.Bbox.from_extents(axpos.x1 + <span class="number">0.02</span>, axpos.y0, axpos.x1 + <span class="number">0.03</span>, axpos.y1)</span><br><span class="line">    cax = ax.figure.add_axes(caxpos)</span><br><span class="line"></span><br><span class="line">    locator = mticker.MultipleLocator(<span class="number">20</span>)</span><br><span class="line">    formatter = mticker.StrMethodFormatter(<span class="string">&quot;&#123;x:.2f&#125;&quot;</span>)</span><br><span class="line">    cax.figure.colorbar(sm, cax=cax, ticks=locator, <span class="built_in">format</span>=formatter)</span><br><span class="line"></span><br><span class="line">    ax.figure.set_size_inches(<span class="number">20</span>, <span class="number">8</span>)</span><br><span class="line">    ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">    plt.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data[<span class="string">&quot;score&quot;</span>]</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">totSenScore0 = weekTotSenScore(dfEs[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<pre><code>f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
</code></pre>
<p><img src="/images/QQmsganalysis_files/QQmsganalysis_63_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">totSenScore1 = weekTotSenScore(dfEs[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<pre><code>f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
</code></pre>
<p><img src="/images/QQmsganalysis_files/QQmsganalysis_64_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_ = weekTotSenScore(dfE)</span><br></pre></td></tr></table></figure>

<pre><code>f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
f:\ProgramData\miniconda3\envs\wechatmsg\lib\site-packages\pandas\core\groupby\grouper.py:381: FutureWarning: Dtype inference on a pandas object (Series, Index, ExtensionArray) is deprecated. The Index constructor will keep the original dtype in the future. Call `infer_objects` on the result to get the old behavior.
  ax = Index(obj[key], name=key)
</code></pre>
<p><img src="/images/QQmsganalysis_files/QQmsganalysis_65_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ax = sns.lineplot(data=totSenScore0, linewidth=<span class="number">3</span>, marker=<span class="string">&quot;s&quot;</span>, markersize=<span class="number">15</span>, label=labels[<span class="number">0</span>])</span><br><span class="line">ax = sns.lineplot(data=totSenScore1, linewidth=<span class="number">3</span>, marker=<span class="string">&quot;^&quot;</span>, markersize=<span class="number">15</span>, ax=ax, label=labels[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Date&quot;</span>)</span><br><span class="line">plt.xticks(rotation=<span class="number">60</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Total Sentiment Score&quot;</span>)</span><br><span class="line">ax.set_xlim(<span class="number">0</span>, <span class="number">52</span>)</span><br><span class="line">ax.legend(prop=&#123;<span class="string">&quot;size&quot;</span>: <span class="number">24</span>&#125;)</span><br><span class="line"></span><br><span class="line">ax.figure.set_size_inches(<span class="number">20</span>, <span class="number">8</span>)</span><br><span class="line">ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_66_0.png" alt="png"></p>
<h3 id="每日平均情感分析"><a href="#每日平均情感分析" class="headerlink" title="每日平均情感分析"></a>每日平均情感分析</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">grouper = pd.Grouper(key=<span class="string">&quot;hour&quot;</span>)</span><br><span class="line"></span><br><span class="line">data = []</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">    tmp = dfEs[k].groupby(grouper)[<span class="string">&quot;score&quot;</span>].mean().sort_index()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">24</span>):</span><br><span class="line">        <span class="keyword">if</span> i <span class="keyword">in</span> tmp.index:</span><br><span class="line">            data.append(tmp[i])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            data.append(<span class="number">0</span>)</span><br><span class="line">    data.append(<span class="number">0</span>)</span><br><span class="line">data = pd.DataFrame(</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;Score&quot;</span>: data,</span><br><span class="line">        <span class="string">&quot;Person&quot;</span>: [labels[<span class="number">0</span>]] * <span class="number">25</span> + [labels[<span class="number">1</span>]] * <span class="number">25</span>,</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">xBins = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">25</span>)]</span><br><span class="line">ax = sns.histplot(</span><br><span class="line">    data=data,</span><br><span class="line">    x=xBins * <span class="number">2</span>,</span><br><span class="line">    bins=xBins,</span><br><span class="line">    weights=<span class="string">&quot;Score&quot;</span>,</span><br><span class="line">    hue=<span class="string">&quot;Person&quot;</span>,</span><br><span class="line">    multiple=multiple,</span><br><span class="line">    edgecolor=<span class="string">&quot;.3&quot;</span>,</span><br><span class="line">    linewidth=<span class="number">0.5</span>,</span><br><span class="line">    palette=<span class="string">&quot;dark&quot;</span>,</span><br><span class="line">    alpha=<span class="number">0.6</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">ax.set_xticks(<span class="built_in">range</span>(<span class="number">25</span>))</span><br><span class="line">ax.set_xticklabels(<span class="built_in">range</span>(<span class="number">25</span>))</span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Hour&quot;</span>)</span><br><span class="line">ax.set_xlim(<span class="number">0</span>, <span class="number">24</span>)</span><br><span class="line">ax.set_ylim(np.<span class="built_in">min</span>([<span class="number">0</span>, np.floor(data[<span class="string">&quot;Score&quot;</span>].<span class="built_in">min</span>() / <span class="number">0.05</span>) * <span class="number">0.05</span>]), np.ceil(data[<span class="string">&quot;Score&quot;</span>].<span class="built_in">max</span>() / <span class="number">0.05</span>) * <span class="number">0.05</span>)</span><br><span class="line">sns.move_legend(ax, loc=<span class="string">&quot;upper center&quot;</span>, bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">1.2</span>), ncol=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">ax.figure.set_size_inches(<span class="number">8</span>, <span class="number">4</span>)</span><br><span class="line">ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_68_0.png" alt="png"></p>
<h3 id="每日累计情感分析"><a href="#每日累计情感分析" class="headerlink" title="每日累计情感分析"></a>每日累计情感分析</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">grouper = pd.Grouper(key=<span class="string">&quot;hour&quot;</span>)</span><br><span class="line"></span><br><span class="line">data = []</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">    tmp = dfEs[k].groupby(grouper)[<span class="string">&quot;score&quot;</span>].<span class="built_in">sum</span>().sort_index()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">24</span>):</span><br><span class="line">        <span class="keyword">if</span> i <span class="keyword">in</span> tmp.index:</span><br><span class="line">            data.append(tmp[i])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            data.append(<span class="number">0</span>)</span><br><span class="line">    data.append(<span class="number">0</span>)</span><br><span class="line">data = pd.DataFrame(</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;Score&quot;</span>: data,</span><br><span class="line">        <span class="string">&quot;Person&quot;</span>: [labels[<span class="number">0</span>]] * <span class="number">25</span> + [labels[<span class="number">1</span>]] * <span class="number">25</span>,</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">xBins = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">25</span>)]</span><br><span class="line">ax = sns.histplot(</span><br><span class="line">    data=data,</span><br><span class="line">    x=xBins * <span class="number">2</span>,</span><br><span class="line">    bins=xBins,</span><br><span class="line">    weights=<span class="string">&quot;Score&quot;</span>,</span><br><span class="line">    hue=<span class="string">&quot;Person&quot;</span>,</span><br><span class="line">    multiple=multiple,</span><br><span class="line">    edgecolor=<span class="string">&quot;.3&quot;</span>,</span><br><span class="line">    linewidth=<span class="number">0.5</span>,</span><br><span class="line">    palette=<span class="string">&quot;dark&quot;</span>,</span><br><span class="line">    alpha=<span class="number">0.6</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">ax.set_xticks(<span class="built_in">range</span>(<span class="number">25</span>))</span><br><span class="line">ax.set_xticklabels(<span class="built_in">range</span>(<span class="number">25</span>))</span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Hour&quot;</span>)</span><br><span class="line">ax.set_xlim(<span class="number">0</span>, <span class="number">24</span>)</span><br><span class="line">ax.set_ylim(np.<span class="built_in">min</span>([<span class="number">0</span>, np.floor(data[<span class="string">&quot;Score&quot;</span>].<span class="built_in">min</span>() / <span class="number">0.05</span>) * <span class="number">0.05</span>]), np.ceil(data[<span class="string">&quot;Score&quot;</span>].<span class="built_in">max</span>() / <span class="number">0.05</span>) * <span class="number">0.05</span>)</span><br><span class="line">sns.move_legend(ax, loc=<span class="string">&quot;upper center&quot;</span>, bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">1.2</span>), ncol=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">ax.figure.set_size_inches(<span class="number">8</span>, <span class="number">4</span>)</span><br><span class="line">ax.figure.set_dpi(<span class="number">150</span>)</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>


<p><img src="/images/QQmsganalysis_files/QQmsganalysis_70_0.png" alt="png"></p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/08/02/index/"><img class="fill" src="/images/book.jpeg" alt="Welcome to XJH&#039;s Secret Base!"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-02T11:52:30.000Z" title="2023/8/2 19:52:30">2023-08-02</time>发表</span><span class="level-item"><time dateTime="2024-02-11T14:18:43.817Z" title="2024/2/11 22:18:43">2024-02-11</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/About-XJH/">About XJH</a></span><span class="level-item">2 分钟读完 (大约292个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/02/index/">Welcome to XJH&#039;s Secret Base!</a></p><div class="content">
    <div id="aplayer-twHyYwId" class="aplayer aplayer-tag-marker meting-tag-marker"
         data-id="3136952023" data-server="netease" data-type="playlist" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="0px" data-preload="auto" data-theme="#555" data-volume="0.5" data-order="list"
    ></div>

<h4 id="个人简介"><a href="#个人简介" class="headerlink" title="个人简介"></a><strong>个人简介</strong></h4><hr>
<p><em>We all started from nothing and yet still wants to be someone.</em> </p>
<p><em>We came to this world empty handed, so let’s make something with our bare hands.</em> </p>
<p><em>We never asked for much because we know that it’s the sweat from our perseverance that taste the sweetest.</em></p>
<p> <em>I started from nothing, but I will get there soon.</em></p>
<p><strong>-&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</strong><br><strong>个人信息：</strong></p>
<p>CQU明月科创实验班在读</p>
<p>KPL资深观众</p>
<p>钢琴只有业余八级的A叔屑粉丝</p>
<p>音游玩家（主玩Phigros，入坑不是很久）</p>
<p><img src="/images/rks5.jpg" alt="截止2024/2/11 Phigros Ranking Score"></p>
<br>

<h4 id="本博客相关"><a href="#本博客相关" class="headerlink" title="本博客相关"></a><strong>本博客相关</strong></h4><hr>
<ul>
<li>网站采用的<a target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-icarus">Icarus主题</a> </li>
<li>追求尽可能的简洁，清晰，易用。</li>
</ul>
<p>基于已有主题的新增功能（均参考网上教程）：</p>
<ul>
<li>live-2D 看板娘</li>
<li>博客内音乐播放器</li>
</ul>
<br>

<h4 id="计划"><a href="#计划" class="headerlink" title="计划"></a><strong>计划</strong></h4><h5 id="2023秋季学期"><a href="#2023秋季学期" class="headerlink" title="2023秋季学期"></a><strong>2023秋季学期</strong></h5><hr>
<blockquote>
<ul>
<li><input disabled="" type="checkbox"> 英语学习，备战六级</li>
<li><input checked="" disabled="" type="checkbox"> python基础学习</li>
<li><input checked="" disabled="" type="checkbox"> 备赛大艺展</li>
<li><input disabled="" type="checkbox"> 《动手学深度学习》书本学习</li>
<li><input checked="" disabled="" type="checkbox"> 课程TASK：数理综合：吸管水泵</li>
<li><input disabled="" type="checkbox"> 课程TASK：工程设计：斯特林发动机</li>
<li><input checked="" disabled="" type="checkbox"> 大学化学课程学习与实验</li>
<li><input disabled="" type="checkbox"> 割草机器人项目</li>
</ul>
</blockquote>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/07/05/20230705/"><img class="fill" src="/images/story/1.jpg" alt="20230705"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-07-05T01:43:03.000Z" title="2023/7/5 09:43:03">2023-07-05</time>发表</span><span class="level-item"><time dateTime="2023-08-04T03:12:11.472Z" title="2023/8/4 11:12:11">2023-08-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/About-XJH/">About XJH</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/">碎碎念</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/CQU/">CQU</a></span><span class="level-item">2 分钟读完 (大约263个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/07/05/20230705/">20230705</a></p><div class="content"><p>“不论事情是对是错，在做之前，先考虑最坏的后果。这不是让你们当一个悲观主义者，而是要把乐观与悲观相结合。”<br>他嘴很笨，可最质朴的语言却说出了那么多人不曾了解的真理。<br>倏忽之间，我们也终要脱下这身军装，回到各自的人生。或许彼此的相遇就是意外，可我们也走过了这么多的烈日炎炎和风吹雨打。彼此包容，互相理解，通力合作，我们携手共度，也曾历经磕磕绊绊，共同冲向同一个终点，然后四散奔赴各自的山河。那些年少轻狂和叛逆愤懑，都随着那一声解散而烟消云散。<br>可你不再是你，我也不再是我。我们都在这场洗礼中，迎来了属于我们自己的成长。<br>再见，不负遇见。</p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/07/03/20230703/"><img class="fill" src="/images/story/2.jpg" alt="20230703"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-07-03T08:37:03.000Z" title="2023/7/3 16:37:03">2023-07-03</time>发表</span><span class="level-item"><time dateTime="2023-08-04T03:12:20.637Z" title="2023/8/4 11:12:20">2023-08-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/About-XJH/">About XJH</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/">碎碎念</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/CQU/">CQU</a></span><span class="level-item">1 分钟读完 (大约114个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/07/03/20230703/">20230703</a></p><div class="content"><p>那一声慷慨激昂的散<br>抚平了所有的烦躁与不安<br>好像也不是那么讨厌下雨天了<br>因为雨后总会天晴<br>可不知道为什么<br>那些浅显的至理却会因为对立而变得如此刺耳<br>等到回想起来<br>那些廉价的愤懑似乎都不值一提<br>或许<br>这里真的是家<br>但烈日下的我们<br>却无时不刻不想着逃离。</p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/06/10/20230610/"><img class="fill" src="/images/story/3.jpg" alt="20230610"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-09T16:00:00.000Z" title="2023/6/10 00:00:00">2023-06-10</time>发表</span><span class="level-item"><time dateTime="2023-08-04T03:12:30.771Z" title="2023/8/4 11:12:30">2023-08-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/About-XJH/">About XJH</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/">碎碎念</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/CQU/">CQU</a></span><span class="level-item">7 分钟读完 (大约1083个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/10/20230610/">20230610</a></p><div class="content"><p>好久好久没在空间写过长文了。<br>老实说最近一段时间状态一直不是很好，持续性混吃等死，间歇性踌躇满志，踌躇满志完了就只是满志然后接着混吃等死。<br>好像也怪不了别人，但自控力缺乏确实让自己的生活变得混乱而失去条理，调整作息保持节奏也不是什么至关重要的大事。课程的压力与挑战性压得我们气喘吁吁，缺乏合理的规划和随波逐流最终逼迫我们牺牲自己的作息与效率与现实妥协。一路坎坷也算是跌跌撞撞走了过来，却又急着赶往下一个路口。<br>所幸热爱可抵岁月漫长。<br>唱歌总能让我短暂的忘却当下的烦恼，坚持自己喜欢的事情也远没有在一筹莫展的课上拼死拼活还一无所获来得痛苦。但短暂的忘却换来的是回归现实的剧痛。当众表演的机会甚至也变得没有那么神圣珍贵，从观众不在意到自己也不太纠结于细节乃至基本的背词，歌声和舞台一起变得廉价。<br>可是我还是好感谢，合唱队有一群志同道合的伙伴。我们从来不是一个人在战斗，所以每一次排练和登台也都全力以赴。520专场第一次让大家看到了我们的努力与能力，也是给我们自己的一个交代。和一群人一起坚持自己的热爱真的是一件很酷都事情。<br>可时光匆匆，转眼间又到了夏天。<br>某一天推开门走到阳台，离开空调房的一瞬便紧接着热浪袭来，于是在恍惚之间，夏天真的来了，伴随着希望和遗憾。离乡的人还是逃不开乡愁，忘不掉的总是那些人那些事，虽然所有人都不再是当时的自己，却总是忍不住幻想那些如果和如果。可是离别的时刻仿佛就在眼前，此时却已经远在千里之外了。尽管知道命运冥冥之中捉弄着你我，可旧事重提之时只剩故作镇定之下的满腔遗憾。来到全新的环境但心永远留在了过去，总是喜欢将自己抽离用旁观者的视角去观察甚至经历现在的一切。于是也不可能再有那般的快乐与肆意。<br>又是一年毕业季。彼时用一曲《入海》试图和过去告别，此时却再次唱响了这段相隔一整个盛夏的旋律试图宽慰另一群人。<br>我分明记得，那个傍晚的天空与今日又有何异。<br>但我们却渐行渐远，直到我们不再是我们。<br>那么祝贺你们，即将奔赴新的人生阶段，不论结局是好是坏，起码它总不是现在。那是一个名为未来的光明前程。<br>我也从来没有后悔过自己的选择，在间歇的迟疑中还是坚定了自己的热爱。可有些遗憾注定无法释怀。<br>也祝贺我，决定奔赴每一个现在，不问过往和未来。<br>总说人不能同时拥有青春和对青春的感受。曾经的我不信这个邪，于是深陷回忆的泥沼无法自拔。但事实上，无论当时的情感体验多么丰富而复杂，回首之时总会领悟到当时绝对无法参悟的感受。又何必挣扎，遗憾不需要填补，当阳光穿透阴霾，我们才真正成为自己。<br>返程的校车穿过隧道，死寂的黑暗又重新笼罩。<br>可我们依旧前行，追寻下一处光亮。<br>翻山越岭之后，迎接自己的新生。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-05-28T07:54:58.000Z" title="2023/5/28 15:54:58">2023-05-28</time>发表</span><span class="level-item"><time dateTime="2023-08-03T09:23:21.357Z" title="2023/8/3 17:23:21">2023-08-03</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/About-XJH/">About XJH</a></span><span class="level-item">15 分钟读完 (大约2243个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/28/life/">生命是什么</a></p><div class="content"><p>看到一段很有趣的问答：“跨年的时候，烟花在想什么？”“我生如夏花之绚烂，死如秋叶之静美。”</p>
<p>谈到生命是什么、生命的意义这一类话题的时候，气氛总会没来由地变得郑重起来，总觉得这是一个很宏大的问题，我们穷尽一生可能也找不到答案。但我们仔细想想，即使是生命高等如人类，也逃不过生死的命运。于是“生命”的第一个要素就自然而然地出现了——生与死。如果把时间看作一条轴，每一个生命的过程都占据了其中的一段，那么生就意味着开端，而死自然意味着终结。而不管这段过程中发生了什么，生与死这两个概念始终都伴随着每一个生命，绽放后再慢慢走向凋零。但显然这样的描述不够准确，事实上绝大部分事物都有自己诞生与消逝的一刻，小到草木大至太阳都无一幸免。生命之所以是生命，正是因为他们有另一些特质，使得他们的生与死富有更多的意义。</p>
<p>我们不妨通过一些实例来加快我们思考的进度：在人们的固有印象中，石头不是生命，而参天大树是生命；水流不是生命，而凶禽猛兽是生命……在这样的枚举之中，我们不难发现，在我们的认知中，生命具有的另一个显著特征是，他们能够通过某种方式，从自己诞生的那一刻起，自发地从外界汲取资源，以维持自己的生存。乍一看这好像并无特别之处，但关键在“维持”二字。花草需要光合作用获取养分，猛兽需要捕食猎物获取食物，生命总需要依靠自己的能力获取些什么不断成长，这本身无可厚非。但我们不妨从另一面再次看待生命：花草如果一直生长在阴暗的环境与贫瘠的土壤中，获取不到足够的养分，会迅速枯萎而无法生长，甚至从一开始就无法萌芽；猛兽如果始终捕食不到足够的猎物，获取不到足够的营养，也会发育不良，饥饿至死。生命区别于其他事物的一大特征就在于，他们必须时刻依靠自己的能力从外界获取资源以维系自身生存，否则就会被环境淘汰而死去。石头在风化分崩离析之前依然是石头，太阳在聚变燃烧殆尽之前也依旧是太阳，他们不需要为了自己的生存去自发地做些什么，但生命需要。生命之所以是生命，即是因为他们必须时刻为了生存而奋斗，为了避免终结的那一刻过早地到来。</p>
<p>但仅仅将生命与其他的非生命体区分开来是远远不够的，尽管实际上具有以上两大特征的我们都可以称之为生命。如果我们再进入更深层的观察与思考，不难发现，其实对于大多数生命来说，假设没有其他因素的干扰且外界资源无限多，只需要通过能力维系生存这件事情本身并没有太大的难度，可这条假设显然并不成立。我们生活在同一个地球上，地球上的资源就这么多，太阳也总会有衰竭殆尽的那一天，作为生命的每一个个体也无时不刻不在彼此的交互中影响着各自的命运。在这样一个资源极其有限的混沌系统中，每一个生命个体都并非彼此割裂独立，这就导致了看似简单的维系生存事实上绝非易事。作为人类的我们，也是在经历了不断的进化以及社会演化发展后，才步入了如今衣食无忧的生活。但我们不妨回过头去观照我们的先辈，他们也曾经因寻找食物与安定的家园而四处奔波，时至今日仍然需要与随时可能发生的地震、台风、海啸等自然灾害作斗争。人类的生存维系远远没有我们日常生活中所遇到的那么简单，一些看似简单的行为也不过是长期进化而来的习以为常罢了。在人类发展的漫长历程中，我们始终与周遭的环境不断地做着一遍又一遍的斗争才从夹缝中觅得了如今的生存空间，在这个过程中，我们习惯把我们所抗争的事物称作“大自然”，也逐渐从与大自然斗争到从大自然索取再到如今的与大自然和谐共生。这个过程无疑是曲折而充满艰辛的，人类之所以伟大也正是因为我们在不断地运用自己的智慧克服无穷的艰难险阻，通过自己的努力为自己赢得更美好的明天。而事实上也不仅人类如此，无论是植物还是动物都在一代代的演化中无论是从脑力水平还是从生理结构功能上都在不断地适应着、改变着这个世界，用不懈的坚持为自己和族群赢得更长远的未来。正是因为这不对现实与自然力量屈服的毅力与勇气，生命才能称之为生命，而这样顽强不屈的抗争与奋斗精神以及不断向上成长迸发的精神活力，才是生命的魅力所在，也是生命的真正本质。因此，在我们的语言体系中，也将这样的精神本质赋予为“生命力”的体现。在与自然抗争的过程中，生命也在不断为适应环境而发生着一次又一次的进化，也因此生命与生命之间的差别越来越大，分化出了不同的种群，又在数千百年的发展中锻炼出了分工合作的可贵品格，产生了一定的社会性，这自然也是生命的一大特质，在彼此的交互之中生命才显得更有活力。</p>
<p>在分析完如上三个生命特质之后，我们不妨再回到“生与死”的概念上来，再结合后面两条，生命的另一层意义也呼之欲出。作为一个生命个体，我们自诞生以来，出于本能而不断为了自己的生存利用自己的智慧与生理能力不断拼搏奋斗，从外界环境中汲取养分，为的就是逃离那根随时可能到来的死亡之线，逃得越远越好。可似乎是命运冥冥之中已经注定，无论生命多么拼命的抗争，自然规律永远是我们无法逾越的天堑，就像光速永远是三乘十的八次方米每秒一样，我们终究会归于死亡。</p>
<p>可是，明知结局是无尽的死寂，太阳也会有熄灭的那一天，但所有的生命，都不约而同的选择在命运的洪流之中逆流而上，即使是本着“能多活一秒是一秒”的心态，也在不断地尽自己所能为自己和其他的生命赢得哪怕一丝生的希望。于是，生命才真正成为生命。</p>
<p>你无法阻止波涛汹涌，但你可以学会踏浪而行。</p>
<p>如果已经拼尽全力绚烂过，死亡又有何惧？</p>
<p>谁又知道死亡何尝不是又一次的新生？</p>
<p>生命要么是一场伟大的冒险，要么什么都不是。</p>
<p>生命的意义，就是即使知晓痛苦的结局，依然向着命运抗争。</p>
<p>生如远舟，向死而生。</p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/03/20/20230320/"><img class="fill" src="/images/story/4.jpg" alt="20230320"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-03-19T16:00:00.000Z" title="2023/3/20 00:00:00">2023-03-20</time>发表</span><span class="level-item"><time dateTime="2023-08-04T03:12:43.283Z" title="2023/8/4 11:12:43">2023-08-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/About-XJH/">About XJH</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/">碎碎念</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/CQU/">CQU</a></span><span class="level-item">5 分钟读完 (大约749个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/03/20/20230320/">20230320</a></p><div class="content"><p>“十九岁的憔悴<br>朋友 生活从不搭理心结<br>啤酒 笑声和烟<br>朋友 和我聊聊疲倦”<br>——蔡维泽《十九》<br>十四岁的时候第一次听到这首歌，或许那时的我从来不会想到，五年后的自己，会来到这座陌生的城市，开启自己新的生活。<br>可是弹指一挥间，我们就已经长大了。<br>不知道下一次再听到这首歌，想起那个和那些如烟火般绚烂的夏天，又会是谁的十九岁呢？<br>小的时候，觉得大人总是忘记自己的生日是一件特别不可思议的事情。可是，直到一两周之前，我才猛然发现，被忙碌的生活裹挟着的我们，竟也一步步沦为这样的可悲。<br>忙里偷闲，在快节奏的学习生活里学会享受生活的美好与“慢乐”，或许是之后很长一段时间内的人生课题吧。<br>很久没有发过说说了。很大一部分原因是，在经历了那些值得纪念的盛大之后，往往都已经精疲力竭了；而等到精力回复好的时候，却早已失去那股新鲜劲，分享的欲望已不在了。<br>虽然事实上，生活中许多琐碎而有趣的美好瞬间，似乎比那些精彩的活动更加值得纪念。生活着的每一分每一秒，都在真实地塑造着我们每一个人。<br>但是。尽管数不清的琐事和艰巨的项目让空闲显得那么难能可贵，尽管学习的压力逐渐消磨着我们分享与记录的欲望与能力，可值得庆幸的是，当我们还想同感彼此的悲欢，倾诉彼此的心声的时候，你们依然在我的身边，依然是那些最值得分享与信赖的朋友。<br>所以，我仍然觉得我是幸运的。起码，比十九岁的蔡维泽，要幸运很多。<br>希望，在遍体鳞伤之时，我们都能迎来，属于自己的浴火重生。<br>去看更大的世界，体验更缤纷的人生。<br>无限风光在险峰，无限伟岸雄伟壮观，有些路或许一生也难以用脚丈量。<br>那么，就勇敢的向前走吧。<br>再见了，我的十八岁。终究和你迎来告别。<br>你好，十九岁。<br>十九岁的你，应该会比十八岁更厉害吧。<br>但还是希望你，和你的朋友们，健康而快乐地，度过未来的每一天。<br>“我们仍是唱着歌的，不论悲喜的明天。”</p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2023/01/01/20230101/"><img class="fill" src="/images/story/5.jpg" alt="20230101"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-12-31T16:00:00.000Z" title="2023/1/1 00:00:00">2023-01-01</time>发表</span><span class="level-item"><time dateTime="2023-08-04T03:12:59.626Z" title="2023/8/4 11:12:59">2023-08-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/About-XJH/">About XJH</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/">碎碎念</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/CQU/">CQU</a></span><span class="level-item">7 分钟读完 (大约1047个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/01/01/20230101/">20230101</a></p><div class="content"><p>“天空不留下我的痕迹，但我已经飞过。”<br>我们或许都只是漫漫岁月长河之中的过客罢了。<br>好像是在重庆的某个瞬间，看到手机上苏州地铁S1线23年底有望开通的时候，才突然想起来，好像已经是2022年了。<br>小的时候看新闻夜班车说十年之后苏州会有一条地铁叫S1，可以直接从苏州乘到上海，那个时候觉得这是多么的不可思议，而十年又是多么漫长。<br>却是一眨眼就来到。<br>即使是现在，想想这一年过来仍然是做梦一般。零模之后是为了HanYu而疯狂的一整个冬天和4A＜的遗憾收场，然后是疫情打乱了所有人的步伐顺便毁掉了最后的春天和最后的樱花。昙花一现之后是低谷，站起来之后再倒下然后再是拼命爬起，高考最终还是猝不及防地如期而至。接着就是混乱之夏。兴奋、焦急、离别、泪水、遗憾、愤怒、纠结、不甘与沉沦，这些词语交织在一起，连同着记忆中的那片园子和那些这辈子都不会忘记的好朋友，共同埋葬了整个夏天和整个青春。但时光从不让我们做好准备，金秋九月大学的生活依旧虽迟但到，我们被迫分别，终究还是离开了这个学习生活了十余载的故乡，来到了陌生的城市，对于新的生活与新的世界充满了美好的幻想，却仍然被最后的疫情击得粉碎碎。所有的尝试与冲撞终究败给了现实，所幸热爱可抵岁月漫长。国庆节的二次选拔充满了戏剧性，从满怀期待到心慌意乱再到欣喜若狂却终究败兴而归然后是重整行装东山再起最终还是不负众望，一切都是命运最好的安排。紧接着迎来的就是一段“痛并快乐着”的忙碌生活，充实快乐与疲惫不堪裹挟着我们每一个人，最后还是被返乡的风吹回县城，小阳人终于迎来了久违的安逸与平静。<br>把这一年的故事讲完，我的内心静如止水。或者是释怀，或许是淡然，但所有的轰轰烈烈都是那么刻骨铭心，我们也终究要告别热烈的过去，奔赴更加美好的未来。<br>没有遗憾是不可能的，但过往的挫败从来不妨碍我们继续向前奋力奔跑，不是吗？朝着更美好的明天。<br>生命的意义，就是即使知晓痛苦的结局，依然向着命运抗争。<br>“你无法阻止波涛汹涌，但你可以学会踏浪而行。”<br>卑微的起点会促使你开始一件事，但是让你坚持下来的，一定是热情和使命。<br>生命要么是一场伟大的冒险，要么什么都不是。<br>All in, or nothing.<br>悟已往之不谏，知来者之可追。<br>钟表能回到原点，但不再是昨天。<br>所以我们从不后悔，也从不停止向前。<br>没有借口。下次人山人海，我会站上去。<br>“祝愿祖国繁荣昌盛、国泰民安！祝愿世界和平美好、幸福安宁！祝愿大家新年快乐、皆得所愿！”<br>那么，就是2023了。<br>这一年，又会发生些什么呢？我也不知道。<br>但我唯一知道的是，你们肯定还在，还在我的身边。<br>岂曰无衣，与子同袍。<br>兄弟们天下无敌！<br>新年快乐！</p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/10/09/20221009/"><img class="fill" src="/images/story/6.jpg" alt="20221009"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-10-09T12:00:00.000Z" title="2022/10/9 20:00:00">2022-10-09</time>发表</span><span class="level-item"><time dateTime="2023-08-04T03:11:44.295Z" title="2023/8/4 11:11:44">2023-08-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/About-XJH/">About XJH</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/">碎碎念</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/CQU/">CQU</a></span><span class="level-item">几秒读完 (大约98个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/10/09/20221009/">20221009</a></p><div class="content"><p>“热爱可抵岁月漫长。”<br>生命要么是一场伟大的冒险，要么什么都不是。<br>生命的意义，就是即使知晓痛苦的结局，依然向着命运抗争。<br>“你无法阻止波涛汹涌，但你可以学会踏浪而行。”<br>努力终会有回报，我用歌声来证明！</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-10-04T11:31:00.000Z" title="2022/10/4 19:31:00">2022-10-04</time>发表</span><span class="level-item"><time dateTime="2023-08-04T03:11:41.121Z" title="2023/8/4 11:11:41">2023-08-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/About-XJH/">About XJH</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/">碎碎念</a><span> / </span><a class="link-muted" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/CQU/">CQU</a></span><span class="level-item">2 分钟读完 (大约231个字)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/10/04/20221004/">20221004</a></p><div class="content"><p>昂首阔步向前走，向着过去挥挥手。<br>当然这远远不够，往前走之后你还要跳跃，这个跳跃就是信仰。<br>荒谬就是理性遇到了终点，但理性的终点就是信仰的起点。<br>人类社会一路走来，过去我们看到雷鸣电闪，我们有了神话；后来我们看到战争，我们遇到了宗教；现代人遭遇了生活的荒谬，我们有了哲学。<br>我们从来没有放弃过信仰，尤其是对苦难的信仰。<br>多难兴邦，天将降大任于斯人也。<br>这跟享受荒谬一样，是多么反直觉的答案，但这个答案就叫做信仰。<br>我们必须从苦难中汲取营养，因为只有享受苦难，我们才能享受生活。</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/categories/About-XJH/page/0/">上一页</a></div><div class="pagination-next"><a href="/categories/About-XJH/page/2/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/categories/About-XJH/">1</a></li><li><a class="pagination-link" href="/categories/About-XJH/page/2/">2</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><!--!--><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/head.jpg" alt="明诚"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">明诚</p><p class="is-size-6 is-block">走过的路，每一步都算数。</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>江苏 苏州</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">23</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">12</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">33</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Asgard-Tim" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Asgard-Tim"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Weibo" href="https://www.weibo.com/u/6315188431"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Bilibili" href="https://space.bilibili.com/171895120"><i class="fab fa-bilibili"></i></a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://jaguarliu.me/ai-projects" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">AI-Tools</span></span><span class="level-right"><span class="level-item tag">jaguarliu.me</span></span></a></li><li><a class="level is-mobile" href="https://zlibrary-east.se/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Zlibrary</span></span><span class="level-right"><span class="level-item tag">zlibrary-east.se</span></span></a></li><li><a class="level is-mobile" href="https://www.cnki.net/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CNKI</span></span><span class="level-right"><span class="level-item tag">www.cnki.net</span></span></a></li><li><a class="level is-mobile" href="https://chat.openai.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ChatGPT</span></span><span class="level-right"><span class="level-item tag">chat.openai.com</span></span></a></li><li><a class="level is-mobile" href="https://www.iodraw.com/tool/sketch" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">照片转素描</span></span><span class="level-right"><span class="level-item tag">www.iodraw.com</span></span></a></li><li><a class="level is-mobile" href="https://www.integral-calculator.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">积分计算器</span></span><span class="level-right"><span class="level-item tag">www.integral-calculator.com</span></span></a></li><li><a class="level is-mobile" href="https://cli.im/text" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">二维码生成器</span></span><span class="level-right"><span class="level-item tag">cli.im</span></span></a></li><li><a class="level is-mobile" href="https://tool.sacdr.net/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">音乐解锁</span></span><span class="level-right"><span class="level-item tag">tool.sacdr.net</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/About-XJH/"><span class="level-start"><span class="level-item">About XJH</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/About-XJH/%E6%98%8E%E6%85%B5/"><span class="level-start"><span class="level-item">明慵</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"><span class="level-start"><span class="level-item">碎碎念</span></span><span class="level-end"><span class="level-item tag">8</span></span></a><ul><li><a class="level is-mobile" href="/categories/About-XJH/%E7%A2%8E%E7%A2%8E%E5%BF%B5/CQU/"><span class="level-start"><span class="level-item">CQU</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">个人项目</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">动手学深度学习</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">课程项目</span></span><span class="level-end"><span class="level-item tag">9</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%AE%9A%E9%87%8F%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%B3%95I/"><span class="level-start"><span class="level-item">定量工程设计方法I</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%B7%A5%E7%A8%8B%E5%8E%9F%E7%90%86/"><span class="level-start"><span class="level-item">工程原理</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A1/"><span class="level-start"><span class="level-item">工程设计</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/"><span class="level-start"><span class="level-item">线性代数</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/"><span class="level-start"><span class="level-item">软件设计</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><figure class="media-left"><a class="image" href="/2024/02/11/QQmsganalysis/"><img src="/images/QQmsganalysis_files/QQmsganalysis_42_0.png" alt="QQ聊天记录分析 QQMsgAnalysis"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-02-11T14:13:58.000Z">2024-02-11</time></p><p class="title"><a href="/2024/02/11/QQmsganalysis/">QQ聊天记录分析 QQMsgAnalysis</a></p><p class="categories"><a href="/categories/About-XJH/">About XJH</a> / <a href="/categories/About-XJH/%E6%98%8E%E6%85%B5/">明慵</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2023/11/12/%E6%96%AF%E7%89%B9%E6%9E%97%E5%BE%AA%E7%8E%AF/"><img src="/images/hot/022.png" alt="课题：斯特林发动机热力循环计算及分析"></a></figure><div class="media-content"><p class="date"><time dateTime="2023-11-11T21:56:58.000Z">2023-11-12</time></p><p class="title"><a href="/2023/11/12/%E6%96%AF%E7%89%B9%E6%9E%97%E5%BE%AA%E7%8E%AF/">课题：斯特林发动机热力循环计算及分析</a></p><p class="categories"><a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/">课程项目</a> / <a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A1/">工程设计</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2023/10/13/%E6%B0%94%E7%BC%B8%E6%B4%BB%E5%A1%9E%E6%8A%A5%E5%91%8A/"><img src="/images/qigang/06.png" alt="课题：发动机驱动部件的制作（气缸）"></a></figure><div class="media-content"><p class="date"><time dateTime="2023-10-12T17:49:58.000Z">2023-10-13</time></p><p class="title"><a href="/2023/10/13/%E6%B0%94%E7%BC%B8%E6%B4%BB%E5%A1%9E%E6%8A%A5%E5%91%8A/">课题：发动机驱动部件的制作（气缸）</a></p><p class="categories"><a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/">课程项目</a> / <a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A1/">工程设计</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2023/10/05/3.%E7%BA%BF%E6%80%A7%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"><img src="/images/phi.png" alt="3.线性神经网络"></a></figure><div class="media-content"><p class="date"><time dateTime="2023-10-05T08:20:00.000Z">2023-10-05</time></p><p class="title"><a href="/2023/10/05/3.%E7%BA%BF%E6%80%A7%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/">3.线性神经网络</a></p><p class="categories"><a href="/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">动手学深度学习</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2023/10/01/%E6%8A%A5%E5%91%8A/"><img src="/images/wall/3.jpg" alt="课题：典型建筑墙体的稳态传热分析"></a></figure><div class="media-content"><p class="date"><time dateTime="2023-10-01T10:08:58.000Z">2023-10-01</time></p><p class="title"><a href="/2023/10/01/%E6%8A%A5%E5%91%8A/">课题：典型建筑墙体的稳态传热分析</a></p><p class="categories"><a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/">课程项目</a> / <a href="/categories/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A1/">工程设计</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/02/"><span class="level-start"><span class="level-item">二月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/11/"><span class="level-start"><span class="level-item">十一月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/10/"><span class="level-start"><span class="level-item">十月 2023</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/09/"><span class="level-start"><span class="level-item">九月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/08/"><span class="level-start"><span class="level-item">八月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/07/"><span class="level-start"><span class="level-item">七月 2023</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/06/"><span class="level-start"><span class="level-item">六月 2023</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/05/"><span class="level-start"><span class="level-item">五月 2023</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/03/"><span class="level-start"><span class="level-item">三月 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">二月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/01/"><span class="level-start"><span class="level-item">一月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/10/"><span class="level-start"><span class="level-item">十月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/09/"><span class="level-start"><span class="level-item">九月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C++</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C51/"><span class="tag">C51</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CQU/"><span class="tag">CQU</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ChatGPT/"><span class="tag">ChatGPT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/FPGA/"><span class="tag">FPGA</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MATLAB/"><span class="tag">MATLAB</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/QQbot/"><span class="tag">QQbot</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RANSAC/"><span class="tag">RANSAC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ROS/"><span class="tag">ROS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/STM32/"><span class="tag">STM32</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ubuntu/"><span class="tag">Ubuntu</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/XJH/"><span class="tag">XJH</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BC%A0%E7%83%AD%E5%AD%A6/"><span class="tag">传热学</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%86%9B%E8%AE%AD/"><span class="tag">军训</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="tag">动手学深度学习</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%95%E7%89%87%E6%9C%BA/"><span class="tag">单片机</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/"><span class="tag">可视化</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB/"><span class="tag">图像识别</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="tag">学习笔记</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AE%9A%E9%87%8F%E5%88%86%E6%9E%90/"><span class="tag">定量分析</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B0%8F%E4%BD%9C%E6%96%87/"><span class="tag">小作文</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B0%8F%E8%BD%A6/"><span class="tag">小车</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B7%A5%E7%A8%8B%E7%83%AD%E5%8A%9B%E5%AD%A6/"><span class="tag">工程热力学</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"><span class="tag">年终总结</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%88%86%E6%9E%90/"><span class="tag">数据处理分析</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%96%AF%E7%89%B9%E6%9E%97%E5%8F%91%E5%8A%A8%E6%9C%BA/"><span class="tag">斯特林发动机</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%94%9F%E6%97%A5/"><span class="tag">生日</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"><span class="tag">碎碎念</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/"><span class="tag">线性代数</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%88%B9/"><span class="tag">船</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%B7%AF%E5%BE%84%E8%A7%84%E5%88%92/"><span class="tag">路径规划</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/title.png" alt="XJH&#039;s Secret Base" height="28"></a><p class="is-size-7"><span>&copy; 2024 明诚</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© Copyright by XJH 此心安处是吾乡。</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Asgard-Tim"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/chitose.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>